<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="language" content="en" />
        <link href="./assets/41d5631d/css/bootstrap.css" rel="stylesheet">
<link href="./assets/bad56eea/style.css" rel="stylesheet">
<script src="./assets/e17319cf/jquery.js"></script>
<script src="./assets/41d5631d/js/bootstrap.js"></script>
<script src="./assets/b52a7f0/jssearch.js"></script>    <title>Yii Framework 2.0 API Documentation</title>
</head>
<body>

<div class="wrap">
    <nav id="w1151" class="navbar-inverse navbar-fixed-top navbar" role="navigation"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#w1151-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="./index.html">Yii 2.0 API 文档</a></div><div id="w1151-collapse" class="collapse navbar-collapse"><ul id="w1152" class="navbar-nav nav"><li><a href="./index.html">类参考</a></li>
<li class="dropdown"><a class="dropdown-toggle" href="#" data-toggle="dropdown">扩展 <b class="caret"></b></a><ul id="w1153" class="dropdown-menu"><li><a href="./ext-apidoc-index.html" tabindex="-1">apidoc</a></li>
<li><a href="./ext-authclient-index.html" tabindex="-1">authclient</a></li>
<li><a href="./ext-bootstrap-index.html" tabindex="-1">bootstrap</a></li>
<li><a href="./ext-codeception-index.html" tabindex="-1">codeception</a></li>
<li><a href="./ext-composer-index.html" tabindex="-1">composer</a></li>
<li><a href="./ext-debug-index.html" tabindex="-1">debug</a></li>
<li><a href="./ext-elasticsearch-index.html" tabindex="-1">elasticsearch</a></li>
<li><a href="./ext-faker-index.html" tabindex="-1">faker</a></li>
<li><a href="./ext-gii-index.html" tabindex="-1">gii</a></li>
<li><a href="./ext-imagine-index.html" tabindex="-1">imagine</a></li>
<li><a href="./ext-jui-index.html" tabindex="-1">jui</a></li>
<li><a href="./ext-mongodb-index.html" tabindex="-1">mongodb</a></li>
<li><a href="./ext-redis-index.html" tabindex="-1">redis</a></li>
<li><a href="./ext-smarty-index.html" tabindex="-1">smarty</a></li>
<li><a href="./ext-sphinx-index.html" tabindex="-1">sphinx</a></li>
<li><a href="./ext-swiftmailer-index.html" tabindex="-1">swiftmailer</a></li>
<li><a href="./ext-twig-index.html" tabindex="-1">twig</a></li></ul></li>
<li><a href="./guide-README.html">权威指南</a></li>
<li class="dropdown"><a class="dropdown-toggle" href="#" data-toggle="dropdown">Github <b class="caret"></b></a><ul id="w1154" class="dropdown-menu"><li><a href="https://github.com/yiisoft/yii2" tabindex="-1">Yii 2.0</a></li>
<li><a href="https://github.com/yii2-chinesization/yii2-zh-cn" tabindex="-1">Yii 2.0 中文化项目</a></li>
<li><a href="https://github.com/AbrahamGreyson/abrahamgreyson.github.io" tabindex="-1">docwithcn.com</a></li></ul></li></ul><div class="navbar-form navbar-left" role="search">
  <div class="form-group">
    <input id="searchbox" type="text" class="form-control" placeholder="Search">
  </div>
</div>
</div></nav>
    <div id="search-resultbox" style="display: none;" class="modal-content">
        <ul id="search-results">
        </ul>
    </div>

    
<div class="row">
    <div class="col-md-2">
                <div id="navigation" class="list-group"><a class="list-group-item" href="#navigation-1134" data-toggle="collapse" data-parent="#navigation">介绍 <b class="caret"></b></a><div id="navigation-1134" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-intro-yii.html">�
�于 Yii</a>
<a class="list-group-item" href="./guide-intro-upgrade-from-v1.html">从 Yii 1.1 升级</a></div>
<a class="list-group-item" href="#navigation-1135" data-toggle="collapse" data-parent="#navigation">�门 <b class="caret"></b></a><div id="navigation-1135" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-start-installation.html">安�
 Yii</a>
<a class="list-group-item" href="./guide-start-workflow.html">运行应用</a>
<a class="list-group-item" href="./guide-start-hello.html">第一次问候</a>
<a class="list-group-item" href="./guide-start-forms.html">使用 Forms</a>
<a class="list-group-item" href="./guide-start-databases.html">玩转 Databases</a>
<a class="list-group-item" href="./guide-start-gii.html">用 Gii 生成代码</a>
<a class="list-group-item" href="./guide-start-looking-ahead.html">更上一层楼</a></div>
<a class="list-group-item" href="#navigation-1136" data-toggle="collapse" data-parent="#navigation">应用结构 <b class="caret"></b></a><div id="navigation-1136" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-structure-overview.html">结构概述</a>
<a class="list-group-item" href="./guide-structure-entry-scripts.html">�
�口脚本</a>
<a class="list-group-item" href="./guide-structure-applications.html">应用</a>
<a class="list-group-item" href="./guide-structure-application-components.html">应用组件</a>
<a class="list-group-item" href="./guide-structure-controllers.html">控制器（Controller）</a>
<a class="list-group-item" href="./guide-structure-views.html">视图（View）</a>
<a class="list-group-item" href="./guide-structure-models.html">模型（Model）</a>
<a class="list-group-item" href="./guide-structure-filters.html">过滤器</a>
<a class="list-group-item" href="./guide-structure-widgets.html">小部件（Widget）</a>
<a class="list-group-item" href="./guide-structure-modules.html">模块（Module）</a>
<a class="list-group-item" href="./guide-structure-assets.html">前端资源（Asset）</a>
<a class="list-group-item" href="./guide-structure-extensions.html">扩展（extensions）</a></div>
<a class="list-group-item active" href="#navigation-1137" data-toggle="collapse" data-parent="#navigation">请求处理 <b class="caret"></b></a><div id="navigation-1137" class="submenu panel-collapse collapse in"><a class="list-group-item" href="./guide-runtime-overview.html">运行概述</a>
<a class="list-group-item" href="./guide-runtime-bootstrapping.html">引导（Bootstrapping）</a>
<a class="list-group-item" href="./guide-runtime-routing.html">路由（Routing）</a>
<a class="list-group-item" href="./guide-runtime-requests.html">请求（Request）</a>
<a class="list-group-item" href="./guide-runtime-responses.html">响应（Response）</a>
<a class="list-group-item active" href="./guide-runtime-sessions-cookies.html">Sessions（会话）和 Cookies</a>
<a class="list-group-item" href="./guide-runtime-url-handling.html">URL 解析和生成</a>
<a class="list-group-item" href="./guide-runtime-handling-errors.html">错误处理</a>
<a class="list-group-item" href="./guide-runtime-logging.html">日志</a></div>
<a class="list-group-item" href="#navigation-1138" data-toggle="collapse" data-parent="#navigation">�键概念 <b class="caret"></b></a><div id="navigation-1138" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-concept-components.html">组件（Component）</a>
<a class="list-group-item" href="./guide-concept-properties.html">属性（Property）</a>
<a class="list-group-item" href="./guide-concept-events.html">事件（Event）</a>
<a class="list-group-item" href="./guide-concept-behaviors.html">行为（Behavior）</a>
<a class="list-group-item" href="./guide-concept-configurations.html">�
�置（Configurations）</a>
<a class="list-group-item" href="./guide-concept-autoloading.html">类自动加载（Autoloading）</a>
<a class="list-group-item" href="./guide-concept-alias.html">别名（Alias）</a>
<a class="list-group-item" href="./guide-concept-service-locator.html">服务定位器（Service Locator）</a>
<a class="list-group-item" href="./guide-concept-di-container.html">依赖注�
�容器（DI Container）</a></div>
<a class="list-group-item" href="#navigation-1139" data-toggle="collapse" data-parent="#navigation">�合数据库工作 <b class="caret"></b></a><div id="navigation-1139" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-db-dao.html">数据访问对象（DAO）</a>
<a class="list-group-item" href="./guide-db-query-builder.html">查询生成器（Query Builder）</a>
<a class="list-group-item" href="./guide-db-active-record.html">活动记录（Active Record）</a>
<a class="list-group-item" href="./guide-db-migrations.html">数据库迁移（Migration）</a>
<a class="list-group-item" href="./guide-db-sphinx.html">Sphinx</a>
<a class="list-group-item" href="./guide-db-redis.html">Redis</a>
<a class="list-group-item" href="./guide-db-mongodb.html">MongoDB</a>
<a class="list-group-item" href="./guide-db-elastic-search.html">ElasticSearch</a></div>
<a class="list-group-item" href="#navigation-1140" data-toggle="collapse" data-parent="#navigation">接收用户数据 <b class="caret"></b></a><div id="navigation-1140" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-input-forms.html">创建表单</a>
<a class="list-group-item" href="./guide-input-validation.html">输�
�验证</a>
<a class="list-group-item" href="./guide-input-file-uploading.html">文件上传</a>
<a class="list-group-item" href="./guide-input-multiple-models.html">多模型同时输�
�</a></div>
<a class="list-group-item" href="#navigation-1141" data-toggle="collapse" data-parent="#navigation">显示数据 <b class="caret"></b></a><div id="navigation-1141" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-output-formatter.html">格式化输出数据</a>
<a class="list-group-item" href="./guide-output-pagination.html">分页（Pagination）</a>
<a class="list-group-item" href="./guide-output-sorting.html">排序（Sorting）</a>
<a class="list-group-item" href="./guide-output-data-providers.html">数据提供器</a>
<a class="list-group-item" href="./guide-output-data-widgets.html">数据小部件</a>
<a class="list-group-item" href="./guide-output-theming.html">主题</a></div>
<a class="list-group-item" href="#navigation-1142" data-toggle="collapse" data-parent="#navigation">� <b class="caret"></b></a><div id="navigation-1142" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-security-authentication.html">认证（Authentication）</a>
<a class="list-group-item" href="./guide-security-authorization.html">授权（Authorization）</a>
<a class="list-group-item" href="./guide-security-passwords.html">处理密码</a>
<a class="list-group-item" href="./guide-security-auth-clients.html">客户端认证</a>
<a class="list-group-item" href="./guide-security-best-practices.html">安�
�领域的最佳实践</a></div>
<a class="list-group-item" href="#navigation-1143" data-toggle="collapse" data-parent="#navigation">缓存 <b class="caret"></b></a><div id="navigation-1143" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-caching-overview.html">概述</a>
<a class="list-group-item" href="./guide-caching-data.html">数据缓存</a>
<a class="list-group-item" href="./guide-caching-fragment.html">片段缓存</a>
<a class="list-group-item" href="./guide-caching-page.html">分页缓存</a>
<a class="list-group-item" href="./guide-caching-http.html">HTTP 缓存</a></div>
<a class="list-group-item" href="#navigation-1144" data-toggle="collapse" data-parent="#navigation">RESTful Web 服务 <b class="caret"></b></a><div id="navigation-1144" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-rest-quick-start.html">快速�
�门</a>
<a class="list-group-item" href="./guide-rest-resources.html">资源</a>
<a class="list-group-item" href="./guide-rest-routing.html">路由</a>
<a class="list-group-item" href="./guide-rest-response-formatting.html">格式化响应</a>
<a class="list-group-item" href="./guide-rest-authentication.html">授权验证</a>
<a class="list-group-item" href="./guide-rest-rate-limiting.html">速率限制</a>
<a class="list-group-item" href="./guide-rest-versioning.html">版本化</a>
<a class="list-group-item" href="./guide-rest-error-handling.html">错误处理</a>
<a class="list-group-item" href="./guide-rest-testing.html">测试</a></div>
<a class="list-group-item" href="#navigation-1145" data-toggle="collapse" data-parent="#navigation">� <b class="caret"></b></a><div id="navigation-1145" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-tool-debugger.html">调试工�
�栏和调试器</a>
<a class="list-group-item" href="./guide-tool-gii.html">使用 Gii 生成代码</a>
<a class="list-group-item" href="./guide-tool-api-doc.html">生成 API 文档</a></div>
<a class="list-group-item" href="#navigation-1146" data-toggle="collapse" data-parent="#navigation">测试 <b class="caret"></b></a><div id="navigation-1146" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-test-overview.html">概述</a>
<a class="list-group-item" href="./guide-test-endvironment-setup.html">搭建测试环境</a>
<a class="list-group-item" href="./guide-test-unit.html">单�
�测试</a>
<a class="list-group-item" href="./guide-test-functional.html">功能测试</a>
<a class="list-group-item" href="./guide-test-acceptance.html">验收测试</a>
<a class="list-group-item" href="./guide-test-fixtures.html">测试夹�
�</a></div>
<a class="list-group-item" href="#navigation-1147" data-toggle="collapse" data-parent="#navigation">高级专题 <b class="caret"></b></a><div id="navigation-1147" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-tutorial-advanced-app.html">高级应用模版</a>
<a class="list-group-item" href="./guide-tutorial-start-from-scratch.html">从头构建自定义模版</a>
<a class="list-group-item" href="./guide-tutorial-console.html">控制台命令</a>
<a class="list-group-item" href="./guide-tutorial-core-validators.html">核心验证器</a>
<a class="list-group-item" href="./guide-tutorial-i18n.html">国�
化</a>
<a class="list-group-item" href="./guide-tutorial-mailing.html">收发邮件</a>
<a class="list-group-item" href="./guide-tutorial-performance-tuning.html">性能优化</a>
<a class="list-group-item" href="./guide-tutorial-shared-hosting.html">�
�享主机环境</a>
<a class="list-group-item" href="./guide-tutorial-template-engines.html">模板引擎</a>
<a class="list-group-item" href="./guide-tutorial-yii-integration.html">集成第三方代码</a></div>
<a class="list-group-item" href="#navigation-1148" data-toggle="collapse" data-parent="#navigation">小部件 <b class="caret"></b></a><div id="navigation-1148" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-widget-bootstrap.html">Bootstrap 小部件</a>
<a class="list-group-item" href="./guide-widget-jui.html">Jquery UI 小部件</a></div>
<a class="list-group-item" href="#navigation-1149" data-toggle="collapse" data-parent="#navigation">助手类 <b class="caret"></b></a><div id="navigation-1149" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-helper-overview.html">助手一览</a>
<a class="list-group-item" href="./guide-helper-array.html">ArrayHelper</a>
<a class="list-group-item" href="./guide-helper-html.html">Html</a>
<a class="list-group-item" href="./guide-helper-url.html">Url</a>
<a class="list-group-item" href="./guide-helper-security.html">security</a></div>
<a class="list-group-item" href="#navigation-1150" data-toggle="collapse" data-parent="#navigation">的文件 <b class="caret"></b></a><div id="navigation-1150" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-glossary.html">glossary</a></div></div>    </div>
    <div class="col-md-9 guide-content" role="main">
        <h1>Sessions and Cookies <a href="#sessions-and-cookies" name="sessions-and-cookies" class="hashlink">&para;</a></h1><p>Sessions and cookies allow data to be persisted across multiple user requests. In plain PHP, you may access them
through the global variables <code>$_SESSION</code> and <code>$_COOKIE</code>, respectively. Yii encapsulates sessions and cookies as objects
and thus allows you to access them in an object-oriented fashion with additional nice enhancements.</p>
<h2>Sessions <a name="sessions"></a> <a href="#sessions" name="sessions" class="hashlink">&para;</a></h2><p>Like <a href="guide-runtime-requests.html">requests</a> and <a href="guide-runtime-responses.html">responses</a>, you can get access to sessions via
the <code>session</code> <a href="guide-structure-application-components.html">application component</a> which is an instance of <a href="./yii-web-session.html">yii\web\Session</a>,
by default.</p>
<h3>Opening and Closing Sessions <a name="opening-closing-sessions"></a> <a href="#opening-and-closing-sessions" name="opening-and-closing-sessions" class="hashlink">&para;</a></h3><p>To open and close a session, you can do the following:</p>
<pre><code class="language-php"><span style="color: #0000BB">$session&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">$app</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">session</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;check&nbsp;if&nbsp;a&nbsp;session&nbsp;is&nbsp;already&nbsp;open<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$session</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isActive</span><span style="color: #007700">)&nbsp;...<br /><br /></span><span style="color: #FF8000">//&nbsp;open&nbsp;a&nbsp;session<br /></span><span style="color: #0000BB">$session</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">open</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;close&nbsp;a&nbsp;session<br /></span><span style="color: #0000BB">$session</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">close</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;destroys&nbsp;all&nbsp;data&nbsp;registered&nbsp;to&nbsp;a&nbsp;session.<br /></span><span style="color: #0000BB">$session</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">destroy</span><span style="color: #007700">();</span></code></pre>
<p>You can call the <a href="./yii-web-session.html#open()-detail">open()</a> and <a href="./yii-web-session.html#close()-detail">close()</a> multiple times
without causing errors. This is because internally the methods will first check if the session is already opened.</p>
<h3>Accessing Session Data <a name="access-session-data"></a> <a href="#accessing-session-data" name="accessing-session-data" class="hashlink">&para;</a></h3><p>To access the data stored in session, you can do the following:</p>
<pre><code class="language-php"><span style="color: #0000BB">$session&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">$app</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">session</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;get&nbsp;a&nbsp;session&nbsp;variable.&nbsp;The&nbsp;following&nbsp;usages&nbsp;are&nbsp;equivalent:<br /></span><span style="color: #0000BB">$language&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$session</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #DD0000">'language'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$language&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$session</span><span style="color: #007700">[</span><span style="color: #DD0000">'language'</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">$language&nbsp;</span><span style="color: #007700">=&nbsp;isset(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'language'</span><span style="color: #007700">])&nbsp;?&nbsp;</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'language'</span><span style="color: #007700">]&nbsp;:&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;set&nbsp;a&nbsp;session&nbsp;variable.&nbsp;The&nbsp;following&nbsp;usages&nbsp;are&nbsp;equivalent:<br /></span><span style="color: #0000BB">$session</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">set</span><span style="color: #007700">(</span><span style="color: #DD0000">'language'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'en-US'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$session</span><span style="color: #007700">[</span><span style="color: #DD0000">'language'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">'en-US'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'language'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">'en-US'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;remove&nbsp;a&nbsp;session&nbsp;variable.&nbsp;The&nbsp;following&nbsp;usages&nbsp;are&nbsp;equivalent:<br /></span><span style="color: #0000BB">$session</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">remove</span><span style="color: #007700">(</span><span style="color: #DD0000">'language'</span><span style="color: #007700">);<br />unset(</span><span style="color: #0000BB">$session</span><span style="color: #007700">[</span><span style="color: #DD0000">'language'</span><span style="color: #007700">]);<br />unset(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'language'</span><span style="color: #007700">]);<br /><br /></span><span style="color: #FF8000">//&nbsp;check&nbsp;if&nbsp;a&nbsp;session&nbsp;variable&nbsp;exists.&nbsp;The&nbsp;following&nbsp;usages&nbsp;are&nbsp;equivalent:<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$session</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">has</span><span style="color: #007700">(</span><span style="color: #DD0000">'language'</span><span style="color: #007700">))&nbsp;...<br />if&nbsp;(isset(</span><span style="color: #0000BB">$session</span><span style="color: #007700">[</span><span style="color: #DD0000">'language'</span><span style="color: #007700">]))&nbsp;...<br />if&nbsp;(isset(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'language'</span><span style="color: #007700">]))&nbsp;...<br /><br /></span><span style="color: #FF8000">//&nbsp;traverse&nbsp;all&nbsp;session&nbsp;variables.&nbsp;The&nbsp;following&nbsp;usages&nbsp;are&nbsp;equivalent:<br /></span><span style="color: #007700">foreach&nbsp;(</span><span style="color: #0000BB">$session&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;...<br />foreach&nbsp;(</span><span style="color: #0000BB">$_SESSION&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;...</span></code></pre>
<blockquote><p>Info: When you access session data through the <code>session</code> component, a session will be automatically opened
if it has not been done so before. This is different from accessing session data through <code>$_SESSION</code>, which requires
an explicit call of <code>session_start()</code>.</p>
</blockquote>
<p>When working with session data that are arrays, the <code>session</code> component has a limitation which prevents you from
directly modifying an array element. For example,</p>
<pre><code class="language-php"><span style="color: #0000BB">$session&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">$app</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">session</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;the&nbsp;following&nbsp;code&nbsp;will&nbsp;NOT&nbsp;work<br /></span><span style="color: #0000BB">$session</span><span style="color: #007700">[</span><span style="color: #DD0000">'captcha'</span><span style="color: #007700">][</span><span style="color: #DD0000">'number'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$session</span><span style="color: #007700">[</span><span style="color: #DD0000">'captcha'</span><span style="color: #007700">][</span><span style="color: #DD0000">'lifetime'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">3600</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;the&nbsp;following&nbsp;code&nbsp;works:<br /></span><span style="color: #0000BB">$session</span><span style="color: #007700">[</span><span style="color: #DD0000">'captcha'</span><span style="color: #007700">]&nbsp;=&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'number'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'lifetime'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3600</span><span style="color: #007700">,<br />];<br /><br /></span><span style="color: #FF8000">//&nbsp;the&nbsp;following&nbsp;code&nbsp;also&nbsp;works:<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$session</span><span style="color: #007700">[</span><span style="color: #DD0000">'captcha'</span><span style="color: #007700">][</span><span style="color: #DD0000">'lifetime'</span><span style="color: #007700">];</span></code></pre>
<p>You can use one of the following workarounds to solve this problem:</p>
<pre><code class="language-php"><span style="color: #0000BB">$session&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">$app</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">session</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;directly&nbsp;use&nbsp;$_SESSION&nbsp;(make&nbsp;sure&nbsp;Yii::$app-&gt;session-&gt;open()&nbsp;has&nbsp;been&nbsp;called)<br /></span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'captcha'</span><span style="color: #007700">][</span><span style="color: #DD0000">'number'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'captcha'</span><span style="color: #007700">][</span><span style="color: #DD0000">'lifetime'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">3600</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;get&nbsp;the&nbsp;whole&nbsp;array&nbsp;out&nbsp;first,&nbsp;modify&nbsp;it&nbsp;and&nbsp;then&nbsp;save&nbsp;it&nbsp;back<br /></span><span style="color: #0000BB">$captcha&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$session</span><span style="color: #007700">[</span><span style="color: #DD0000">'captcha'</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">$captcha</span><span style="color: #007700">[</span><span style="color: #DD0000">'number'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$captcha</span><span style="color: #007700">[</span><span style="color: #DD0000">'lifetime'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">3600</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$session</span><span style="color: #007700">[</span><span style="color: #DD0000">'captcha'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$captcha</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;use&nbsp;ArrayObject&nbsp;instead&nbsp;of&nbsp;array<br /></span><span style="color: #0000BB">$session</span><span style="color: #007700">[</span><span style="color: #DD0000">'captcha'</span><span style="color: #007700">]&nbsp;=&nbsp;new&nbsp;\</span><span style="color: #0000BB">ArrayObject</span><span style="color: #007700">;<br />...<br /></span><span style="color: #0000BB">$session</span><span style="color: #007700">[</span><span style="color: #DD0000">'captcha'</span><span style="color: #007700">][</span><span style="color: #DD0000">'number'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$session</span><span style="color: #007700">[</span><span style="color: #DD0000">'captcha'</span><span style="color: #007700">][</span><span style="color: #DD0000">'lifetime'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">3600</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;store&nbsp;array&nbsp;data&nbsp;by&nbsp;keys&nbsp;with&nbsp;common&nbsp;prefix<br /></span><span style="color: #0000BB">$session</span><span style="color: #007700">[</span><span style="color: #DD0000">'captcha.number'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$session</span><span style="color: #007700">[</span><span style="color: #DD0000">'captcha.lifetime'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">3600</span><span style="color: #007700">;</span></code></pre>
<p>For better performance and code readability, we recommend the last workaround. That is, instead of storing
an array as a single session variable, you store each array element as a session variable which shares the same
key prefix with other array elements.</p>
<h3>Custom Session Storage <a name="custom-session-storage"></a> <a href="#custom-session-storage" name="custom-session-storage" class="hashlink">&para;</a></h3><p>The default <a href="./yii-web-session.html">yii\web\Session</a> class stores session data as files on the server. Yii also provides the following
session classes implementing different session storage:</p>
<ul>
<li><a href="./yii-web-dbsession.html">yii\web\DbSession</a>: stores session data in a database table.</li>
<li><a href="./yii-web-cachesession.html">yii\web\CacheSession</a>: stores session data in a cache with the help of a configured <a href="guide-caching-data.html#cache-components">cache component</a>.</li>
<li><a href="./yii-redis-session.html">yii\redis\Session</a>: stores session data using <a href="http://redis.io/">redis</a> as the storage medium.</li>
<li><a href="./yii-mongodb-session.html">yii\mongodb\Session</a>: stores session data in a <a href="http://www.mongodb.org/">MongoDB</a>.</li>
</ul>
<p>All these session classes support the same set of API methods. As a result, you can switch to use a different
session storage without the need to modify your application code that uses session.</p>
<blockquote><p>Note: If you want to access session data via <code>$_SESSION</code> while using custom session storage, you must make
  sure that the session is already started by <a href="./yii-web-session.html#open()-detail">yii\web\Session::open()</a>. This is because custom session storage
  handlers are registered within this method.</p>
</blockquote>
<p>To learn how to configure and use these component classes, please refer to their API documentation. Below is
an example showing how to configure <a href="./yii-web-dbsession.html">yii\web\DbSession</a> in the application configuration to use database table
as session storage:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">return&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'components'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'session'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'class'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'yii\web\DbSession'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;'db'&nbsp;=&gt;&nbsp;'mydb',&nbsp;&nbsp;//&nbsp;the&nbsp;application&nbsp;component&nbsp;ID&nbsp;of&nbsp;the&nbsp;DB&nbsp;connection.&nbsp;Defaults&nbsp;to&nbsp;'db'.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;'sessionTable'&nbsp;=&gt;&nbsp;'my_session',&nbsp;//&nbsp;session&nbsp;table&nbsp;name.&nbsp;Defaults&nbsp;to&nbsp;'session'.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;],<br />];</span></code></pre>
<p>You also need to create the following database table to store session data:</p>
<pre><code class="language-sql">CREATE TABLE session
(
    id CHAR(40) NOT NULL PRIMARY KEY,
    expire INTEGER,
    data BLOB
)
</code></pre>
<p>where 'BLOB' refers to the BLOB-type of your preferred DBMS. Below are the BLOB type that can be used for some popular DBMS:</p>
<ul>
<li>MySQL: LONGBLOB</li>
<li>PostgreSQL: BYTEA</li>
<li>MSSQL: BLOB</li>
</ul>
<blockquote><p>Note: According to the php.ini setting of <code>session.hash_function</code>, you may need to adjust
  the length of the <code>id</code> column. For example, if <code>session.hash_function=sha256</code>, you should use
  length 64 instead of 40.</p>
</blockquote>
<h3>Flash Data <a name="flash-data"></a> <a href="#flash-data" name="flash-data" class="hashlink">&para;</a></h3><p>Flash data is a special kind of session data which, once set in one request, will only be available during
the next request and will be automatically deleted afterwards. Flash data is most commonly used to implement
messages that should only be displayed to end users once, such as a confirmation message displayed after
a user successfully submits a form.</p>
<p>You can set and access flash data through the <code>session</code> application component. For example,</p>
<pre><code class="language-php"><span style="color: #0000BB">$session&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">$app</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">session</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Request&nbsp;#1<br />//&nbsp;set&nbsp;a&nbsp;flash&nbsp;message&nbsp;named&nbsp;as&nbsp;"postDeleted"<br /></span><span style="color: #0000BB">$session</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setFlash</span><span style="color: #007700">(</span><span style="color: #DD0000">'postDeleted'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'You&nbsp;have&nbsp;successfully&nbsp;deleted&nbsp;your&nbsp;post.'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Request&nbsp;#2<br />//&nbsp;display&nbsp;the&nbsp;flash&nbsp;message&nbsp;named&nbsp;"postDeleted"<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$session</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFlash</span><span style="color: #007700">(</span><span style="color: #DD0000">'postDeleted'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Request&nbsp;#3<br />//&nbsp;$result&nbsp;will&nbsp;be&nbsp;false&nbsp;since&nbsp;the&nbsp;flash&nbsp;message&nbsp;was&nbsp;automatically&nbsp;deleted<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$session</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">hasFlash</span><span style="color: #007700">(</span><span style="color: #DD0000">'postDeleted'</span><span style="color: #007700">);</span></code></pre>
<p>Like regular session data, you can store arbitrary data as flash data.</p>
<p>When you call <a href="./yii-web-session.html#setFlash()-detail">yii\web\Session::setFlash()</a>, it will overwrite any existing flash data that has the same name.
To append new flash data to the existing one(s) of the same name, you may call <a href="./yii-web-session.html#addFlash()-detail">yii\web\Session::addFlash()</a> instead.
For example:</p>
<pre><code class="language-php"><span style="color: #0000BB">$session&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">$app</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">session</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Request&nbsp;#1<br />//&nbsp;add&nbsp;a&nbsp;few&nbsp;flash&nbsp;messages&nbsp;under&nbsp;the&nbsp;name&nbsp;of&nbsp;"alerts"<br /></span><span style="color: #0000BB">$session</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addFlash</span><span style="color: #007700">(</span><span style="color: #DD0000">'alerts'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'You&nbsp;have&nbsp;successfully&nbsp;deleted&nbsp;your&nbsp;post.'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$session</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addFlash</span><span style="color: #007700">(</span><span style="color: #DD0000">'alerts'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'You&nbsp;have&nbsp;successfully&nbsp;added&nbsp;a&nbsp;new&nbsp;friend.'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$session</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addFlash</span><span style="color: #007700">(</span><span style="color: #DD0000">'alerts'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'You&nbsp;are&nbsp;promoted.'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Request&nbsp;#2<br />//&nbsp;$alerts&nbsp;is&nbsp;an&nbsp;array&nbsp;of&nbsp;the&nbsp;flash&nbsp;messages&nbsp;under&nbsp;the&nbsp;name&nbsp;of&nbsp;"alerts"<br /></span><span style="color: #0000BB">$alerts&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$session</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFlash</span><span style="color: #007700">(</span><span style="color: #DD0000">'alerts'</span><span style="color: #007700">);</span></code></pre>
<blockquote><p>Note: Try not to use <a href="./yii-web-session.html#setFlash()-detail">yii\web\Session::setFlash()</a> together with <a href="./yii-web-session.html#addFlash()-detail">yii\web\Session::addFlash()</a> for flash data
  of the same name. This is because the latter method will automatically turn the flash data into an array so that it
  can append new flash data of the same name. As a result, when you call <a href="./yii-web-session.html#getFlash()-detail">yii\web\Session::getFlash()</a>, you may
  find sometimes you are getting an array while sometimes you are getting a string, depending on the order of
  the invocation of these two methods.</p>
</blockquote>
<h2>Cookies <a name="cookies"></a> <a href="#cookies" name="cookies" class="hashlink">&para;</a></h2><p>Yii represents each cookie as an object of <a href="./yii-web-cookie.html">yii\web\Cookie</a>. Both <a href="./yii-web-request.html">yii\web\Request</a> and <a href="./yii-web-response.html">yii\web\Response</a>
maintain a collection of cookies via the property named <code>cookies</code>. The cookie collection in the former represents
the cookies submitted in a request, while the cookie collection in the latter represents the cookies that are to
be sent to the user.</p>
<h3>Reading Cookies <a name="reading-cookies"></a> <a href="#reading-cookies" name="reading-cookies" class="hashlink">&para;</a></h3><p>You can get the cookies in the current request using the following code:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #FF8000">//&nbsp;get&nbsp;the&nbsp;cookie&nbsp;collection&nbsp;(yii\web\CookieCollection)&nbsp;from&nbsp;"request"&nbsp;component<br /></span><span style="color: #0000BB">$cookies&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">$app</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cookies</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;get&nbsp;the&nbsp;"language"&nbsp;cookie&nbsp;value.&nbsp;If&nbsp;the&nbsp;cookie&nbsp;does&nbsp;not&nbsp;exist,&nbsp;return&nbsp;"en"&nbsp;as&nbsp;the&nbsp;default&nbsp;value.<br /></span><span style="color: #0000BB">$language&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$cookies</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getValue</span><span style="color: #007700">(</span><span style="color: #DD0000">'language'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'en'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;an&nbsp;alternative&nbsp;way&nbsp;of&nbsp;getting&nbsp;the&nbsp;"language"&nbsp;cookie&nbsp;value<br /></span><span style="color: #007700">if&nbsp;((</span><span style="color: #0000BB">$cookie&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$cookies</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #DD0000">'language'</span><span style="color: #007700">))&nbsp;!==&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$language&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$cookie</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">value</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;you&nbsp;may&nbsp;also&nbsp;use&nbsp;$cookies&nbsp;like&nbsp;an&nbsp;array<br /></span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$cookies</span><span style="color: #007700">[</span><span style="color: #DD0000">'language'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$language&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$cookies</span><span style="color: #007700">[</span><span style="color: #DD0000">'language'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">value</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;check&nbsp;if&nbsp;there&nbsp;is&nbsp;a&nbsp;"language"&nbsp;cookie<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$cookies</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">has</span><span style="color: #007700">(</span><span style="color: #DD0000">'language'</span><span style="color: #007700">))&nbsp;...<br />if&nbsp;(isset(</span><span style="color: #0000BB">$cookies</span><span style="color: #007700">[</span><span style="color: #DD0000">'language'</span><span style="color: #007700">]))&nbsp;...</span></code></pre>
<h3>Sending Cookies <a name="sending-cookies"></a> <a href="#sending-cookies" name="sending-cookies" class="hashlink">&para;</a></h3><p>You can send cookies to end users using the following code:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #FF8000">//&nbsp;get&nbsp;the&nbsp;cookie&nbsp;collection&nbsp;(yii\web\CookieCollection)&nbsp;from&nbsp;"response"&nbsp;component<br /></span><span style="color: #0000BB">$cookies&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">$app</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">response</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cookies</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;add&nbsp;a&nbsp;new&nbsp;cookie&nbsp;to&nbsp;the&nbsp;response&nbsp;to&nbsp;be&nbsp;sent<br /></span><span style="color: #0000BB">$cookies</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(new&nbsp;\</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">web</span><span style="color: #007700">\</span><span style="color: #0000BB">Cookie</span><span style="color: #007700">([<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'name'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'language'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'value'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'zh-CN'</span><span style="color: #007700">,<br />]));<br /><br /></span><span style="color: #FF8000">//&nbsp;remove&nbsp;a&nbsp;cookie<br /></span><span style="color: #0000BB">$cookies</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">remove</span><span style="color: #007700">(</span><span style="color: #DD0000">'language'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;equivalent&nbsp;to&nbsp;the&nbsp;following<br /></span><span style="color: #007700">unset(</span><span style="color: #0000BB">$cookies</span><span style="color: #007700">[</span><span style="color: #DD0000">'language'</span><span style="color: #007700">]);</span></code></pre>
<p>Besides the <a href="./yii-web-cookie.html#$name-detail">name</a>, <a href="./yii-web-cookie.html#$value-detail">value</a> properties shown in the above
examples, the <a href="./yii-web-cookie.html">yii\web\Cookie</a> class also defines other properties to fully represent all possible information
of cookies, such as <a href="./yii-web-cookie.html#$domain-detail">domain</a>, <a href="./yii-web-cookie.html#$expire-detail">expire</a>. You may configure these
properties as needed to prepare a cookie and then add it to the response's cookie collection.</p>
<blockquote><p>Note: For better security, the default value of <a href="./yii-web-cookie.html#$httpOnly-detail">yii\web\Cookie::$httpOnly</a> is set true. This helps mitigate
the risk of client side script accessing the protected cookie (if the browser supports it). You may read
the <a href="https://www.owasp.org/index.php/HttpOnly">httpOnly wiki article</a> for more details.</p>
</blockquote>
<h3>Cookie Validation <a name="cookie-validation"></a> <a href="#cookie-validation" name="cookie-validation" class="hashlink">&para;</a></h3><p>When you are reading and sending cookies through the <code>request</code> and <code>response</code> components like shown in the last
two subsections, you enjoy the added security of cookie validation which protects cookies from being modified
on the client side. This is achieved by signing each cookie with a hash string, which allows the application to
tell if a cookie is modified on the client side or not. If so, the cookie will NOT be accessible through the
<a href="./yii-web-request.html#$cookies-detail">cookie collection</a> of the <code>request</code> component.</p>
<blockquote><p>Note: Cookie validation only protects cookie values from being modified. If a cookie fails the validation, 
you may still access it through <code>$_COOKIE</code>. This is because third-party libraries may manipulate cookies 
in their own way, which does not involve cookie validation.</p>
</blockquote>
<p>Cookie validation is enabled by default. You can disable it by setting the <a href="./yii-web-request.html#$enableCookieValidation-detail">yii\web\Request::$enableCookieValidation</a>
property to be false, although we strongly recommend you do not do so.</p>
<blockquote><p>Note: Cookies that are directly read/sent via <code>$_COOKIE</code> and <code>setcookie()</code> will NOT be validated.</p>
</blockquote>
<p>When using cookie validation, you must specify a <a href="./yii-web-request.html#$cookieValidationKey-detail">yii\web\Request::$cookieValidationKey</a> that will be used to generate
the aforementioned hash strings. You can do so by configuring the <code>request</code> component in the application configuration:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">return&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'components'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'request'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'cookieValidationKey'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'fill&nbsp;in&nbsp;a&nbsp;secret&nbsp;key&nbsp;here'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;&nbsp;],<br />];</span></code></pre>
<blockquote><p>Info: <a href="./yii-web-request.html#$cookieValidationKey-detail">cookieValidationKey</a> is critical to your application's security.
  It should only be known to people you trust. Do not store it in version control system.</p>
</blockquote>
        <div class="toplink"><a href="#" class="h1" title="go to top"><span class="glyphicon glyphicon-arrow-up"></a></div>
    </div>
</div>


</div>

<footer class="footer">
        <p class="pull-right"><small>Page generated on Fri, 24 Oct 2014 21:13:59 +0200</small></p>
    Powered by <a href="http://www.yiiframework.com/" rel="external">Yii Framework</a></footer>

<script type="text/javascript">jQuery(document).ready(function () {
    var shiftWindow = function () { scrollBy(0, -50) };
    if (location.hash) shiftWindow();
    window.addEventListener("hashchange", shiftWindow);
var element = document.createElement("script");
element.src = "./jssearch.index.js";
document.body.appendChild(element);

var searchBox = $('#searchbox');

// focus the search field
searchBox.focus();

// search when typing in search field
searchBox.on("keyup", function(event) {
    var query = $(this).val();

    if (query == '' || event.which == 27) {
        $('#search-resultbox').hide();
        return;
    } else if (event.which == 13) {
        var selectedLink = $('#search-resultbox a.selected');
        if (selectedLink.length != 0) {
            document.location = selectedLink.attr('href');
            return;
        }
    } else if (event.which == 38 || event.which == 40) {
        $('#search-resultbox').show();

        var selected = $('#search-resultbox a.selected');
        if (selected.length == 0) {
            $('#search-results').find('a').first().addClass('selected');
        } else {
            var next;
            if (event.which == 40) {
                next = selected.parent().next().find('a').first();
            } else {
                next = selected.parent().prev().find('a').first();
            }
            if (next.length != 0) {
                var resultbox = $('#search-results');
                var position = next.position();

//              TODO scrolling is buggy and jumps around
//                resultbox.scrollTop(Math.floor(position.top));
//                console.log(position.top);

                selected.removeClass('selected');
                next.addClass('selected');
            }
        }

        return;
    }
    $('#search-resultbox').show();
    $('#search-results').html('<li><span class="no-results">No results</span></li>');

    var result = jssearch.search(query);

    if (result.length > 0) {
        var i = 0;
        var resHtml = '';

        for (var key in result) {
            if (i++ > 20) {
                break;
            }
            resHtml = resHtml +
            '<li><a href="' + result[key].file.u.substr(3) +'"><span class="title">' + result[key].file.t + '</span>' +
            '<span class="description">' + result[key].file.d + '</span></a></li>';
        }
        $('#search-results').html(resHtml);
    }
});

// hide the search results on ESC
$(document).on("keyup", function(event) { if (event.which == 27) { $('#search-resultbox').hide(); } });
// hide search results on click to document
$(document).bind('click', function (e) { $('#search-resultbox').hide(); });
// except the following:
searchBox.bind('click', function(e) { e.stopPropagation(); });
$('#search-resultbox').bind('click', function(e) { e.stopPropagation(); });

});</script></body>
</html>
