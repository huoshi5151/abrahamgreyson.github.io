<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="language" content="en" />
        <link href="./assets/41d5631d/css/bootstrap.css" rel="stylesheet">
<link href="./assets/bad56eea/style.css" rel="stylesheet">
<script src="./assets/e17319cf/jquery.js"></script>
<script src="./assets/41d5631d/js/bootstrap.js"></script>
<script src="./assets/b52a7f0/jssearch.js"></script>    <title>Yii Framework 2.0 API Documentation</title>
</head>
<body>

<div class="wrap">
    <nav id="w836" class="navbar-inverse navbar-fixed-top navbar" role="navigation"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#w836-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="./index.html">Yii 2.0 API 文档</a></div><div id="w836-collapse" class="collapse navbar-collapse"><ul id="w837" class="navbar-nav nav"><li><a href="./index.html">类参考</a></li>
<li class="dropdown"><a class="dropdown-toggle" href="#" data-toggle="dropdown">扩展 <b class="caret"></b></a><ul id="w838" class="dropdown-menu"><li><a href="./ext-apidoc-index.html" tabindex="-1">apidoc</a></li>
<li><a href="./ext-authclient-index.html" tabindex="-1">authclient</a></li>
<li><a href="./ext-bootstrap-index.html" tabindex="-1">bootstrap</a></li>
<li><a href="./ext-codeception-index.html" tabindex="-1">codeception</a></li>
<li><a href="./ext-composer-index.html" tabindex="-1">composer</a></li>
<li><a href="./ext-debug-index.html" tabindex="-1">debug</a></li>
<li><a href="./ext-elasticsearch-index.html" tabindex="-1">elasticsearch</a></li>
<li><a href="./ext-faker-index.html" tabindex="-1">faker</a></li>
<li><a href="./ext-gii-index.html" tabindex="-1">gii</a></li>
<li><a href="./ext-imagine-index.html" tabindex="-1">imagine</a></li>
<li><a href="./ext-jui-index.html" tabindex="-1">jui</a></li>
<li><a href="./ext-mongodb-index.html" tabindex="-1">mongodb</a></li>
<li><a href="./ext-redis-index.html" tabindex="-1">redis</a></li>
<li><a href="./ext-smarty-index.html" tabindex="-1">smarty</a></li>
<li><a href="./ext-sphinx-index.html" tabindex="-1">sphinx</a></li>
<li><a href="./ext-swiftmailer-index.html" tabindex="-1">swiftmailer</a></li>
<li><a href="./ext-twig-index.html" tabindex="-1">twig</a></li></ul></li>
<li><a href="./guide-README.html">权威指南</a></li>
<li class="dropdown"><a class="dropdown-toggle" href="#" data-toggle="dropdown">Github <b class="caret"></b></a><ul id="w839" class="dropdown-menu"><li><a href="https://github.com/yiisoft/yii2" tabindex="-1">Yii 2.0</a></li>
<li><a href="https://github.com/yii2-chinesization/yii2-zh-cn" tabindex="-1">Yii 2.0 中文化项目</a></li>
<li><a href="https://github.com/AbrahamGreyson/abrahamgreyson.github.io" tabindex="-1">docwithcn.com</a></li></ul></li></ul><div class="navbar-form navbar-left" role="search">
  <div class="form-group">
    <input id="searchbox" type="text" class="form-control" placeholder="Search">
  </div>
</div>
</div></nav>
    <div id="search-resultbox" style="display: none;" class="modal-content">
        <ul id="search-results">
        </ul>
    </div>

    
<div class="row">
    <div class="col-md-2">
                <div id="navigation" class="list-group"><a class="list-group-item" href="#navigation-819" data-toggle="collapse" data-parent="#navigation">介绍 <b class="caret"></b></a><div id="navigation-819" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-intro-yii.html">�
�于 Yii</a>
<a class="list-group-item" href="./guide-intro-upgrade-from-v1.html">从 Yii 1.1 升级</a></div>
<a class="list-group-item" href="#navigation-820" data-toggle="collapse" data-parent="#navigation">�门 <b class="caret"></b></a><div id="navigation-820" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-start-installation.html">安�
 Yii</a>
<a class="list-group-item" href="./guide-start-workflow.html">运行应用</a>
<a class="list-group-item" href="./guide-start-hello.html">第一次问候</a>
<a class="list-group-item" href="./guide-start-forms.html">使用 Forms</a>
<a class="list-group-item" href="./guide-start-databases.html">玩转 Databases</a>
<a class="list-group-item" href="./guide-start-gii.html">用 Gii 生成代码</a>
<a class="list-group-item" href="./guide-start-looking-ahead.html">更上一层楼</a></div>
<a class="list-group-item" href="#navigation-821" data-toggle="collapse" data-parent="#navigation">应用结构 <b class="caret"></b></a><div id="navigation-821" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-structure-overview.html">结构概述</a>
<a class="list-group-item" href="./guide-structure-entry-scripts.html">�
�口脚本</a>
<a class="list-group-item" href="./guide-structure-applications.html">应用</a>
<a class="list-group-item" href="./guide-structure-application-components.html">应用组件</a>
<a class="list-group-item" href="./guide-structure-controllers.html">控制器（Controller）</a>
<a class="list-group-item" href="./guide-structure-views.html">视图（View）</a>
<a class="list-group-item" href="./guide-structure-models.html">模型（Model）</a>
<a class="list-group-item" href="./guide-structure-filters.html">过滤器</a>
<a class="list-group-item" href="./guide-structure-widgets.html">小部件（Widget）</a>
<a class="list-group-item" href="./guide-structure-modules.html">模块（Module）</a>
<a class="list-group-item" href="./guide-structure-assets.html">前端资源（Asset）</a>
<a class="list-group-item" href="./guide-structure-extensions.html">扩展（extensions）</a></div>
<a class="list-group-item" href="#navigation-822" data-toggle="collapse" data-parent="#navigation">请求处理 <b class="caret"></b></a><div id="navigation-822" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-runtime-overview.html">运行概述</a>
<a class="list-group-item" href="./guide-runtime-bootstrapping.html">引导（Bootstrapping）</a>
<a class="list-group-item" href="./guide-runtime-routing.html">路由（Routing）</a>
<a class="list-group-item" href="./guide-runtime-requests.html">请求（Request）</a>
<a class="list-group-item" href="./guide-runtime-responses.html">响应（Response）</a>
<a class="list-group-item" href="./guide-runtime-sessions-cookies.html">Sessions（会话）和 Cookies</a>
<a class="list-group-item" href="./guide-runtime-url-handling.html">URL 解析和生成</a>
<a class="list-group-item" href="./guide-runtime-handling-errors.html">错误处理</a>
<a class="list-group-item" href="./guide-runtime-logging.html">日志</a></div>
<a class="list-group-item" href="#navigation-823" data-toggle="collapse" data-parent="#navigation">�键概念 <b class="caret"></b></a><div id="navigation-823" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-concept-components.html">组件（Component）</a>
<a class="list-group-item" href="./guide-concept-properties.html">属性（Property）</a>
<a class="list-group-item" href="./guide-concept-events.html">事件（Event）</a>
<a class="list-group-item" href="./guide-concept-behaviors.html">行为（Behavior）</a>
<a class="list-group-item" href="./guide-concept-configurations.html">�
�置（Configurations）</a>
<a class="list-group-item" href="./guide-concept-autoloading.html">类自动加载（Autoloading）</a>
<a class="list-group-item" href="./guide-concept-alias.html">别名（Alias）</a>
<a class="list-group-item" href="./guide-concept-service-locator.html">服务定位器（Service Locator）</a>
<a class="list-group-item" href="./guide-concept-di-container.html">依赖注�
�容器（DI Container）</a></div>
<a class="list-group-item" href="#navigation-824" data-toggle="collapse" data-parent="#navigation">�合数据库工作 <b class="caret"></b></a><div id="navigation-824" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-db-dao.html">数据访问对象（DAO）</a>
<a class="list-group-item" href="./guide-db-query-builder.html">查询生成器（Query Builder）</a>
<a class="list-group-item" href="./guide-db-active-record.html">活动记录（Active Record）</a>
<a class="list-group-item" href="./guide-db-migrations.html">数据库迁移（Migration）</a>
<a class="list-group-item" href="./guide-db-sphinx.html">Sphinx</a>
<a class="list-group-item" href="./guide-db-redis.html">Redis</a>
<a class="list-group-item" href="./guide-db-mongodb.html">MongoDB</a>
<a class="list-group-item" href="./guide-db-elastic-search.html">ElasticSearch</a></div>
<a class="list-group-item" href="#navigation-825" data-toggle="collapse" data-parent="#navigation">接收用户数据 <b class="caret"></b></a><div id="navigation-825" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-input-forms.html">创建表单</a>
<a class="list-group-item" href="./guide-input-validation.html">输�
�验证</a>
<a class="list-group-item" href="./guide-input-file-uploading.html">文件上传</a>
<a class="list-group-item" href="./guide-input-multiple-models.html">多模型同时输�
�</a></div>
<a class="list-group-item" href="#navigation-826" data-toggle="collapse" data-parent="#navigation">显示数据 <b class="caret"></b></a><div id="navigation-826" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-output-formatter.html">格式化输出数据</a>
<a class="list-group-item" href="./guide-output-pagination.html">分页（Pagination）</a>
<a class="list-group-item" href="./guide-output-sorting.html">排序（Sorting）</a>
<a class="list-group-item" href="./guide-output-data-providers.html">数据提供器</a>
<a class="list-group-item" href="./guide-output-data-widgets.html">数据小部件</a>
<a class="list-group-item" href="./guide-output-theming.html">主题</a></div>
<a class="list-group-item" href="#navigation-827" data-toggle="collapse" data-parent="#navigation">� <b class="caret"></b></a><div id="navigation-827" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-security-authentication.html">认证（Authentication）</a>
<a class="list-group-item" href="./guide-security-authorization.html">授权（Authorization）</a>
<a class="list-group-item" href="./guide-security-passwords.html">处理密码</a>
<a class="list-group-item" href="./guide-security-auth-clients.html">客户端认证</a>
<a class="list-group-item" href="./guide-security-best-practices.html">安�
�领域的最佳实践</a></div>
<a class="list-group-item" href="#navigation-828" data-toggle="collapse" data-parent="#navigation">缓存 <b class="caret"></b></a><div id="navigation-828" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-caching-overview.html">概述</a>
<a class="list-group-item" href="./guide-caching-data.html">数据缓存</a>
<a class="list-group-item" href="./guide-caching-fragment.html">片段缓存</a>
<a class="list-group-item" href="./guide-caching-page.html">分页缓存</a>
<a class="list-group-item" href="./guide-caching-http.html">HTTP 缓存</a></div>
<a class="list-group-item" href="#navigation-829" data-toggle="collapse" data-parent="#navigation">RESTful Web 服务 <b class="caret"></b></a><div id="navigation-829" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-rest-quick-start.html">快速�
�门</a>
<a class="list-group-item" href="./guide-rest-resources.html">资源</a>
<a class="list-group-item" href="./guide-rest-routing.html">路由</a>
<a class="list-group-item" href="./guide-rest-response-formatting.html">格式化响应</a>
<a class="list-group-item" href="./guide-rest-authentication.html">授权验证</a>
<a class="list-group-item" href="./guide-rest-rate-limiting.html">速率限制</a>
<a class="list-group-item" href="./guide-rest-versioning.html">版本化</a>
<a class="list-group-item" href="./guide-rest-error-handling.html">错误处理</a>
<a class="list-group-item" href="./guide-rest-testing.html">测试</a></div>
<a class="list-group-item" href="#navigation-830" data-toggle="collapse" data-parent="#navigation">� <b class="caret"></b></a><div id="navigation-830" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-tool-debugger.html">调试工�
�栏和调试器</a>
<a class="list-group-item" href="./guide-tool-gii.html">使用 Gii 生成代码</a>
<a class="list-group-item" href="./guide-tool-api-doc.html">生成 API 文档</a></div>
<a class="list-group-item" href="#navigation-831" data-toggle="collapse" data-parent="#navigation">测试 <b class="caret"></b></a><div id="navigation-831" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-test-overview.html">概述</a>
<a class="list-group-item" href="./guide-test-endvironment-setup.html">搭建测试环境</a>
<a class="list-group-item" href="./guide-test-unit.html">单�
�测试</a>
<a class="list-group-item" href="./guide-test-functional.html">功能测试</a>
<a class="list-group-item" href="./guide-test-acceptance.html">验收测试</a>
<a class="list-group-item" href="./guide-test-fixtures.html">测试夹�
�</a></div>
<a class="list-group-item" href="#navigation-832" data-toggle="collapse" data-parent="#navigation">高级专题 <b class="caret"></b></a><div id="navigation-832" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-tutorial-advanced-app.html">高级应用模版</a>
<a class="list-group-item" href="./guide-tutorial-start-from-scratch.html">从头构建自定义模版</a>
<a class="list-group-item" href="./guide-tutorial-console.html">控制台命令</a>
<a class="list-group-item" href="./guide-tutorial-core-validators.html">核心验证器</a>
<a class="list-group-item" href="./guide-tutorial-i18n.html">国�
化</a>
<a class="list-group-item" href="./guide-tutorial-mailing.html">收发邮件</a>
<a class="list-group-item" href="./guide-tutorial-performance-tuning.html">性能优化</a>
<a class="list-group-item" href="./guide-tutorial-shared-hosting.html">�
�享主机环境</a>
<a class="list-group-item" href="./guide-tutorial-template-engines.html">模板引擎</a>
<a class="list-group-item" href="./guide-tutorial-yii-integration.html">集成第三方代码</a></div>
<a class="list-group-item" href="#navigation-833" data-toggle="collapse" data-parent="#navigation">小部件 <b class="caret"></b></a><div id="navigation-833" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-widget-bootstrap.html">Bootstrap 小部件</a>
<a class="list-group-item" href="./guide-widget-jui.html">Jquery UI 小部件</a></div>
<a class="list-group-item" href="#navigation-834" data-toggle="collapse" data-parent="#navigation">助手类 <b class="caret"></b></a><div id="navigation-834" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-helper-overview.html">助手一览</a>
<a class="list-group-item" href="./guide-helper-array.html">ArrayHelper</a>
<a class="list-group-item" href="./guide-helper-html.html">Html</a>
<a class="list-group-item" href="./guide-helper-url.html">Url</a>
<a class="list-group-item" href="./guide-helper-security.html">security</a></div>
<a class="list-group-item" href="#navigation-835" data-toggle="collapse" data-parent="#navigation">的文件 <b class="caret"></b></a><div id="navigation-835" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-glossary.html">glossary</a></div></div>    </div>
    <div class="col-md-9 guide-content" role="main">
        <h1>Controllers <a href="#controllers" name="controllers" class="hashlink">&para;</a></h1><p>After creating the resource classes and specifying how resource data should be formatted, the next thing
to do is to create controller actions to expose the resources to end users through RESTful APIs.</p>
<p>Yii provides two base controller classes to simplify your work of creating RESTful actions:
<a href="./yii-rest-controller.html">yii\rest\Controller</a> and <a href="./yii-rest-activecontroller.html">yii\rest\ActiveController</a>. The difference between these two controllers
is that the latter provides a default set of actions that are specifically designed to deal with
resources represented as <a href="guide-db-active-record.html">Active Record</a>. So if you are using <a href="guide-db-active-record.html">Active Record</a>
and are comfortable with the provided built-in actions, you may consider extending your controller classes
from <a href="./yii-rest-activecontroller.html">yii\rest\ActiveController</a>, which will allow you to create powerful RESTful APIs with minimal code.</p>
<p>Both <a href="./yii-rest-controller.html">yii\rest\Controller</a> and <a href="./yii-rest-activecontroller.html">yii\rest\ActiveController</a> provide the following features, some of which
will be described in detail in the next few sections:</p>
<ul>
<li>HTTP method validation;</li>
<li><a href="guide-rest-response-formatting.html">Content negotiation and Data formatting</a>;</li>
<li><a href="guide-rest-authentication.html">Authentication</a>;</li>
<li><a href="guide-rest-rate-limiting.html">Rate limiting</a>.</li>
</ul>
<p><a href="./yii-rest-activecontroller.html">yii\rest\ActiveController</a> in addition provides the following features:</p>
<ul>
<li>A set of commonly needed actions: <code>index</code>, <code>view</code>, <code>create</code>, <code>update</code>, <code>delete</code>, <code>options</code>;</li>
<li>User authorization in regarding to the requested action and resource.</li>
</ul>
<h2>Creating Controller Classes <a name="creating-controller"></a> <a href="#creating-controller-classes" name="creating-controller-classes" class="hashlink">&para;</a></h2><p>When creating a new controller class, a convention in naming the controller class is to use
the type name of the resource and use singular form. For example, to serve user information,
the controller may be named as <code>UserController</code>.</p>
<p>Creating a new action is similar to creating an action for a Web application. The only difference
is that instead of rendering the result using a view by calling the <code>render()</code> method, for RESTful actions
you directly return the data. The <a href="./yii-rest-controller.html#$serializer-detail">serializer</a> and the
<a href="./yii-web-response.html">response object</a> will handle the conversion from the original data to the requested
format. For example,</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">actionView</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">User</span><span style="color: #007700">::</span><span style="color: #0000BB">findOne</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br />}</span></code></pre>
<h2>Filters <a name="filters"></a> <a href="#filters" name="filters" class="hashlink">&para;</a></h2><p>Most RESTful API features provided by <a href="./yii-rest-controller.html">yii\rest\Controller</a> are implemented in terms of <a href="guide-structure-filters.html">filters</a>.
In particular, the following filters will be executed in the order they are listed:</p>
<ul>
<li><a href="./yii-filters-contentnegotiator.html">contentNegotiator</a>: supports content negotiation, to be explained in
the <a href="guide-rest-response-formatting.html">Response Formatting</a> section;</li>
<li><a href="./yii-filters-verbfilter.html">verbFilter</a>: supports HTTP method validation;</li>
<li><span style="background: #f00;">yii\filters\AuthMethod</span>: supports user authentication, to be explained in
the <a href="guide-rest-authentication.html">Authentication</a> section;</li>
<li><a href="./yii-filters-ratelimiter.html">rateLimiter</a>: supports rate limiting, to be explained in
the <a href="guide-rest-rate-limiting.html">Rate Limiting</a> section.</li>
</ul>
<p>These named filters are declared in the <a href="./yii-rest-controller.html#behaviors()-detail">behaviors()</a> method.
You may override this method to configure individual filters,  disable some of them, or add your own filters.
For example, if you only want to use HTTP basic authentication, you may write the following code:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">filters</span><span style="color: #007700">\</span><span style="color: #0000BB">auth</span><span style="color: #007700">\</span><span style="color: #0000BB">HttpBasicAuth</span><span style="color: #007700">;<br /><br />public&nbsp;function&nbsp;</span><span style="color: #0000BB">behaviors</span><span style="color: #007700">()<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$behaviors&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">behaviors</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$behaviors</span><span style="color: #007700">[</span><span style="color: #DD0000">'authenticator'</span><span style="color: #007700">]&nbsp;=&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'class'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">HttpBasicAuth</span><span style="color: #007700">::</span><span style="color: #0000BB">className</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;];<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$behaviors</span><span style="color: #007700">;<br />}</span></code></pre>
<h2>Extending <code>ActiveController</code> <a name="extending-active-controller"></a> <a href="#extending-activecontroller" name="extending-activecontroller" class="hashlink">&para;</a></h2><p>If your controller class extends from <a href="./yii-rest-activecontroller.html">yii\rest\ActiveController</a>, you should set
its <a href="./yii-rest-activecontroller.html#$modelClass-detail">|modelClass</a> property to be the name of the resource class
that you plan to serve through this controller. The class must extend from <a href="./yii-db-activerecord.html">yii\db\ActiveRecord</a>.</p>
<h3>Customizing Actions <a name="customizing-actions"></a> <a href="#customizing-actions" name="customizing-actions" class="hashlink">&para;</a></h3><p>By default, <a href="./yii-rest-activecontroller.html">yii\rest\ActiveController</a> provides the following actions:</p>
<ul>
<li><a href="./yii-rest-indexaction.html">index</a>: list resources page by page;</li>
<li><a href="./yii-rest-viewaction.html">view</a>: return the details of a specified resource;</li>
<li><a href="./yii-rest-createaction.html">create</a>: create a new resource;</li>
<li><a href="./yii-rest-updateaction.html">update</a>: update an existing resource;</li>
<li><a href="./yii-rest-deleteaction.html">delete</a>: delete the specified resource;</li>
<li><a href="./yii-rest-optionsaction.html">options</a>: return the supported HTTP methods.</li>
</ul>
<p>All these actions are declared through the <a href="./yii-rest-activecontroller.html#actions()-detail">actions()</a> method.
You may configure these actions or disable some of them by overriding the <code>actions()</code> method, like shown the following,</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">actions</span><span style="color: #007700">()<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$actions&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">actions</span><span style="color: #007700">();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;disable&nbsp;the&nbsp;"delete"&nbsp;and&nbsp;"create"&nbsp;actions<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">unset(</span><span style="color: #0000BB">$actions</span><span style="color: #007700">[</span><span style="color: #DD0000">'delete'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$actions</span><span style="color: #007700">[</span><span style="color: #DD0000">'create'</span><span style="color: #007700">]);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;customize&nbsp;the&nbsp;data&nbsp;provider&nbsp;preparation&nbsp;with&nbsp;the&nbsp;"prepareDataProvider()"&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$actions</span><span style="color: #007700">[</span><span style="color: #DD0000">'index'</span><span style="color: #007700">][</span><span style="color: #DD0000">'prepareDataProvider'</span><span style="color: #007700">]&nbsp;=&nbsp;[</span><span style="color: #0000BB">$this</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'prepareDataProvider'</span><span style="color: #007700">];<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$actions</span><span style="color: #007700">;<br />}<br /><br />public&nbsp;function&nbsp;</span><span style="color: #0000BB">prepareDataProvider</span><span style="color: #007700">()<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;prepare&nbsp;and&nbsp;return&nbsp;a&nbsp;data&nbsp;provider&nbsp;for&nbsp;the&nbsp;"index"&nbsp;action<br /></span><span style="color: #007700">}</span></code></pre>
<p>Please refer to the class references for individual action classes to learn what configuration options are available.</p>
<h3>Performing Access Check <a name="performing-access-check"></a> <a href="#performing-access-check" name="performing-access-check" class="hashlink">&para;</a></h3><p>When exposing resources through RESTful APIs, you often need to check if the current user has the permission
to access and manipulate the requested resource(s). With <a href="./yii-rest-activecontroller.html">yii\rest\ActiveController</a>, this can be done
by overriding the <a href="./yii-rest-activecontroller.html#checkAccess()-detail">checkAccess()</a> method like the following,</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;Checks&nbsp;the&nbsp;privilege&nbsp;of&nbsp;the&nbsp;current&nbsp;user.<br />&nbsp;*<br />&nbsp;*&nbsp;This&nbsp;method&nbsp;should&nbsp;be&nbsp;overridden&nbsp;to&nbsp;check&nbsp;whether&nbsp;the&nbsp;current&nbsp;user&nbsp;has&nbsp;the&nbsp;privilege<br />&nbsp;*&nbsp;to&nbsp;run&nbsp;the&nbsp;specified&nbsp;action&nbsp;against&nbsp;the&nbsp;specified&nbsp;data&nbsp;model.<br />&nbsp;*&nbsp;If&nbsp;the&nbsp;user&nbsp;does&nbsp;not&nbsp;have&nbsp;access,&nbsp;a&nbsp;[[ForbiddenHttpException]]&nbsp;should&nbsp;be&nbsp;thrown.<br />&nbsp;*<br />&nbsp;*&nbsp;@param&nbsp;string&nbsp;$action&nbsp;the&nbsp;ID&nbsp;of&nbsp;the&nbsp;action&nbsp;to&nbsp;be&nbsp;executed<br />&nbsp;*&nbsp;@param&nbsp;\yii\base\Model&nbsp;$model&nbsp;the&nbsp;model&nbsp;to&nbsp;be&nbsp;accessed.&nbsp;If&nbsp;null,&nbsp;it&nbsp;means&nbsp;no&nbsp;specific&nbsp;model&nbsp;is&nbsp;being&nbsp;accessed.<br />&nbsp;*&nbsp;@param&nbsp;array&nbsp;$params&nbsp;additional&nbsp;parameters<br />&nbsp;*&nbsp;@throws&nbsp;ForbiddenHttpException&nbsp;if&nbsp;the&nbsp;user&nbsp;does&nbsp;not&nbsp;have&nbsp;access<br />&nbsp;*/<br /></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">checkAccess</span><span style="color: #007700">(</span><span style="color: #0000BB">$action</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$model&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$params&nbsp;</span><span style="color: #007700">=&nbsp;[])<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;check&nbsp;if&nbsp;the&nbsp;user&nbsp;can&nbsp;access&nbsp;$action&nbsp;and&nbsp;$model<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;throw&nbsp;ForbiddenHttpException&nbsp;if&nbsp;access&nbsp;should&nbsp;be&nbsp;denied<br /></span><span style="color: #007700">}</span></code></pre>
<p>The <code>checkAccess()</code> method will be called by the default actions of <a href="./yii-rest-activecontroller.html">yii\rest\ActiveController</a>. If you create
new actions and also want to perform access check, you should call this method explicitly in the new actions.</p>
<blockquote><p>Tip: You may implement <code>checkAccess()</code> by using the <a href="guide-security-authorization.html">Role-Based Access Control (RBAC) component</a>.</p>
</blockquote>
        <div class="toplink"><a href="#" class="h1" title="go to top"><span class="glyphicon glyphicon-arrow-up"></a></div>
    </div>
</div>


</div>

<footer class="footer">
        <p class="pull-right"><small>Page generated on Fri, 24 Oct 2014 21:34:20 +0200</small></p>
    Powered by <a href="http://www.yiiframework.com/" rel="external">Yii Framework</a></footer>

<script type="text/javascript">jQuery(document).ready(function () {
    var shiftWindow = function () { scrollBy(0, -50) };
    if (location.hash) shiftWindow();
    window.addEventListener("hashchange", shiftWindow);
var element = document.createElement("script");
element.src = "./jssearch.index.js";
document.body.appendChild(element);

var searchBox = $('#searchbox');

// focus the search field
searchBox.focus();

// search when typing in search field
searchBox.on("keyup", function(event) {
    var query = $(this).val();

    if (query == '' || event.which == 27) {
        $('#search-resultbox').hide();
        return;
    } else if (event.which == 13) {
        var selectedLink = $('#search-resultbox a.selected');
        if (selectedLink.length != 0) {
            document.location = selectedLink.attr('href');
            return;
        }
    } else if (event.which == 38 || event.which == 40) {
        $('#search-resultbox').show();

        var selected = $('#search-resultbox a.selected');
        if (selected.length == 0) {
            $('#search-results').find('a').first().addClass('selected');
        } else {
            var next;
            if (event.which == 40) {
                next = selected.parent().next().find('a').first();
            } else {
                next = selected.parent().prev().find('a').first();
            }
            if (next.length != 0) {
                var resultbox = $('#search-results');
                var position = next.position();

//              TODO scrolling is buggy and jumps around
//                resultbox.scrollTop(Math.floor(position.top));
//                console.log(position.top);

                selected.removeClass('selected');
                next.addClass('selected');
            }
        }

        return;
    }
    $('#search-resultbox').show();
    $('#search-results').html('<li><span class="no-results">No results</span></li>');

    var result = jssearch.search(query);

    if (result.length > 0) {
        var i = 0;
        var resHtml = '';

        for (var key in result) {
            if (i++ > 20) {
                break;
            }
            resHtml = resHtml +
            '<li><a href="' + result[key].file.u.substr(3) +'"><span class="title">' + result[key].file.t + '</span>' +
            '<span class="description">' + result[key].file.d + '</span></a></li>';
        }
        $('#search-results').html(resHtml);
    }
});

// hide the search results on ESC
$(document).on("keyup", function(event) { if (event.which == 27) { $('#search-resultbox').hide(); } });
// hide search results on click to document
$(document).bind('click', function (e) { $('#search-resultbox').hide(); });
// except the following:
searchBox.bind('click', function(e) { e.stopPropagation(); });
$('#search-resultbox').bind('click', function(e) { e.stopPropagation(); });

});</script></body>
</html>
