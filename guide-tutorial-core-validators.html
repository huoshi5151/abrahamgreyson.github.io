<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="language" content="en" />
        <link href="./assets/b2f98e95/css/bootstrap.css" rel="stylesheet">
<link href="./assets/d607947b/style.css" rel="stylesheet">
<script src="./assets/ff75f2d2/jquery.js"></script>
<script src="./assets/b2f98e95/js/bootstrap.js"></script>
<script src="./assets/ee9fb928/jssearch.js"></script>    <title>Yii Framework 2.0 API Documentation</title>
</head>
<body>

<div class="wrap">
    <nav id="w1571" class="navbar-inverse navbar-fixed-top navbar" role="navigation"><div class="navbar-header"><button class="navbar-toggle" data-toggle="collapse" data-target="#w1571-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="./index.html">Yii 2.0 API 文档</a></div><div id="w1571-collapse" class="collapse navbar-collapse"><ul id="w1572" class="navbar-nav nav"><li><a href="./index.html">类参考</a></li>
<li class="dropdown"><a class="dropdown-toggle" href="#" data-toggle="dropdown">扩展 <b class="caret"></b></a><ul id="w1573" class="dropdown-menu"><li><a href="./ext-apidoc-index.html" tabindex="-1">apidoc</a></li>
<li><a href="./ext-authclient-index.html" tabindex="-1">authclient</a></li>
<li><a href="./ext-bootstrap-index.html" tabindex="-1">bootstrap</a></li>
<li><a href="./ext-codeception-index.html" tabindex="-1">codeception</a></li>
<li><a href="./ext-composer-index.html" tabindex="-1">composer</a></li>
<li><a href="./ext-debug-index.html" tabindex="-1">debug</a></li>
<li><a href="./ext-elasticsearch-index.html" tabindex="-1">elasticsearch</a></li>
<li><a href="./ext-faker-index.html" tabindex="-1">faker</a></li>
<li><a href="./ext-gii-index.html" tabindex="-1">gii</a></li>
<li><a href="./ext-imagine-index.html" tabindex="-1">imagine</a></li>
<li><a href="./ext-jui-index.html" tabindex="-1">jui</a></li>
<li><a href="./ext-mongodb-index.html" tabindex="-1">mongodb</a></li>
<li><a href="./ext-redis-index.html" tabindex="-1">redis</a></li>
<li><a href="./ext-smarty-index.html" tabindex="-1">smarty</a></li>
<li><a href="./ext-sphinx-index.html" tabindex="-1">sphinx</a></li>
<li><a href="./ext-swiftmailer-index.html" tabindex="-1">swiftmailer</a></li>
<li><a href="./ext-twig-index.html" tabindex="-1">twig</a></li></ul></li>
<li><a href="./guide-README.html">权威指南</a></li>
<li class="dropdown"><a class="dropdown-toggle" href="#" data-toggle="dropdown">Github <b class="caret"></b></a><ul id="w1574" class="dropdown-menu"><li><a href="https://github.com/yiisoft/yii2" tabindex="-1">Yii 2.0</a></li>
<li><a href="https://github.com/yii2-chinesization/yii2-zh-cn" tabindex="-1">Yii 2.0 中文化项目</a></li>
<li><a href="https://github.com/AbrahamGreyson/abrahamgreyson.github.io" tabindex="-1">docwithcn.com</a></li></ul></li></ul><div class="navbar-form navbar-left" role="search">
  <div class="form-group">
    <input id="searchbox" type="text" class="form-control" placeholder="Search">
  </div>
</div>
</div></nav>
    <div id="search-resultbox" style="display: none;" class="modal-content">
        <ul id="search-results">
        </ul>
    </div>

    
<div class="row">
    <div class="col-md-2">
                <div id="navigation" class="list-group"><a class="list-group-item" href="#navigation-1554" data-toggle="collapse" data-parent="#navigation">介绍 <b class="caret"></b></a><div id="navigation-1554" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-intro-yii.html">关于 Yii</a>
<a class="list-group-item" href="./guide-intro-upgrade-from-v1.html">从 Yii 1.1 升级</a></div>
<a class="list-group-item" href="#navigation-1555" data-toggle="collapse" data-parent="#navigation">入门 <b class="caret"></b></a><div id="navigation-1555" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-start-installation.html">安装 Yii</a>
<a class="list-group-item" href="./guide-start-workflow.html">运行应用</a>
<a class="list-group-item" href="./guide-start-hello.html">第一次问候</a>
<a class="list-group-item" href="./guide-start-forms.html">使用 Forms</a>
<a class="list-group-item" href="./guide-start-databases.html">玩转 Databases</a>
<a class="list-group-item" href="./guide-start-gii.html">用 Gii 生成代码</a>
<a class="list-group-item" href="./guide-start-looking-ahead.html">更上一层楼</a></div>
<a class="list-group-item" href="#navigation-1556" data-toggle="collapse" data-parent="#navigation">应用结构 <b class="caret"></b></a><div id="navigation-1556" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-structure-overview.html">结构总览</a>
<a class="list-group-item" href="./guide-structure-entry-scripts.html">入口脚本</a>
<a class="list-group-item" href="./guide-structure-applications.html">应用</a>
<a class="list-group-item" href="./guide-structure-application-components.html">应用组件</a>
<a class="list-group-item" href="./guide-structure-controllers.html">控制器（Controller）</a>
<a class="list-group-item" href="./guide-structure-views.html">视图（View）</a>
<a class="list-group-item" href="./guide-structure-models.html">模型（Model）</a>
<a class="list-group-item" href="./guide-structure-filters.html">过滤器</a>
<a class="list-group-item" href="./guide-structure-widgets.html">小部件（Widget）</a>
<a class="list-group-item" href="./guide-structure-modules.html">模块（Module）</a>
<a class="list-group-item" href="./guide-structure-assets.html">前端资源（Asset）</a>
<a class="list-group-item" href="./guide-structure-extensions.html">扩展（extensions）</a></div>
<a class="list-group-item" href="#navigation-1557" data-toggle="collapse" data-parent="#navigation">请求处理 <b class="caret"></b></a><div id="navigation-1557" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-runtime-bootstrapping.html">引导（Bootstrapping）</a>
<a class="list-group-item" href="./guide-runtime-routing.html">路由（Routing）</a>
<a class="list-group-item" href="./guide-runtime-requests.html">请求（Request）</a>
<a class="list-group-item" href="./guide-runtime-responses.html">响应（Response）</a>
<a class="list-group-item" href="./guide-runtime-sessions-cookies.html">Sessions（会话）和 Cookies</a>
<a class="list-group-item" href="./guide-runtime-url-handling.html">URL 解析和生成</a>
<a class="list-group-item" href="./guide-runtime-handling-errors.html">错误处理</a>
<a class="list-group-item" href="./guide-runtime-logging.html">日志</a></div>
<a class="list-group-item" href="#navigation-1558" data-toggle="collapse" data-parent="#navigation">关键概念 <b class="caret"></b></a><div id="navigation-1558" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-concept-components.html">组件（Component）</a>
<a class="list-group-item" href="./guide-concept-properties.html">属性（Property）</a>
<a class="list-group-item" href="./guide-concept-events.html">事件（Event）</a>
<a class="list-group-item" href="./guide-concept-behaviors.html">行为（Behavior）</a>
<a class="list-group-item" href="./guide-concept-configurations.html">配置（Configurations）</a>
<a class="list-group-item" href="./guide-concept-autoloading.html">类自动加载（Autoloading）</a>
<a class="list-group-item" href="./guide-concept-alias.html">别名（Alias）</a>
<a class="list-group-item" href="./guide-concept-service-locator.html">服务定位器（Service Locator）</a>
<a class="list-group-item" href="./guide-concept-di-container.html">依赖注入容器（DI Container）</a></div>
<a class="list-group-item" href="#navigation-1559" data-toggle="collapse" data-parent="#navigation">配合数据库工作 <b class="caret"></b></a><div id="navigation-1559" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-db-dao.html">数据访问对象（DAO）</a>
<a class="list-group-item" href="./guide-db-query-builder.html">查询生成器（Query Builder）</a>
<a class="list-group-item" href="./guide-db-active-record.html">活动记录（Active Record）</a>
<a class="list-group-item" href="./guide-db-migrations.html">数据库迁移（Migration）</a>
<a class="list-group-item" href="./guide-db-sphinx.html">Sphinx</a>
<a class="list-group-item" href="./guide-db-redis.html">Redis</a>
<a class="list-group-item" href="./guide-db-mongodb.html">MongoDB</a>
<a class="list-group-item" href="./guide-db-elastic-search.html">ElasticSearch</a></div>
<a class="list-group-item" href="#navigation-1560" data-toggle="collapse" data-parent="#navigation">接收用户数据 <b class="caret"></b></a><div id="navigation-1560" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-input-forms.html">创建表单</a>
<a class="list-group-item" href="./guide-input-validation.html">输入验证</a>
<a class="list-group-item" href="./guide-input-file-uploading.html">文件上传</a>
<a class="list-group-item" href="./guide-input-multiple-models.html">多模型同时输入</a></div>
<a class="list-group-item" href="#navigation-1561" data-toggle="collapse" data-parent="#navigation">显示数据 <b class="caret"></b></a><div id="navigation-1561" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-output-formatting.html">格式化输出数据</a>
<a class="list-group-item" href="./guide-output-pagination.html">分页（Pagination）</a>
<a class="list-group-item" href="./guide-output-sorting.html">排序（Sorting）</a>
<a class="list-group-item" href="./guide-output-data-providers.html">数据提供器</a>
<a class="list-group-item" href="./guide-output-data-widgets.html">数据小部件</a>
<a class="list-group-item" href="./guide-output-theming.html">主题</a></div>
<a class="list-group-item" href="#navigation-1562" data-toggle="collapse" data-parent="#navigation">安全 <b class="caret"></b></a><div id="navigation-1562" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-security-authentication.html">认证（Authentication）</a>
<a class="list-group-item" href="./guide-security-authorization.html">授权（Authorization）</a>
<a class="list-group-item" href="./guide-security-passwords.html">处理密码</a>
<a class="list-group-item" href="./guide-security-auth-clients.html">客户端认证</a>
<a class="list-group-item" href="./guide-security-best-practices.html">安全领域的最佳实践</a></div>
<a class="list-group-item" href="#navigation-1563" data-toggle="collapse" data-parent="#navigation">缓存 <b class="caret"></b></a><div id="navigation-1563" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-caching-overview.html">概述</a>
<a class="list-group-item" href="./guide-caching-data.html">数据缓存</a>
<a class="list-group-item" href="./guide-caching-fragment.html">片段缓存</a>
<a class="list-group-item" href="./guide-caching-page.html">分页缓存</a>
<a class="list-group-item" href="./guide-caching-http.html">HTTP 缓存</a></div>
<a class="list-group-item" href="#navigation-1564" data-toggle="collapse" data-parent="#navigation">RESTful Web 服务 <b class="caret"></b></a><div id="navigation-1564" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-rest-quick-start.html">快速入门</a>
<a class="list-group-item" href="./guide-rest-resources.html">资源</a>
<a class="list-group-item" href="./guide-rest-routing.html">路由</a>
<a class="list-group-item" href="./guide-rest-response-formatting.html">格式化响应</a>
<a class="list-group-item" href="./guide-rest-authentication.html">授权验证</a>
<a class="list-group-item" href="./guide-rest-rate-limiting.html">速率限制</a>
<a class="list-group-item" href="./guide-rest-versioning.html">版本化</a>
<a class="list-group-item" href="./guide-rest-error-handling.html">错误处理</a>
<a class="list-group-item" href="./guide-rest-testing.html">测试</a></div>
<a class="list-group-item" href="#navigation-1565" data-toggle="collapse" data-parent="#navigation">开发工具 <b class="caret"></b></a><div id="navigation-1565" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-tool-debugger.html">调试工具栏和调试器</a>
<a class="list-group-item" href="./guide-tool-gii.html">使用 Gii 生成代码</a>
<a class="list-group-item" href="./guide-tool-api-doc.html">生成 API 文档</a></div>
<a class="list-group-item" href="#navigation-1566" data-toggle="collapse" data-parent="#navigation">测试 <b class="caret"></b></a><div id="navigation-1566" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-test-overview.html">概述</a>
<a class="list-group-item" href="./guide-test-unit.html">单元测试</a>
<a class="list-group-item" href="./guide-test-functional.html">功能测试</a>
<a class="list-group-item" href="./guide-test-acceptance.html">验收测试</a>
<a class="list-group-item" href="./guide-test-fixtures.html">测试夹具</a></div>
<a class="list-group-item active" href="#navigation-1567" data-toggle="collapse" data-parent="#navigation">高级专题 <b class="caret"></b></a><div id="navigation-1567" class="submenu panel-collapse collapse in"><a class="list-group-item" href="./guide-tutorial-advanced-app.html">高级应用模版</a>
<a class="list-group-item" href="./guide-tutorial-start-from-scratch.html">从头构建自定义模版</a>
<a class="list-group-item" href="./guide-tutorial-console.html">控制台命令</a>
<a class="list-group-item active" href="./guide-tutorial-core-validators.html">核心验证器</a>
<a class="list-group-item" href="./guide-tutorial-i18n.html">国际化</a>
<a class="list-group-item" href="./guide-tutorial-mailing.html">收发邮件</a>
<a class="list-group-item" href="./guide-tutorial-performance-tuning.html">性能优化</a>
<a class="list-group-item" href="./guide-tutorial-shared-hosting.html">共享主机环境</a>
<a class="list-group-item" href="./guide-tutorial-template-engines.html">模板引擎</a>
<a class="list-group-item" href="./guide-tutorial-yii-integration.html">集成第三方代码</a></div>
<a class="list-group-item" href="#navigation-1568" data-toggle="collapse" data-parent="#navigation">小部件 <b class="caret"></b></a><div id="navigation-1568" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-widget-bootstrap.html">Bootstrap 小部件</a>
<a class="list-group-item" href="./guide-widget-jui.html">Jquery UI 小部件</a></div>
<a class="list-group-item" href="#navigation-1569" data-toggle="collapse" data-parent="#navigation">助手类 <b class="caret"></b></a><div id="navigation-1569" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-helper-overview.html">助手一览</a>
<a class="list-group-item" href="./guide-helper-array.html">ArrayHelper</a>
<a class="list-group-item" href="./guide-helper-html.html">Html</a>
<a class="list-group-item" href="./guide-helper-url.html">Url</a>
<a class="list-group-item" href="./guide-helper-security.html">security</a></div>
<a class="list-group-item" href="#navigation-1570" data-toggle="collapse" data-parent="#navigation">不在目录内的文件 <b class="caret"></b></a><div id="navigation-1570" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-glossary.html">glossary</a></div></div>    </div>
    <div class="col-md-9 guide-content" role="main">
        <h1>核心验证器（Core Validators） <a href="#he-xin-yan-zheng-qi-core-validators" name="he-xin-yan-zheng-qi-core-validators" class="hashlink">&para;</a></h1>
<p>Yii 提供一系列常用的核心验证器，主要存在于 <code>yii\validators</code> 命名空间之下。为了避免使用冗长的类名，你可以直接用<strong>昵称</strong>来指定相应的核心验证器。比如你可以用 <code>required</code> 昵称代指 <a href="./yii-validators-requiredvalidator.html">yii\validators\RequiredValidator</a> 类：</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">rules</span><span style="color: #007700">()<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[</span><span style="color: #DD0000">'email'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'password'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">'required'</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;];<br />}</span></code></pre>
<p><a href="./yii-validators-validator.html#$builtInValidators-detail">yii\validators\Validator::$builtInValidators</a> 属性声明了所有被支持的验证器昵称。</p>
<p>下面，我们将详细介绍每一款验证器的主要用法和属性。</p>
<h2><a href="./yii-validators-booleanvalidator.html">boolean（布尔型）</a> <a name="boolean"></a> <a href="#boolean-bu-er-xing" name="boolean-bu-er-xing" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;检查&nbsp;"selected"&nbsp;是否为&nbsp;0&nbsp;或&nbsp;1，无视数据类型<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'selected'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'boolean'</span><span style="color: #007700">],<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;检查&nbsp;"deleted"&nbsp;是否为布尔类型，即&nbsp;true&nbsp;或&nbsp;false<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'deleted'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'boolean'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'trueValue'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'falseValue'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'strict'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">],<br />]</span></code></pre>
<p>该验证器检查输入值是否为一个布尔值。</p>
<ul>
<li><code>trueValue</code>： 代表<strong>真</strong>的值。默认为 <code>'1'</code>。</li>
<li><code>falseValue</code>：代表<strong>假</strong>的值。默认为 <code>'0'</code>。</li>
<li><code>strict</code>：是否要求待测输入必须严格匹配 <code>trueValue</code> 或 <code>falseValue</code>。默认为 <code>false</code>。</li>
</ul>
<blockquote><p>注意：因为通过 HTML 表单传递的输入数据都是字符串类型，所以一般情况下你都需要保持
  <a href="./yii-validators-booleanvalidator.html#$strict-detail">strict</a> 属性为假。</p>
</blockquote>
<h2><a href="./yii-captcha-captchavalidator.html">captcha（验证码）</a> <a name="captcha"></a> <a href="#captcha-yan-zheng-ma" name="captcha-yan-zheng-ma" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;[</span><span style="color: #DD0000">'verificationCode'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'captcha'</span><span style="color: #007700">],<br />]</span></code></pre>
<p>该验证器通常配合 <a href="./yii-captcha-captchaaction.html">yii\captcha\CaptchaAction</a> 以及 <a href="./yii-captcha-captcha.html">yii\captcha\Captcha</a>
使用，以确保某一输入与 <a href="./yii-captcha-captcha.html">CAPTCHA</a> 小部件所显示的验证代码（verification code）相同。</p>
<ul>
<li><code>caseSensitive</code>：对验证代码的比对是否要求大小写敏感。默认为 false。</li>
<li><code>captchaAction</code>：指向用于渲染 CAPTCHA 图片的 <a href="./yii-captcha-captchaaction.html">CAPTCHA action</a> 的 <a href="guide-structure-controllers.html#routes">路由</a>。默认为 <code>'site/captcha'</code>。</li>
<li><code>skipOnEmpty</code>：当输入为空时，是否跳过验证。默认为 false，也就是输入值为必需项。</li>
</ul>
<h2><a href="./yii-validators-comparevalidator.html">compare（比较）</a> <a name="compare"></a> <a href="#compare-bi-jiao" name="compare-bi-jiao" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;检查&nbsp;"password"&nbsp;特性的值是否与&nbsp;"password_repeat"&nbsp;的值相同<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'password'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'compare'</span><span style="color: #007700">],<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;检查年龄是否大于等于&nbsp;30<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'age'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'compare'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'compareValue'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">30</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'operator'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'&gt;='</span><span style="color: #007700">],<br />]</span></code></pre>
<p>该验证器比较两个特定输入值之间的关系是否与 <code>operator</code> 属性所指定的相同。</p>
<ul>
<li><code>compareAttribute</code>：用于与原特性相比较的特性名称。当该验证器被用于验证某目标特性时，该属性会默认为目标属性加后缀 <code>_repeat</code>。举例来说，若目标特性为 <code>password</code>，则该属性默认为 <code>password_repeat</code>。</li>
<li><code>compareValue</code>：用于与输入值相比较的常量值。当该属性与 <code>compareAttribute</code> 属性同时被指定时，该属性优先被使用。</li>
<li><code>operator</code>：比较操作符。默认为 <code>==</code>，意味着检查输入值是否与 <code>compareAttribute</code> 或 <code>compareValue</code> 的值相等。该属性支持如下操作符：<ul>
<li><code>==</code>：检查两值是否相等。比对为非严格模式。</li>
<li><code>===</code>：检查两值是否全等。比对为严格模式。</li>
<li><code>!=</code>：检查两值是否不等。比对为非严格模式。</li>
<li><code>!==</code>：检查两值是否不全等。比对为严格模式。</li>
<li><code>&gt;</code>：检查待测目标值是否大于给定被测值。</li>
<li><code>&gt;=</code>：检查待测目标值是否大于等于给定被测值。</li>
<li><code>&lt;</code>：检查待测目标值是否小于给定被测值。</li>
<li><code>&lt;=</code>：检查待测目标值是否小于等于给定被测值。</li>
</ul>
</li>
</ul>
<h2><a href="./yii-validators-datevalidator.html">date（日期）</a> <a name="date"></a> <a href="#date-ri-qi" name="date-ri-qi" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;[[</span><span style="color: #DD0000">'from'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'to'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">'date'</span><span style="color: #007700">],<br />]</span></code></pre>
<p>该验证器检查输入值是否为适当格式的 date，time，或者 datetime。另外，它还可以帮你把输入值转换为一个 UNIX 时间戳并保存到 <a href="./yii-validators-datevalidator.html#$timestampAttribute-detail">timestampAttribute</a> 属性所指定的特性里。</p>
<ul>
<li><code>format</code>：待测的 日期/时间 格式。请参考
<a href="http://www.php.net/manual/zh/datetime.createfromformat.php">date_create_from_format() 相关的 PHP 手册</a>了解设定格式字符串的更多细节。默认值为 <code>'Y-m-d'</code>。</li>
<li><code>timestampAttribute</code>：用于保存用输入时间/日期转换出来的 UNIX 时间戳的特性。</li>
</ul>
<h2><a href="./yii-validators-defaultvaluevalidator.html">default（默认值）</a> <a name="default"></a> <a href="#default-mo-ren-zhi" name="default-mo-ren-zhi" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;若&nbsp;"age"&nbsp;为空，则将其设为&nbsp;null<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'age'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'default'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'value'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">],<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;若&nbsp;"country"&nbsp;为空，则将其设为&nbsp;"USA"<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'country'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'default'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'value'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'USA'</span><span style="color: #007700">],<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;若&nbsp;"from"&nbsp;和&nbsp;"to"&nbsp;为空，则分别给他们分配自今天起，3&nbsp;天后和&nbsp;6&nbsp;天后的日期。<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[[</span><span style="color: #DD0000">'from'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'to'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">'default'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'value'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;function&nbsp;(</span><span style="color: #0000BB">$model</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #DD0000">'to'&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #DD0000">'+3&nbsp;days'&nbsp;</span><span style="color: #0000BB">：</span><span style="color: #DD0000">'+6&nbsp;days'</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;}],<br />]</span></code></pre>
<p>该验证器并不进行数据验证。而是，给为空的待测特性分配默认值。</p>
<ul>
<li><code>value</code>：默认值，或一个返回默认值的 PHP Callable 对象（即回调函数）。它们会分配给检测为空的待测特性。PHP 回调方法的样式如下：</li>
</ul>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$model</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;...&nbsp;计算&nbsp;$value&nbsp;...<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br />}</span></code></pre>
<blockquote><p>补充：如何判断待测值是否为空，被写在另外一个话题的<a href="guide-input-validation.html#handling-empty-inputs">处理空输入</a>章节。</p>
</blockquote>
<h2><a href="./yii-validators-numbervalidator.html">double（双精度浮点型）</a> <a name="double"></a> <a href="#double-shuang-jing-du-fu-dian-xing" name="double-shuang-jing-du-fu-dian-xing" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;检查&nbsp;"salary"&nbsp;是否为浮点数<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'salary'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'double'</span><span style="color: #007700">],<br />]</span></code></pre>
<p>该验证器检查输入值是否为双精度浮点数。他等效于 <a href="#number">number</a> 验证器。</p>
<ul>
<li><code>max</code>：上限值（含界点）。若不设置，则验证器不检查上限。</li>
<li><code>min</code>：下限值（含界点）。若不设置，则验证器不检查下限。</li>
</ul>
<h2><a href="./yii-validators-emailvalidator.html">email（电子邮件）</a> <a name="email"></a> <a href="#email-dian-zi-you-jian" name="email-dian-zi-you-jian" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;检查&nbsp;"email"&nbsp;是否为有效的邮箱地址<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'email'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'email'</span><span style="color: #007700">],<br />]</span></code></pre>
<p>该验证器检查输入值是否为有效的邮箱地址。</p>
<ul>
<li><code>allowName</code>：检查是否允许带名称的电子邮件地址 (e.g. <code>张三 &lt;John.san@example.com&gt;</code>)。 默认为 false。</li>
<li><code>checkDNS</code>：检查邮箱域名是否存在，且有没有对应的 A 或 MX 记录。不过要知道，有的时候该项检查可能会因为临时性 DNS 故障而失败，哪怕它其实是有效的。默认为 false。</li>
<li><code>enableIDN</code>：验证过程是否应该考虑 IDN（internationalized domain names，国际化域名，也称多语种域名，比如中文域名）。默认为 false。要注意但是为使用 IDN 验证功能，请先确保安装并开启 <code>intl</code> PHP 扩展，不然会导致抛出异常。</li>
</ul>
<h2><a href="./yii-validators-existvalidator.html">exist（存在性）</a> <a name="exist"></a> <a href="#exist-cun-zai-xing" name="exist-cun-zai-xing" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;a1&nbsp;需要在&nbsp;"a1"&nbsp;特性所代表的字段内存在<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'a1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'exist'</span><span style="color: #007700">],<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;a1&nbsp;必需存在，但检验的是&nbsp;a1&nbsp;的值在字段&nbsp;a2&nbsp;中的存在性<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'a1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'exist'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'targetAttribute'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'a2'</span><span style="color: #007700">],<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;a1&nbsp;和&nbsp;a2&nbsp;的值都需要存在，且它们都能收到错误提示<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[[</span><span style="color: #DD0000">'a1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'a2'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">'exist'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'targetAttribute'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[</span><span style="color: #DD0000">'a1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'a2'</span><span style="color: #007700">]],<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;a1&nbsp;和&nbsp;a2&nbsp;的值都需要存在，只有&nbsp;a1&nbsp;能接收到错误信息<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'a1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'exist'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'targetAttribute'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[</span><span style="color: #DD0000">'a1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'a2'</span><span style="color: #007700">]],<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;通过同时在&nbsp;a2&nbsp;和&nbsp;a3&nbsp;字段中检查&nbsp;a2&nbsp;和&nbsp;a1&nbsp;的值来确定&nbsp;a1&nbsp;的存在性<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'a1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'exist'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'targetAttribute'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[</span><span style="color: #DD0000">'a2'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'a1'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'a3'</span><span style="color: #007700">]],<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;a1&nbsp;必需存在，若&nbsp;a1&nbsp;为数组，则其每个子元素都必须存在。<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'a1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'exist'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'allowArray'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">],<br />]</span></code></pre>
<p>该验证器检查输入值是否在某表字段中存在。它只对<a href="guide-db-active-record.html">活动记录</a>类型的模型类特性起作用，能支持对一个或多过字段的验证。</p>
<ul>
<li><code>targetClass</code>：用于查找输入值的目标 <a href="guide-db-active-record.html">AR</a> 类。若不设置，则会使用正在进行验证的当前模型类。</li>
<li><code>targetAttribute</code>：用于检查输入值存在性的 <code>targetClass</code> 的模型特性。<ul>
<li>若不设置，它会直接使用待测特性名（整个参数数组的首元素）。</li>
<li>除了指定为字符串以外，你也可以用数组的形式，同时指定多个用于验证的表字段，数组的键和值都是代表字段的特性名，值表示 <code>targetClass</code> 的待测数据源字段，而键表示当前模型的待测特性名。</li>
<li>若键和值相同，你可以只指定值。（如:<code>['a2']</code> 就代表 <code>['a2'=&gt;'a2']</code>）</li>
</ul>
</li>
<li><code>filter</code>：用于检查输入值存在性必然会进行数据库查询，而该属性为用于进一步筛选该查询的过滤条件。可以为代表额外查询条件的字符串或数组（关于查询条件的格式，请参考 <a href="./yii-db-query.html#where()-detail">yii\db\Query::where()</a>）；或者样式为 <code>function ($query)</code> 的匿名函数，<code>$query</code> 参数为你希望在该函数内进行修改的 <a href="./yii-db-query.html">Query</a> 对象。</li>
<li><code>allowArray</code>：是否允许输入值为数组。默认为 false。若该属性为 true 且输入值为数组，则数组的每个元素都必须在目标字段中存在。值得注意的是，若用吧 <code>targetAttribute</code> 设为多元素数组来验证被测值在多字段中的存在性时，该属性不能设置为 true。</li>
</ul>
<blockquote><p>译者注：<a href="#exist">exist</a> 和 <a href="#unique">unique</a> 验证器的机理和参数都相似，有点像一体两面的阴和阳。
- 他们的区别是 exist 要求 <code>targetAttribute</code> 键所代表的的属性在其值所代表字段中找得到；而 unique 正相反，要求键所代表的的属性不能在其值所代表字段中被找到。
- 从另一个角度来理解：他们都会在验证的过程中执行数据库查询，查询的条件即为where $v=$k (假设 <code>targetAttribute</code> 的其中一对键值对为 <code>$k =&gt; $v</code>)。unique 要求查询的结果数 <code>$count==0</code>，而 exist 则要求查询的结果数 <code>$count&gt;0</code>
- 最后别忘了，unique 验证器不存在 <code>allowArray</code> 属性哦。</p>
</blockquote>
<h2><a href="./yii-validators-filevalidator.html">file（文件）</a> <a name="file"></a> <a href="#file-wen-jian" name="file-wen-jian" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;检查&nbsp;"primaryImage"&nbsp;是否为&nbsp;PNG,&nbsp;JPG&nbsp;或&nbsp;GIF&nbsp;格式的上传图片。<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;文件大小必须小于&nbsp;&nbsp;1MB<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'primaryImage'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'file'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'extensions'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[</span><span style="color: #DD0000">'png'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'jpg'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'gif'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">'maxSize'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1024</span><span style="color: #007700">*</span><span style="color: #0000BB">1024</span><span style="color: #007700">*</span><span style="color: #0000BB">1024</span><span style="color: #007700">],<br />]</span></code></pre>
<p>该验证器检查输入值是否为一个有效的上传文件。</p>
<ul>
<li><code>extensions</code>：可接受上传的文件扩展名列表。它可以是数组，也可以是用空格或逗号分隔各个扩展名的字符串 (e.g. "gif, jpg")。
扩展名大小写不敏感。默认为 null，意味着所有扩展名都被接受。</li>
<li><code>mimeTypes</code>：可接受上传的 MIME 类型列表。它可以是数组，也可以是用空格或逗号分隔各个 MIME 的字符串 (e.g. "image/jpeg, image/png")。
Mime 类型名是大小写不敏感的。默认为 null，意味着所有 MIME 类型都被接受。</li>
<li><code>minSize</code>：上传文件所需最少多少 Byte 的大小。默认为 null，代表没有下限。</li>
<li><code>maxSize</code>：上传文件所需最多多少 Byte 的大小。默认为 null，代表没有上限。</li>
<li><code>maxFiles</code>：给定特性最多能承载多少个文件。默认为 1，代表只允许单文件上传。若值大于一，那么输入值必须为包含最多 <code>maxFiles</code> 个上传文件元素的数组。</li>
<li><code>checkExtensionByMimeType</code>：是否通过文件的 MIME 类型来判断其文件扩展。若由 MIME 判定的文件扩展与给定文件的扩展不一样，则文件会被认为无效。默认为 true，代表执行上述检测。</li>
</ul>
<p><code>FileValidator</code> 通常与 <a href="./yii-web-uploadedfile.html">yii\web\UploadedFile</a> 共同使用。请参考 <a href="guide-input-file-upload.html">文件上传</a>章节来了解有关文件上传与上传文件的检验的全部内容。</p>
<h2><a href="./yii-validators-filtervalidator.html">filter（滤镜）</a> <a name="filter"></a> <a href="#filter-lu-jing" name="filter-lu-jing" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;trim&nbsp;掉&nbsp;"username"&nbsp;和&nbsp;"email"&nbsp;输入<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[[</span><span style="color: #DD0000">'username'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'email'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">'filter'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'filter'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'trim'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'skipOnArray'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">],<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;标准化&nbsp;"phone"&nbsp;输入<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'phone'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'filter'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'filter'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;function&nbsp;(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;在此处标准化输入的电话号码<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}],<br />]</span></code></pre>
<p>该验证器并不进行数据验证。而是，给输入值应用一个滤镜，并在检验过程之后把它赋值回特性变量。</p>
<ul>
<li><code>filter</code>：用于定义滤镜的 PHP 回调函数。可以为全局函数名，匿名函数，或其他。该函数的样式必须是 <code>function ($value) { return $newValue; }</code>。该属性不能省略，必须设置。</li>
<li><code>skipOnArray</code>：是否在输入值为数组时跳过滤镜。默认为 false。请注意如果滤镜不能处理数组输入，你就应该把该属性设为 true。否则可能会导致 PHP Error 的发生。</li>
</ul>
<blockquote><p>技巧：如果你只是想要用 trim 处理下输入值，你可以直接用 <a href="#trim">trim</a> 验证器的。</p>
</blockquote>
<h2><a href="./yii-validators-imagevalidator.html">image（图片）</a> <a name="image"></a> <a href="#image-tu-pian" name="image-tu-pian" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;检查&nbsp;"primaryImage"&nbsp;是否为适当尺寸的有效图片<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'primaryImage'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'image'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'extensions'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'png,&nbsp;jpg'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'minWidth'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'maxWidth'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1000</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'minHeight'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'maxHeight'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1000</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;],<br />]</span></code></pre>
<p>该验证器检查输入值是否为代表有效的图片文件。它继承自 <a href="#file">file</a> 验证器，并因此继承有其全部属性。除此之外，它还支持以下为图片检验而设的额外属性：</p>
<ul>
<li><code>minWidth</code>：图片的最小宽度。默认为 null，代表无下限。</li>
<li><code>maxWidth</code>：图片的最大宽度。默认为 null，代表无上限。</li>
<li><code>minHeight</code>：图片的最小高度。 默认为 null，代表无下限。</li>
<li><code>maxHeight</code>：图片的最大高度。默认为 null，代表无上限。</li>
</ul>
<h2><a href="./yii-validators-rangevalidator.html">in（范围）</a> <a name="in"></a> <a href="#in-fan-wei" name="in-fan-wei" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;检查&nbsp;"level"&nbsp;是否为&nbsp;1、2&nbsp;或&nbsp;3&nbsp;中的一个<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'level'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'in'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'range'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">]],<br />]</span></code></pre>
<p>该验证器检查输入值是否存在于给定列表的范围之中。</p>
<ul>
<li><code>range</code>：用于检查输入值的给定值列表。</li>
<li><code>strict</code>：输入值与给定值直接的比较是否为严格模式（也就是类型与值都要相同，即全等）。默认为 false。</li>
<li><code>not</code>：是否对验证的结果取反。默认为 false。当该属性被设置为 true，验证器检查输入值是否<strong>不在</strong>给定列表内。</li>
<li><code>allowArray</code>：是否接受输入值为数组。当该值为 true 且输入值为数组时，数组内的每一个元素都必须在给定列表内存在，否则返回验证失败。</li>
</ul>
<h2><a href="./yii-validators-numbervalidator.html">integer（整数）</a> <a name="integer"></a> <a href="#integer-zheng-shu" name="integer-zheng-shu" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;检查&nbsp;"age"&nbsp;是否为整数<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'age'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'integer'</span><span style="color: #007700">],<br />]</span></code></pre>
<p>该验证器检查输入值是否为整形。</p>
<ul>
<li><code>max</code>：上限值（含界点）。若不设置，则验证器不检查上限。</li>
<li><code>min</code>：下限值（含界点）。若不设置，则验证器不检查下限。</li>
</ul>
<h2><a href="./yii-validators-regularexpressionvalidator.html">match（正则表达式）</a> <a name="match"></a> <a href="#match-zheng-ze-biao-da-shi" name="match-zheng-ze-biao-da-shi" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;检查&nbsp;"username"&nbsp;是否由字母开头，且只包含单词字符<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'username'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'match'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'pattern'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'/^[a-z]\w*$/i'</span><span style="color: #007700">]<br />]</span></code></pre>
<p>该验证器检查输入值是否匹配指定正则表达式。</p>
<ul>
<li><code>pattern</code>：用于检测输入值的正则表达式。该属性是必须的，若不设置则会抛出异常。</li>
<li><code>not</code>：是否对验证的结果取反。默认为 false，代表输入值匹配正则表达式时验证成功。如果设为 true，则输入值不匹配正则时返回匹配成功。</li>
</ul>
<h2><a href="./yii-validators-numbervalidator.html">number（数字）</a> <a name="number"></a> <a href="#number-shu-zi" name="number-shu-zi" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;检查&nbsp;"salary"&nbsp;是否为数字<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'salary'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'number'</span><span style="color: #007700">],<br />]</span></code></pre>
<p>该验证器检查输入值是否为数字。他等效于 <a href="#double">double</a> 验证器。</p>
<ul>
<li><code>max</code>：上限值（含界点）。若不设置，则验证器不检查上限。</li>
<li><code>min</code>：下限值（含界点）。若不设置，则验证器不检查下限。</li>
</ul>
<h2><a href="./yii-validators-requiredvalidator.html">required（必填）</a> <a name="required"></a> <a href="#required-bi-tian" name="required-bi-tian" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;检查&nbsp;"username"&nbsp;与&nbsp;"password"&nbsp;是否为空<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[[</span><span style="color: #DD0000">'username'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'password'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">'required'</span><span style="color: #007700">],<br />]</span></code></pre>
<p>该验证器检查输入值是否为空，还是已经提供了。</p>
<ul>
<li><code>requiredValue</code>：所期望的输入值。若没设置，意味着输入不能为空。</li>
<li><code>strict</code>：检查输入值时是否检查类型。默认为 false。当没有设置 <code>requiredValue</code> 属性时，若该属性为 true，验证器会检查输入值是否严格为 null；若该属性设为 false，该验证器会用一个更加宽松的规则检验输入值是否为空。</li>
</ul>
<p>当设置了 <code>requiredValue</code> 属性时，若该属性为 true，输入值与 <code>requiredValue</code> 的比对会同时检查数据类型。</p>
<blockquote><p>补充：如何判断待测值是否为空，被写在另外一个话题的<a href="guide-input-validation.html#handling-empty-inputs">处理空输入</a>章节。</p>
</blockquote>
<h2><a href="./yii-validators-safevalidator.html">safe（安全）</a> <a name="safe"></a> <a href="#safe-an-quan" name="safe-an-quan" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;标记&nbsp;"description"&nbsp;为安全特性<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'description'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'safe'</span><span style="color: #007700">],<br />]</span></code></pre>
<p>该验证器并不进行数据验证。而是把一个特性标记为<a href="guide-structure-models.html#safe-attributes">安全特性</a>。</p>
<h2><a href="./yii-validators-stringvalidator.html">string（字符串）</a> <a name="string"></a> <a href="#string-zi-fu-chuan" name="string-zi-fu-chuan" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;检查&nbsp;"username"&nbsp;是否为长度&nbsp;4&nbsp;到&nbsp;24&nbsp;之间的字符串<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'username'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'string'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'length'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">24</span><span style="color: #007700">]],<br />]</span></code></pre>
<p>该验证器检查输入值是否为特定长度的字符串。并检查特性的值是否为某个特定长度。</p>
<ul>
<li><code>length</code>：指定待测输入字符串的长度限制。该属性可以被指定为以下格式之一：<ul>
<li>证书：the exact length that the string should be of;</li>
<li>单元素数组：代表输入字符串的最小长度 (e.g. <code>[8]</code>)。这会重写 <code>min</code> 属性。</li>
<li>包含两个元素的数组：代表输入字符串的最小和最大长度(e.g. <code>[8, 128]</code>)。
   这会同时重写 <code>min</code> 和 <code>max</code> 属性。</li>
</ul>
</li>
<li><code>min</code>：输入字符串的最小长度。若不设置，则代表不设下限。</li>
<li><code>max</code>：输入字符串的最大长度。若不设置，则代表不设上限。</li>
<li><code>encoding</code>：待测字符串的编码方式。若不设置，则使用应用自身的 <a href="./yii-base-application.html#$charset-detail">charset</a> 属性值，该值默认为 <code>UTF-8</code>。</li>
</ul>
<h2><a href="./yii-validators-filtervalidator.html">trim（译为修剪/裁边）</a> <a name="trim"></a> <a href="#trim-yi-wei-xiu-jiancai-bian" name="trim-yi-wei-xiu-jiancai-bian" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;trim&nbsp;掉&nbsp;"username"&nbsp;和&nbsp;"email"&nbsp;两侧的多余空格<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[[</span><span style="color: #DD0000">'username'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'email'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">'trim'</span><span style="color: #007700">],<br />]</span></code></pre>
<p>该验证器并不进行数据验证。而是，trim 掉输入值两侧的多余空格。注意若该输入值为数组，那它会忽略掉该验证器。</p>
<h2><a href="./yii-validators-uniquevalidator.html">unique（唯一性）</a> <a name="unique"></a> <a href="#unique-wei-yi-xing" name="unique-wei-yi-xing" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;a1&nbsp;需要在&nbsp;"a1"&nbsp;特性所代表的字段内唯一<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'a1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'unique'</span><span style="color: #007700">],<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;a1&nbsp;需要唯一，但检验的是&nbsp;a1&nbsp;的值在字段&nbsp;a2&nbsp;中的唯一性<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'a1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'unique'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'targetAttribute'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'a2'</span><span style="color: #007700">],<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;a1&nbsp;和&nbsp;a2&nbsp;的组合需要唯一，且它们都能收到错误提示<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[[</span><span style="color: #DD0000">'a1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'a2'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">'unique'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'targetAttribute'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[</span><span style="color: #DD0000">'a1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'a2'</span><span style="color: #007700">]],<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;a1&nbsp;和&nbsp;a2&nbsp;的组合需要唯一，只有&nbsp;a1&nbsp;能接收错误提示<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'a1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'unique'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'targetAttribute'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[</span><span style="color: #DD0000">'a1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'a2'</span><span style="color: #007700">]],<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;通过同时在&nbsp;a2&nbsp;和&nbsp;a3&nbsp;字段中检查&nbsp;a2&nbsp;和&nbsp;a3&nbsp;的值来确定&nbsp;a1&nbsp;的唯一性<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'a1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'unique'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'targetAttribute'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[</span><span style="color: #DD0000">'a2'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'a1'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'a3'</span><span style="color: #007700">]],<br />]</span></code></pre>
<p>该验证器检查输入值是否在某表字段中唯一。它只对<a href="guide-db-active-record.html">活动记录</a>类型的模型类特性起作用，能支持对一个或多过字段的验证。</p>
<ul>
<li><code>targetClass</code>：用于查找输入值的目标 <a href="guide-db-active-record.html">AR</a> 类。若不设置，则会使用正在进行验证的当前模型类。</li>
<li><code>targetAttribute</code>：用于检查输入值唯一性的 <code>targetClass</code> 的模型特性。<ul>
<li>若不设置，它会直接使用待测特性名（整个参数数组的首元素）。</li>
<li>除了指定为字符串以外，你也可以用数组的形式，同时指定多个用于验证的表字段，数组的键和值都是代表字段的特性名，值表示 <code>targetClass</code> 的待测数据源字段，而键表示当前模型的待测特性名。</li>
<li>若键和值相同，你可以只指定值。（如:<code>['a2']</code> 就代表 <code>['a2'=&gt;'a2']</code>）</li>
</ul>
</li>
<li><code>filter</code>：用于检查输入值唯一性必然会进行数据库查询，而该属性为用于进一步筛选该查询的过滤条件。可以为代表额外查询条件的字符串或数组（关于查询条件的格式，请参考 <a href="./yii-db-query.html#where()-detail">yii\db\Query::where()</a>）；或者样式为 <code>function ($query)</code> 的匿名函数，<code>$query</code> 参数为你希望在该函数内进行修改的 <a href="./yii-db-query.html">Query</a> 对象。</li>
</ul>
<blockquote><p>译者注：<a href="#exist">exist</a> 和 <a href="#unique">unique</a> 验证器的机理和参数都相似，有点像一体两面的阴和阳。
- 他们的区别是 exist 要求 <code>targetAttribute</code> 键所代表的的属性在其值所代表字段中找得到；而 unique 正相反，要求键所代表的的属性不能在其值所代表字段中被找到。
- 从另一个角度来理解：他们都会在验证的过程中执行数据库查询，查询的条件即为where $v=$k (假设 <code>targetAttribute</code> 的其中一对键值对为 <code>$k =&gt; $v</code>)。unique 要求查询的结果数 <code>$count==0</code>，而 exist 则要求查询的结果数 <code>$count&gt;0</code>
- 最后别忘了，unique 验证器不存在 <code>allowArray</code> 属性哦。</p>
</blockquote>
<h2><a href="./yii-validators-urlvalidator.html">url（网址）</a> <a name="url"></a> <a href="#url-wang-zhi" name="url-wang-zhi" class="hashlink">&para;</a></h2>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;检查&nbsp;"website"&nbsp;是否为有效的&nbsp;URL。若没有&nbsp;URI&nbsp;方案，则给&nbsp;"website"&nbsp;特性加&nbsp;"http://"&nbsp;前缀<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'website'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'url'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'defaultScheme'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'http'</span><span style="color: #007700">],<br />]</span></code></pre>
<p>该验证器检查输入值是否为有效 URL。</p>
<ul>
<li><code>validSchemes</code>：用于指定那些 URI 方案会被视为有效的数组。默认为 <code>['http', 'https']</code>，代表 <code>http</code> 和 <code>https</code> URLs 会被认为有效。</li>
<li><code>defaultScheme</code>：若输入值没有对应的方案前缀，会使用的默认 URI 方案前缀。默认为 null，代表不修改输入值本身。</li>
<li><code>enableIDN</code>：验证过程是否应该考虑 IDN（internationalized domain names，国际化域名，也称多语种域名，比如中文域名）。默认为 false。要注意但是为使用 IDN 验证功能，请先确保安装并开启 <code>intl</code> PHP 扩展，不然会导致抛出异常。</li>
</ul>
        <div class="toplink"><a href="#" class="h1" title="go to top"><span class="glyphicon glyphicon-arrow-up"></a></div>
    </div>
</div>


</div>

<footer class="footer">
        <p class="pull-right"><small>Page generated on Thu, 04 Sep 2014 18:26:37 +0200</small></p>
    Powered by <a href="http://www.yiiframework.com/" rel="external">Yii Framework</a></footer>

<script type="text/javascript">jQuery(document).ready(function () {
    var shiftWindow = function () { scrollBy(0, -50) };
    if (location.hash) shiftWindow();
    window.addEventListener("hashchange", shiftWindow);
var element = document.createElement("script");
element.src = "./jssearch.index.js";
document.body.appendChild(element);

var searchBox = $('#searchbox');

// focus the search field
searchBox.focus();

// search when typing in search field
searchBox.on("keyup", function(event) {
    var query = $(this).val();

    if (query == '' || event.which == 27) {
        $('#search-resultbox').hide();
        return;
    } else if (event.which == 13) {
        var selectedLink = $('#search-resultbox a.selected');
        if (selectedLink.length != 0) {
            document.location = selectedLink.attr('href');
            return;
        }
    } else if (event.which == 38 || event.which == 40) {
        $('#search-resultbox').show();

        var selected = $('#search-resultbox a.selected');
        if (selected.length == 0) {
            $('#search-results').find('a').first().addClass('selected');
        } else {
            var next;
            if (event.which == 40) {
                next = selected.parent().next().find('a').first();
            } else {
                next = selected.parent().prev().find('a').first();
            }
            if (next.length != 0) {
                var resultbox = $('#search-results');
                var position = next.position();

//              TODO scrolling is buggy and jumps around
//                resultbox.scrollTop(Math.floor(position.top));
//                console.log(position.top);

                selected.removeClass('selected');
                next.addClass('selected');
            }
        }

        return;
    }
    $('#search-resultbox').show();
    $('#search-results').html('<li><span class="no-results">No results</span></li>');

    var result = jssearch.search(query);

    if (result.length > 0) {
        var i = 0;
        var resHtml = '';

        for (var key in result) {
            if (i++ > 20) {
                break;
            }
            resHtml = resHtml +
            '<li><a href="' + result[key].file.u.substr(3) +'"><span class="title">' + result[key].file.t + '</span>' +
            '<span class="description">' + result[key].file.d + '</span></a></li>';
        }
        $('#search-results').html(resHtml);
    }
});

// hide the search results on ESC
$(document).on("keyup", function(event) { if (event.which == 27) { $('#search-resultbox').hide(); } });
// hide search results on click to document
$(document).bind('click', function (e) { $('#search-resultbox').hide(); });
// except the following:
searchBox.bind('click', function(e) { e.stopPropagation(); });
$('#search-resultbox').bind('click', function(e) { e.stopPropagation(); });

});</script></body>
</html>
