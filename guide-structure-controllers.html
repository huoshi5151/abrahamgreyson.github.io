<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="language" content="en" />
        <link href="./assets/b1841845/css/bootstrap.css" rel="stylesheet">
<link href="./assets/d607947b/style.css" rel="stylesheet">
<script src="./assets/ff75f2d2/jquery.js"></script>
<script src="./assets/b1841845/js/bootstrap.js"></script>
<script src="./assets/ee9fb928/jssearch.js"></script>    <title>Yii Framework 2.0 API Documentation</title>
</head>
<body>

<div class="wrap">
    <nav id="w1172" class="navbar-inverse navbar-fixed-top navbar" role="navigation"><div class="navbar-header"><button class="navbar-toggle" data-toggle="collapse" data-target="#w1172-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="./index.html">Yii 2.0 API 文档</a></div><div id="w1172-collapse" class="collapse navbar-collapse"><ul id="w1173" class="navbar-nav nav"><li><a href="./index.html">类参考</a></li>
<li class="dropdown"><a class="dropdown-toggle" href="#" data-toggle="dropdown">扩展 <b class="caret"></b></a><ul id="w1174" class="dropdown-menu"><li><a href="./ext-apidoc-index.html" tabindex="-1">apidoc</a></li>
<li><a href="./ext-authclient-index.html" tabindex="-1">authclient</a></li>
<li><a href="./ext-bootstrap-index.html" tabindex="-1">bootstrap</a></li>
<li><a href="./ext-codeception-index.html" tabindex="-1">codeception</a></li>
<li><a href="./ext-composer-index.html" tabindex="-1">composer</a></li>
<li><a href="./ext-debug-index.html" tabindex="-1">debug</a></li>
<li><a href="./ext-elasticsearch-index.html" tabindex="-1">elasticsearch</a></li>
<li><a href="./ext-faker-index.html" tabindex="-1">faker</a></li>
<li><a href="./ext-gii-index.html" tabindex="-1">gii</a></li>
<li><a href="./ext-imagine-index.html" tabindex="-1">imagine</a></li>
<li><a href="./ext-jui-index.html" tabindex="-1">jui</a></li>
<li><a href="./ext-mongodb-index.html" tabindex="-1">mongodb</a></li>
<li><a href="./ext-redis-index.html" tabindex="-1">redis</a></li>
<li><a href="./ext-smarty-index.html" tabindex="-1">smarty</a></li>
<li><a href="./ext-sphinx-index.html" tabindex="-1">sphinx</a></li>
<li><a href="./ext-swiftmailer-index.html" tabindex="-1">swiftmailer</a></li>
<li><a href="./ext-twig-index.html" tabindex="-1">twig</a></li></ul></li>
<li><a href="./guide-README.html">权威指南</a></li>
<li class="dropdown"><a class="dropdown-toggle" href="#" data-toggle="dropdown">Github <b class="caret"></b></a><ul id="w1175" class="dropdown-menu"><li><a href="https://github.com/yiisoft/yii2" tabindex="-1">Yii 2.0</a></li>
<li><a href="https://github.com/yii2-chinesization/yii2-zh-cn" tabindex="-1">Yii 2.0 中文化项目</a></li>
<li><a href="https://github.com/AbrahamGreyson/abrahamgreyson.github.io" tabindex="-1">docwithcn.com</a></li></ul></li></ul><div class="navbar-form navbar-left" role="search">
  <div class="form-group">
    <input id="searchbox" type="text" class="form-control" placeholder="Search">
  </div>
</div>
</div></nav>
    <div id="search-resultbox" style="display: none;" class="modal-content">
        <ul id="search-results">
        </ul>
    </div>

    
<div class="row">
    <div class="col-md-2">
                <div id="navigation" class="list-group"><a class="list-group-item" href="#navigation-1155" data-toggle="collapse" data-parent="#navigation">介绍 <b class="caret"></b></a><div id="navigation-1155" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-intro-yii.html">关于 Yii</a>
<a class="list-group-item" href="./guide-intro-upgrade-from-v1.html">从 Yii 1.1 升级</a></div>
<a class="list-group-item" href="#navigation-1156" data-toggle="collapse" data-parent="#navigation">入门 <b class="caret"></b></a><div id="navigation-1156" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-start-installation.html">安装 Yii</a>
<a class="list-group-item" href="./guide-start-workflow.html">运行应用</a>
<a class="list-group-item" href="./guide-start-hello.html">第一次问候</a>
<a class="list-group-item" href="./guide-start-forms.html">使用 Forms</a>
<a class="list-group-item" href="./guide-start-databases.html">玩转 Databases</a>
<a class="list-group-item" href="./guide-start-gii.html">用 Gii 生成代码</a>
<a class="list-group-item" href="./guide-start-looking-ahead.html">更上一层楼</a></div>
<a class="list-group-item active" href="#navigation-1157" data-toggle="collapse" data-parent="#navigation">应用结构 <b class="caret"></b></a><div id="navigation-1157" class="submenu panel-collapse collapse in"><a class="list-group-item" href="./guide-structure-overview.html">结构总览</a>
<a class="list-group-item" href="./guide-structure-entry-scripts.html">入口脚本</a>
<a class="list-group-item" href="./guide-structure-applications.html">应用</a>
<a class="list-group-item" href="./guide-structure-application-components.html">应用组件</a>
<a class="list-group-item active" href="./guide-structure-controllers.html">控制器（Controller）</a>
<a class="list-group-item" href="./guide-structure-views.html">视图（View）</a>
<a class="list-group-item" href="./guide-structure-models.html">模型（Model）</a>
<a class="list-group-item" href="./guide-structure-filters.html">过滤器</a>
<a class="list-group-item" href="./guide-structure-widgets.html">小部件（Widget）</a>
<a class="list-group-item" href="./guide-structure-modules.html">模块（Module）</a>
<a class="list-group-item" href="./guide-structure-assets.html">前端资源（Asset）</a>
<a class="list-group-item" href="./guide-structure-extensions.html">扩展（extensions）</a></div>
<a class="list-group-item" href="#navigation-1158" data-toggle="collapse" data-parent="#navigation">请求处理 <b class="caret"></b></a><div id="navigation-1158" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-runtime-bootstrapping.html">引导（Bootstrapping）</a>
<a class="list-group-item" href="./guide-runtime-routing.html">路由（Routing）</a>
<a class="list-group-item" href="./guide-runtime-requests.html">请求（Request）</a>
<a class="list-group-item" href="./guide-runtime-responses.html">响应（Response）</a>
<a class="list-group-item" href="./guide-runtime-sessions-cookies.html">Sessions（会话）和 Cookies</a>
<a class="list-group-item" href="./guide-runtime-url-handling.html">URL 解析和生成</a>
<a class="list-group-item" href="./guide-runtime-handling-errors.html">错误处理</a>
<a class="list-group-item" href="./guide-runtime-logging.html">日志</a></div>
<a class="list-group-item" href="#navigation-1159" data-toggle="collapse" data-parent="#navigation">关键概念 <b class="caret"></b></a><div id="navigation-1159" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-concept-components.html">组件（Component）</a>
<a class="list-group-item" href="./guide-concept-properties.html">属性（Property）</a>
<a class="list-group-item" href="./guide-concept-events.html">事件（Event）</a>
<a class="list-group-item" href="./guide-concept-behaviors.html">行为（Behavior）</a>
<a class="list-group-item" href="./guide-concept-configurations.html">配置（Configurations）</a>
<a class="list-group-item" href="./guide-concept-autoloading.html">类自动加载（Autoloading）</a>
<a class="list-group-item" href="./guide-concept-alias.html">别名（Alias）</a>
<a class="list-group-item" href="./guide-concept-service-locator.html">服务定位器（Service Locator）</a>
<a class="list-group-item" href="./guide-concept-di-container.html">依赖注入容器（DI Container）</a></div>
<a class="list-group-item" href="#navigation-1160" data-toggle="collapse" data-parent="#navigation">配合数据库工作 <b class="caret"></b></a><div id="navigation-1160" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-db-dao.html">数据访问对象（DAO）</a>
<a class="list-group-item" href="./guide-db-query-builder.html">查询生成器（Query Builder）</a>
<a class="list-group-item" href="./guide-db-active-record.html">活动记录（Active Record）</a>
<a class="list-group-item" href="./guide-db-migrations.html">数据库迁移（Migration）</a>
<a class="list-group-item" href="./guide-db-sphinx.html">Sphinx</a>
<a class="list-group-item" href="./guide-db-redis.html">Redis</a>
<a class="list-group-item" href="./guide-db-mongodb.html">MongoDB</a>
<a class="list-group-item" href="./guide-db-elastic-search.html">ElasticSearch</a></div>
<a class="list-group-item" href="#navigation-1161" data-toggle="collapse" data-parent="#navigation">接收用户数据 <b class="caret"></b></a><div id="navigation-1161" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-input-forms.html">创建表单</a>
<a class="list-group-item" href="./guide-input-validation.html">输入验证</a>
<a class="list-group-item" href="./guide-input-file-uploading.html">文件上传</a>
<a class="list-group-item" href="./guide-input-multiple-models.html">多模型同时输入</a></div>
<a class="list-group-item" href="#navigation-1162" data-toggle="collapse" data-parent="#navigation">显示数据 <b class="caret"></b></a><div id="navigation-1162" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-output-formatting.html">格式化输出数据</a>
<a class="list-group-item" href="./guide-output-pagination.html">分页（Pagination）</a>
<a class="list-group-item" href="./guide-output-sorting.html">排序（Sorting）</a>
<a class="list-group-item" href="./guide-output-data-providers.html">数据提供器</a>
<a class="list-group-item" href="./guide-output-data-widgets.html">数据小部件</a>
<a class="list-group-item" href="./guide-output-theming.html">主题</a></div>
<a class="list-group-item" href="#navigation-1163" data-toggle="collapse" data-parent="#navigation">安全 <b class="caret"></b></a><div id="navigation-1163" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-security-authentication.html">认证（Authentication）</a>
<a class="list-group-item" href="./guide-security-authorization.html">授权（Authorization）</a>
<a class="list-group-item" href="./guide-security-passwords.html">处理密码</a>
<a class="list-group-item" href="./guide-security-auth-clients.html">客户端认证</a>
<a class="list-group-item" href="./guide-security-best-practices.html">安全领域的最佳实践</a></div>
<a class="list-group-item" href="#navigation-1164" data-toggle="collapse" data-parent="#navigation">缓存 <b class="caret"></b></a><div id="navigation-1164" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-caching-overview.html">概述</a>
<a class="list-group-item" href="./guide-caching-data.html">数据缓存</a>
<a class="list-group-item" href="./guide-caching-fragment.html">片段缓存</a>
<a class="list-group-item" href="./guide-caching-page.html">分页缓存</a>
<a class="list-group-item" href="./guide-caching-http.html">HTTP 缓存</a></div>
<a class="list-group-item" href="#navigation-1165" data-toggle="collapse" data-parent="#navigation">RESTful Web 服务 <b class="caret"></b></a><div id="navigation-1165" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-rest-quick-start.html">快速入门</a>
<a class="list-group-item" href="./guide-rest-resources.html">资源</a>
<a class="list-group-item" href="./guide-rest-routing.html">路由</a>
<a class="list-group-item" href="./guide-rest-response-formatting.html">格式化响应</a>
<a class="list-group-item" href="./guide-rest-authentication.html">授权验证</a>
<a class="list-group-item" href="./guide-rest-rate-limiting.html">速率限制</a>
<a class="list-group-item" href="./guide-rest-versioning.html">版本化</a>
<a class="list-group-item" href="./guide-rest-error-handling.html">错误处理</a>
<a class="list-group-item" href="./guide-rest-testing.html">测试</a></div>
<a class="list-group-item" href="#navigation-1166" data-toggle="collapse" data-parent="#navigation">开发工具 <b class="caret"></b></a><div id="navigation-1166" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-tool-debugger.html">调试工具栏和调试器</a>
<a class="list-group-item" href="./guide-tool-gii.html">使用 Gii 生成代码</a>
<a class="list-group-item" href="./guide-tool-api-doc.html">生成 API 文档</a></div>
<a class="list-group-item" href="#navigation-1167" data-toggle="collapse" data-parent="#navigation">测试 <b class="caret"></b></a><div id="navigation-1167" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-test-overview.html">概述</a>
<a class="list-group-item" href="./guide-test-unit.html">单元测试</a>
<a class="list-group-item" href="./guide-test-functional.html">功能测试</a>
<a class="list-group-item" href="./guide-test-acceptance.html">验收测试</a>
<a class="list-group-item" href="./guide-test-fixtures.html">测试夹具</a></div>
<a class="list-group-item" href="#navigation-1168" data-toggle="collapse" data-parent="#navigation">高级专题 <b class="caret"></b></a><div id="navigation-1168" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-tutorial-advanced-app.html">高级应用模版</a>
<a class="list-group-item" href="./guide-tutorial-start-from-scratch.html">从头构建自定义模版</a>
<a class="list-group-item" href="./guide-tutorial-console.html">控制台命令</a>
<a class="list-group-item" href="./guide-tutorial-core-validators.html">核心验证器</a>
<a class="list-group-item" href="./guide-tutorial-i18n.html">国际化</a>
<a class="list-group-item" href="./guide-tutorial-mailing.html">收发邮件</a>
<a class="list-group-item" href="./guide-tutorial-performance-tuning.html">性能优化</a>
<a class="list-group-item" href="./guide-tutorial-shared-hosting.html">共享主机环境</a>
<a class="list-group-item" href="./guide-tutorial-template-engines.html">模板引擎</a>
<a class="list-group-item" href="./guide-tutorial-yii-integration.html">集成第三方代码</a></div>
<a class="list-group-item" href="#navigation-1169" data-toggle="collapse" data-parent="#navigation">小部件 <b class="caret"></b></a><div id="navigation-1169" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-widget-bootstrap.html">Bootstrap 小部件</a>
<a class="list-group-item" href="./guide-widget-jui.html">Jquery UI 小部件</a></div>
<a class="list-group-item" href="#navigation-1170" data-toggle="collapse" data-parent="#navigation">助手类 <b class="caret"></b></a><div id="navigation-1170" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-helper-overview.html">助手一览</a>
<a class="list-group-item" href="./guide-helper-array.html">ArrayHelper</a>
<a class="list-group-item" href="./guide-helper-html.html">Html</a>
<a class="list-group-item" href="./guide-helper-url.html">Url</a>
<a class="list-group-item" href="./guide-helper-security.html">security</a></div>
<a class="list-group-item" href="#navigation-1171" data-toggle="collapse" data-parent="#navigation">不在目录内的文件 <b class="caret"></b></a><div id="navigation-1171" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-glossary.html">glossary</a></div></div>    </div>
    <div class="col-md-9 guide-content" role="main">
        <h1>Controllers <a href="#controllers" name="controllers" class="hashlink">&para;</a></h1>
<p>Controllers are part of the <a href="http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller">MVC</a> architecture.
They are objects of classes extending from <a href="./yii-base-controller.html">yii\base\Controller</a> and are responsible for processing requests and
generating responses. In particular, after taking over the control from <a href="guide-structure-applications.html">applications</a>,
controllers will analyze incoming request data, pass them to <a href="guide-structure-models.html">models</a>, inject model results
into <a href="guide-structure-views.html">views</a>, and finally generate outgoing responses.</p>
<h2>Actions <a name="actions"></a> <a href="#actions" name="actions" class="hashlink">&para;</a></h2>
<p>Controllers are composed by <em>actions</em> which are the most basic units that end users can address and request for
execution. A controller can have one or multiple actions.</p>
<p>The following example shows a <code>post</code> controller with two actions: <code>view</code> and <code>create</code>:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">app</span><span style="color: #007700">\</span><span style="color: #0000BB">controllers</span><span style="color: #007700">;<br /><br />use&nbsp;</span><span style="color: #0000BB">Yii</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">app</span><span style="color: #007700">\</span><span style="color: #0000BB">models</span><span style="color: #007700">\</span><span style="color: #0000BB">Post</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">web</span><span style="color: #007700">\</span><span style="color: #0000BB">Controller</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">web</span><span style="color: #007700">\</span><span style="color: #0000BB">NotFoundHttpException</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">PostController&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Controller<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">actionView</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$model&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Post</span><span style="color: #007700">::</span><span style="color: #0000BB">findOne</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$model&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">NotFoundHttpException</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">render</span><span style="color: #007700">(</span><span style="color: #DD0000">'view'</span><span style="color: #007700">,&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'model'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$model</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">actionCreate</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$model&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Post</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$model</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">load</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">$app</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">post</span><span style="color: #007700">())&nbsp;&amp;&amp;&nbsp;</span><span style="color: #0000BB">$model</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">save</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">redirect</span><span style="color: #007700">([</span><span style="color: #DD0000">'view'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'id'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$model</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">id</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">render</span><span style="color: #007700">(</span><span style="color: #DD0000">'create'</span><span style="color: #007700">,&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'model'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$model</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}</span></code></pre>
<p>In the <code>view</code> action (defined by the <code>actionView()</code> method), the code first loads the <a href="guide-structure-models.html">model</a>
according to the requested model ID; If the model is loaded successfully, it will display it using
a <a href="guide-structure-views.html">view</a> named <code>view</code>. Otherwise, it will throw an exception.</p>
<p>In the <code>create</code> action (defined by the <code>actionCreate()</code> method), the code is similar. It first tries to populate
the <a href="guide-structure-models.html">model</a> using the request data and save the model. If both succeed it will redirect
the browser to the <code>view</code> action with the ID of the newly created model. Otherwise it will display
the <code>create</code> view through which users can provide the needed input.</p>
<h2>Routes <a name="routes"></a> <a href="#routes" name="routes" class="hashlink">&para;</a></h2>
<p>End users address actions through the so-called <em>routes</em>. A route is a string that consists of the following parts:</p>
<ul>
<li>a module ID: this exists only if the controller belongs to a non-application <a href="guide-structure-modules.html">module</a>;</li>
<li>a controller ID: a string that uniquely identifies the controller among all controllers within the same application
(or the same module if the controller belongs to a module);</li>
<li>an action ID: a string that uniquely identifies the action among all actions within the same controller.</li>
</ul>
<p>Routes take the following format:</p>
<pre><code>ControllerID/ActionID
</code></pre>
<p>or the following format if the controller belongs to a module:</p>
<pre><code class="language-php"><span style="color: #0000BB">ModuleID</span><span style="color: #007700">/</span><span style="color: #0000BB">ControllerID</span><span style="color: #007700">/</span><span style="color: #0000BB">ActionID</span></code></pre>
<p>So if a user requests with the URL <code>http://hostname/index.php?r=site/index</code>, the <code>index</code> action in the <code>site</code> controller
will be executed. For more details how routes are resolved into actions, please refer to
the <a href="guide-runtime-routing.html">Routing</a> section.</p>
<h2>Creating Controllers <a name="creating-controllers"></a> <a href="#creating-controllers" name="creating-controllers" class="hashlink">&para;</a></h2>
<p>In <a href="./yii-web-application.html">Web applications</a>, controllers should extend from <a href="./yii-web-controller.html">yii\web\Controller</a> or its
child classes. Similarly in <a href="./yii-console-application.html">console applications</a>, controllers should extend from
<a href="./yii-console-controller.html">yii\console\Controller</a> or its child classes. The following code defines a <code>site</code> controller:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">app</span><span style="color: #007700">\</span><span style="color: #0000BB">controllers</span><span style="color: #007700">;<br /><br />use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">web</span><span style="color: #007700">\</span><span style="color: #0000BB">Controller</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">SiteController&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Controller<br /></span><span style="color: #007700">{<br />}</span></code></pre>
<h3>Controller IDs <a name="controller-ids"></a> <a href="#controller-ids" name="controller-ids" class="hashlink">&para;</a></h3>
<p>Usually, a controller is designed to handle the requests regarding a particular type of resource.
For this reason, controller IDs are often nouns referring to the types of the resources that they are handling.
For example, you may use <code>article</code> as the ID of a controller that handles article data.</p>
<p>By default, controller IDs should contain these characters only: English letters in lower case, digits,
underscores, dashes and forward slashes. For example, <code>article</code> and <code>post-comment</code> are both valid controller IDs,
while <code>article?</code>, <code>PostComment</code>, <code>admin\post</code> are not.</p>
<p>A controller ID may also contain a subdirectory prefix. For example, <code>admin/article</code> stands for an <code>article</code> controller
in the <code>admin</code> subdirectory under the <a href="./yii-base-application.html#$controllerNamespace-detail">controller namespace</a>.
Valid characters for subdirectory prefixes include: English letters in lower and upper cases, digits, underscores and
forward slashes, where forward slashes are used as separators for multi-level subdirectories (e.g. <code>panels/admin</code>).</p>
<h3>Controller Class Naming <a name="controller-class-naming"></a> <a href="#controller-class-naming" name="controller-class-naming" class="hashlink">&para;</a></h3>
<p>Controller class names can be derived from controller IDs according to the following rules:</p>
<ul>
<li>Turn the first letter in each word separated by dashes into upper case. Note that if the controller ID
contains slashes, this rule only applies to the part after the last slash in the ID.</li>
<li>Remove dashes and replace any forward slashes with backward slashes.</li>
<li>Append the suffix <code>Controller</code>.</li>
<li>And prepend the <a href="./yii-base-application.html#$controllerNamespace-detail">controller namespace</a>.</li>
</ul>
<p>The followings are some examples, assuming the <a href="./yii-base-application.html#$controllerNamespace-detail">controller namespace</a>
takes the default value <code>app\controllers</code>:</p>
<ul>
<li><code>article</code> derives <code>app\controllers\ArticleController</code>;</li>
<li><code>post-comment</code> derives <code>app\controllers\PostCommentController</code>;</li>
<li><code>admin/post-comment</code> derives <code>app\controllers\admin\PostCommentController</code>;</li>
<li><code>adminPanels/post-comment</code> derives <code>app\controllers\adminPanels\PostCommentController</code>.</li>
</ul>
<p>Controller classes must be <a href="guide-concept-autoloading.html">autoloadable</a>. For this reason, in the above examples,
the <code>article</code> controller class should be saved in the file whose <a href="guide-concept-aliases.html">alias</a>
is <code>@app/controllers/ArticleController.php</code>; while the <code>admin/post2-comment</code> controller should be
in <code>@app/controllers/admin/Post2CommentController.php</code>.</p>
<blockquote><p>Info: The last example <code>admin/post2-comment</code> shows how you can put a controller under a sub-directory
  of the <a href="./yii-base-application.html#$controllerNamespace-detail">controller namespace</a>. This is useful when you want
  to organize your controllers into several categories and you do not want to use <a href="guide-structure-modules.html">modules</a>.</p>
</blockquote>
<h3>Controller Map <a name="controller-map"></a> <a href="#controller-map" name="controller-map" class="hashlink">&para;</a></h3>
<p>You can configure <a href="./yii-base-module.html#$controllerMap-detail">controller map</a> to overcome the constraints
of the controller IDs and class names described above. This is mainly useful when you are using some
third-party controllers which you do not control over their class names.</p>
<p>You may configure <a href="./yii-base-module.html#$controllerMap-detail">controller map</a> in the
<a href="guide-structure-applications.html#application-configurations">application configuration</a> like the following:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'controllerMap'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;declares&nbsp;"account"&nbsp;controller&nbsp;using&nbsp;a&nbsp;class&nbsp;name<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'account'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'app\controllers\UserController'</span><span style="color: #007700">,<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;declares&nbsp;"article"&nbsp;controller&nbsp;using&nbsp;a&nbsp;configuration&nbsp;array<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'article'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'class'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'app\controllers\PostController'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'enableCsrfValidation'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;&nbsp;],<br />]</span></code></pre>
<h3>Default Controller <a name="default-controller"></a> <a href="#default-controller" name="default-controller" class="hashlink">&para;</a></h3>
<p>Each application has a default controller specified via the <a href="./yii-base-module.html#$defaultRoute-detail">yii\base\Application::$defaultRoute</a> property.
When a request does not specify a <a href="#ids-routes">route</a>, the route specified by this property will be used.
For <a href="./yii-web-application.html">Web applications</a>, its value is <code>'site'</code>, while for <a href="./yii-console-application.html">console applications</a>,
it is <code>help</code>. Therefore, if a URL is <code>http://hostname/index.php</code>, it means the <code>site</code> controller will handle the request.</p>
<p>You may change the default controller with the following <a href="guide-structure-applications.html#application-configurations">application configuration</a>:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'defaultRoute'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'main'</span><span style="color: #007700">,<br />]</span></code></pre>
<h2>Creating Actions <a name="creating-actions"></a> <a href="#creating-actions" name="creating-actions" class="hashlink">&para;</a></h2>
<p>Creating actions can be as simple as defining the so-called <em>action methods</em> in a controller class. An action method is
a <em>public</em> method whose name starts with the word <code>action</code>. The return value of an action method represents
the response data to be sent to end users. The following code defines two actions <code>index</code> and <code>hello-world</code>:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">app</span><span style="color: #007700">\</span><span style="color: #0000BB">controllers</span><span style="color: #007700">;<br /><br />use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">web</span><span style="color: #007700">\</span><span style="color: #0000BB">Controller</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">SiteController&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Controller<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">actionIndex</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">render</span><span style="color: #007700">(</span><span style="color: #DD0000">'index'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">actionHelloWorld</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">'Hello&nbsp;World'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}</span></code></pre>
<h3>Action IDs <a name="action-ids"></a> <a href="#action-ids" name="action-ids" class="hashlink">&para;</a></h3>
<p>An action is often designed to perform a particular manipulation about a resource. For this reason,
action IDs are usually verbs, such as <code>view</code>, <code>update</code>, etc.</p>
<p>By default, action IDs should contain these characters only: English letters in lower case, digits,
underscores and dashes. The dashes in an actionID are used to separate words. For example,
<code>view</code>, <code>update2</code>, <code>comment-post</code> are all valid action IDs, while <code>view?</code>, <code>Update</code> are not.</p>
<p>You can create actions in two ways: inline actions and standalone actions. An inline action is
defined as a method in the controller class, while a standalone action is a class extending
<a href="./yii-base-action.html">yii\base\Action</a> or its child class. Inline actions take less effort to create and are often preferred
if you have no intention to reuse these actions. Standalone actions, on the other hand, are mainly
created to be used in different controllers or be redistributed as <a href="guide-structure-extensions.html">extensions</a>.</p>
<h3>Inline Actions <a name="inline-actions"></a> <a href="#inline-actions" name="inline-actions" class="hashlink">&para;</a></h3>
<p>Inline actions refer to the actions that are defined in terms of action methods as we just described.</p>
<p>The names of the action methods are derived from action IDs according to the following criteria:</p>
<ul>
<li>Turn the first letter in each word of the action ID into upper case;</li>
<li>Remove dashes;</li>
<li>Prepend the prefix <code>action</code>.</li>
</ul>
<p>For example, <code>index</code> becomes <code>actionIndex</code>, and <code>hello-world</code> becomes <code>actionHelloWorld</code>.</p>
<blockquote><p>Note: The names of the action methods are <em>case-sensitive</em>. If you have a method named <code>ActionIndex</code>,
  it will not be considered as an action method, and as a result, the request for the <code>index</code> action
  will result in an exception. Also note that action methods must be public. A private or protected
  method does NOT define an inline action.</p>
</blockquote>
<p>Inline actions are the most commonly defined actions because they take little effort to create. However,
if you plan to reuse the same action in different places, or if you want to redistribute an action,
you should consider defining it as a <em>standalone action</em>.</p>
<h3>Standalone Actions <a name="standalone-actions"></a> <a href="#standalone-actions" name="standalone-actions" class="hashlink">&para;</a></h3>
<p>Standalone actions are defined in terms of action classes extending <a href="./yii-base-action.html">yii\base\Action</a> or its child classes.
For example, in the Yii releases, there are <a href="./yii-web-viewaction.html">yii\web\ViewAction</a> and <a href="./yii-web-erroraction.html">yii\web\ErrorAction</a>, both of which
are standalone actions.</p>
<p>To use a standalone action, you should declare it in the <em>action map</em> by overriding the
<a href="./yii-base-controller.html#actions()-detail">yii\base\Controller::actions()</a> method in your controller classes like the following:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">actions</span><span style="color: #007700">()<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;declares&nbsp;"error"&nbsp;action&nbsp;using&nbsp;a&nbsp;class&nbsp;name<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'error'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'yii\web\ErrorAction'</span><span style="color: #007700">,<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;declares&nbsp;"view"&nbsp;action&nbsp;using&nbsp;a&nbsp;configuration&nbsp;array<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'view'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'class'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'yii\web\ViewAction'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'viewPrefix'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;&nbsp;];<br />}</span></code></pre>
<p>As you can see, the <code>actions()</code> method should return an array whose keys are action IDs and values the corresponding
action class names or <a href="guide-concept-configurations.html">configurations</a>. Unlike inline actions, action IDs for standalone
actions can contain arbitrary characters, as long as they are declared in the <code>actions()</code> method.</p>
<p>To create a standalone action class, you should extend <a href="./yii-base-action.html">yii\base\Action</a> or its child class, and implement
a public method named <code>run()</code>. The role of the <code>run()</code> method is similar to that of an action method. For example,</p>
<pre><code class="language-php"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">app</span><span style="color: #007700">\</span><span style="color: #0000BB">components</span><span style="color: #007700">;<br /><br />use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">base</span><span style="color: #007700">\</span><span style="color: #0000BB">Action</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">HelloWorldAction&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Action<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">run</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"Hello&nbsp;World"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}</span></code></pre>
<h3>Action Results <a name="action-results"></a> <a href="#action-results" name="action-results" class="hashlink">&para;</a></h3>
<p>The return value of an action method or the <code>run()</code> method of a standalone action is significant. It stands
for the result of the corresponding action.</p>
<p>The return value can be a <a href="guide-runtime-responses.html">response</a> object which will be sent to as the response
to end users.</p>
<ul>
<li>For <a href="./yii-web-application.html">Web applications</a>, the return value can also be some arbitrary data which will
be assigned to <a href="./yii-web-response.html#$data-detail">yii\web\Response::$data</a> and be further converted into a string representing the response body.</li>
<li>For <a href="./yii-console-application.html">console applications</a>, the return value can also be an integer representing
the <a href="./yii-base-response.html#$exitStatus-detail">exit status</a> of the command execution.</li>
</ul>
<p>In the examples shown above, the action results are all strings which will be treated as the response body
to be sent to end users. The following example shows how an action can redirect the user browser to a new URL
by returning a response object (because the <a href="./yii-web-controller.html#redirect()-detail">redirect()</a> method returns
a response object):</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">actionForward</span><span style="color: #007700">()<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;redirect&nbsp;the&nbsp;user&nbsp;browser&nbsp;to&nbsp;http://example.com<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">redirect</span><span style="color: #007700">(</span><span style="color: #DD0000">'http://example.com'</span><span style="color: #007700">);<br />}</span></code></pre>
<h3>Action Parameters <a name="action-parameters"></a> <a href="#action-parameters" name="action-parameters" class="hashlink">&para;</a></h3>
<p>The action methods for inline actions and the <code>run()</code> methods for standalone actions can take parameters,
called <em>action parameters</em>. Their values are obtained from requests. For <a href="./yii-web-application.html">Web applications</a>,
the value of each action parameter is retrieved from <code>$_GET</code> using the parameter name as the key;
for <a href="./yii-console-application.html">console applications</a>, they correspond to the command line arguments.</p>
<p>In the following example, the <code>view</code> action (an inline action) has declared two parameters: <code>$id</code> and <code>$version</code>.</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">app</span><span style="color: #007700">\</span><span style="color: #0000BB">controllers</span><span style="color: #007700">;<br /><br />use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">web</span><span style="color: #007700">\</span><span style="color: #0000BB">Controller</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">PostController&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Controller<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">actionView</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$version&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;...<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}</span></code></pre>
<p>The action parameters will be populated as follows for different requests:</p>
<ul>
<li><code>http://hostname/index.php?r=post/view&amp;id=123</code>: the <code>$id</code> parameter will be filled with the value
<code>'123'</code>,  while <code>$version</code> is still null because there is no <code>version</code> query parameter.</li>
<li><code>http://hostname/index.php?r=post/view&amp;id=123&amp;version=2</code>: the <code>$id</code> and <code>$version</code> parameters will
be filled with <code>'123'</code> and <code>'2'</code>, respectively.</li>
<li><code>http://hostname/index.php?r=post/view</code>: a <a href="./yii-web-badrequesthttpexception.html">yii\web\BadRequestHttpException</a> exception will be thrown
because the required <code>$id</code> parameter is not provided in the request.</li>
<li><code>http://hostname/index.php?r=post/view&amp;id[]=123</code>: a <a href="./yii-web-badrequesthttpexception.html">yii\web\BadRequestHttpException</a> exception will be thrown
because <code>$id</code> parameter is receiving an unexpected array value <code>['123']</code>.</li>
</ul>
<p>If you want an action parameter to accept array values, you should type-hint it with <code>array</code>, like the following:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">actionView</span><span style="color: #007700">(array&nbsp;</span><span style="color: #0000BB">$id</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$version&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;...<br /></span><span style="color: #007700">}</span></code></pre>
<p>Now if the request is <code>http://hostname/index.php?r=post/view&amp;id[]=123</code>, the <code>$id</code> parameter will take the value
of <code>['123']</code>. If the request is <code>http://hostname/index.php?r=post/view&amp;id=123</code>, the <code>$id</code> parameter will still
receive the same array value because the scalar value <code>'123'</code> will be automatically turned into an array.</p>
<p>The above examples mainly show how action parameters work for Web applications. For console applications,
please refer to the <a href="guide-tutorial-console.html">Console Commands</a> section for more details.</p>
<h3>Default Action <a name="default-action"></a> <a href="#default-action" name="default-action" class="hashlink">&para;</a></h3>
<p>Each controller has a default action specified via the <a href="./yii-base-controller.html#$defaultAction-detail">yii\base\Controller::$defaultAction</a> property.
When a <a href="#ids-routes">route</a> contains the controller ID only, it implies that the default action of
the specified controller is requested.</p>
<p>By default, the default action is set as <code>index</code>. If you want to change the default value, simply override
this property in the controller class, like the following:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">app</span><span style="color: #007700">\</span><span style="color: #0000BB">controllers</span><span style="color: #007700">;<br /><br />use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">web</span><span style="color: #007700">\</span><span style="color: #0000BB">Controller</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">SiteController&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Controller<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$defaultAction&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'home'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">actionHome</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">render</span><span style="color: #007700">(</span><span style="color: #DD0000">'home'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}</span></code></pre>
<h2>Controller Lifecycle <a name="controller-lifecycle"></a> <a href="#controller-lifecycle" name="controller-lifecycle" class="hashlink">&para;</a></h2>
<p>When processing a request, an <a href="guide-structure-applications.html">application</a> will create a controller
based on the requested <a href="#routes">route</a>. The controller will then undergo the following lifecycle
to fulfill the request:</p>
<ol>
<li>The <a href="./yii-base-object.html#init()-detail">yii\base\Controller::init()</a> method is called after the controller is created and configured.</li>
<li>The controller creates an action object based on the requested action ID:<ul>
<li>If the action ID is not specified, the <a href="./yii-base-controller.html#$defaultAction-detail">default action ID</a> will be used.</li>
<li>If the action ID is found in the <a href="./yii-base-controller.html#actions()-detail">action map</a>, a standalone action
will be created;</li>
<li>If the action ID is found to match an action method, an inline action will be created;</li>
<li>Otherwise an <a href="./yii-base-invalidrouteexception.html">yii\base\InvalidRouteException</a> exception will be thrown.</li>
</ul>
</li>
<li>The controller sequentially calls the <code>beforeAction()</code> method of the application, the module (if the controller
belongs to a module) and the controller.<ul>
<li>If one of the calls returns false, the rest of the uncalled <code>beforeAction()</code> will be skipped and the
action execution will be cancelled.</li>
<li>By default, each <code>beforeAction()</code> method call will trigger a <code>beforeAction</code> event to which you can attach a handler.</li>
</ul>
</li>
<li>The controller runs the action:<ul>
<li>The action parameters will be analyzed and populated from the request data;</li>
</ul>
</li>
<li>The controller sequentially calls the <code>afterAction()</code> method of the controller, the module (if the controller
belongs to a module) and the application.<ul>
<li>By default, each <code>afterAction()</code> method call will trigger an <code>afterAction</code> event to which you can attach a handler.</li>
</ul>
</li>
<li>The application will take the action result and assign it to the <a href="guide-runtime-responses.html">response</a>.</li>
</ol>
<h2>Best Practices <a name="best-practices"></a> <a href="#best-practices" name="best-practices" class="hashlink">&para;</a></h2>
<p>In a well-designed application, controllers are often very thin with each action containing only a few lines of code.
If your controller is rather complicated, it usually indicates that you should refactor it and move some code
to other classes.</p>
<p>In summary, controllers</p>
<ul>
<li>may access the <a href="guide-runtime-requests.html">request</a> data;</li>
<li>may call methods of <a href="guide-structure-models.html">models</a> and other service components with request data;</li>
<li>may use <a href="guide-structure-views.html">views</a> to compose responses;</li>
<li>should NOT process the request data - this should be done in <a href="guide-structure-models.html">models</a>;</li>
<li>should avoid embedding HTML or other presentational code - this is better done in <a href="guide-structure-views.html">views</a>.</li>
</ul>
        <div class="toplink"><a href="#" class="h1" title="go to top"><span class="glyphicon glyphicon-arrow-up"></a></div>
    </div>
</div>


</div>

<footer class="footer">
        <p class="pull-right"><small>Page generated on Fri, 12 Sep 2014 18:39:09 +0200</small></p>
    Powered by <a href="http://www.yiiframework.com/" rel="external">Yii Framework</a></footer>

<script type="text/javascript">jQuery(document).ready(function () {
    var shiftWindow = function () { scrollBy(0, -50) };
    if (location.hash) shiftWindow();
    window.addEventListener("hashchange", shiftWindow);
var element = document.createElement("script");
element.src = "./jssearch.index.js";
document.body.appendChild(element);

var searchBox = $('#searchbox');

// focus the search field
searchBox.focus();

// search when typing in search field
searchBox.on("keyup", function(event) {
    var query = $(this).val();

    if (query == '' || event.which == 27) {
        $('#search-resultbox').hide();
        return;
    } else if (event.which == 13) {
        var selectedLink = $('#search-resultbox a.selected');
        if (selectedLink.length != 0) {
            document.location = selectedLink.attr('href');
            return;
        }
    } else if (event.which == 38 || event.which == 40) {
        $('#search-resultbox').show();

        var selected = $('#search-resultbox a.selected');
        if (selected.length == 0) {
            $('#search-results').find('a').first().addClass('selected');
        } else {
            var next;
            if (event.which == 40) {
                next = selected.parent().next().find('a').first();
            } else {
                next = selected.parent().prev().find('a').first();
            }
            if (next.length != 0) {
                var resultbox = $('#search-results');
                var position = next.position();

//              TODO scrolling is buggy and jumps around
//                resultbox.scrollTop(Math.floor(position.top));
//                console.log(position.top);

                selected.removeClass('selected');
                next.addClass('selected');
            }
        }

        return;
    }
    $('#search-resultbox').show();
    $('#search-results').html('<li><span class="no-results">No results</span></li>');

    var result = jssearch.search(query);

    if (result.length > 0) {
        var i = 0;
        var resHtml = '';

        for (var key in result) {
            if (i++ > 20) {
                break;
            }
            resHtml = resHtml +
            '<li><a href="' + result[key].file.u.substr(3) +'"><span class="title">' + result[key].file.t + '</span>' +
            '<span class="description">' + result[key].file.d + '</span></a></li>';
        }
        $('#search-results').html(resHtml);
    }
});

// hide the search results on ESC
$(document).on("keyup", function(event) { if (event.which == 27) { $('#search-resultbox').hide(); } });
// hide search results on click to document
$(document).bind('click', function (e) { $('#search-resultbox').hide(); });
// except the following:
searchBox.bind('click', function(e) { e.stopPropagation(); });
$('#search-resultbox').bind('click', function(e) { e.stopPropagation(); });

});</script></body>
</html>
