<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="language" content="en" />
        <link href="./assets/34945494/css/bootstrap.css" rel="stylesheet">
<link href="./assets/1aa4357f/style.css" rel="stylesheet">
<script src="./assets/cb107027/jquery.js"></script>
<script src="./assets/34945494/js/bootstrap.js"></script>
<script src="./assets/133d853c/jssearch.js"></script>    <title>Yii Framework 2.0 API Documentation</title>
</head>
<body>

<div class="wrap">
    <nav id="w1466" class="navbar-inverse navbar-fixed-top navbar" role="navigation"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#w1466-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="./index.html">Yii 2.0 API 文档</a></div><div id="w1466-collapse" class="collapse navbar-collapse"><ul id="w1467" class="navbar-nav nav"><li><a href="./index.html">类参考</a></li>
<li class="dropdown"><a class="dropdown-toggle" href="#" data-toggle="dropdown">扩展 <b class="caret"></b></a><ul id="w1468" class="dropdown-menu"><li><a href="./ext-apidoc-index.html" tabindex="-1">apidoc</a></li>
<li><a href="./ext-authclient-index.html" tabindex="-1">authclient</a></li>
<li><a href="./ext-bootstrap-index.html" tabindex="-1">bootstrap</a></li>
<li><a href="./ext-codeception-index.html" tabindex="-1">codeception</a></li>
<li><a href="./ext-composer-index.html" tabindex="-1">composer</a></li>
<li><a href="./ext-debug-index.html" tabindex="-1">debug</a></li>
<li><a href="./ext-elasticsearch-index.html" tabindex="-1">elasticsearch</a></li>
<li><a href="./ext-faker-index.html" tabindex="-1">faker</a></li>
<li><a href="./ext-gii-index.html" tabindex="-1">gii</a></li>
<li><a href="./ext-imagine-index.html" tabindex="-1">imagine</a></li>
<li><a href="./ext-jui-index.html" tabindex="-1">jui</a></li>
<li><a href="./ext-mongodb-index.html" tabindex="-1">mongodb</a></li>
<li><a href="./ext-redis-index.html" tabindex="-1">redis</a></li>
<li><a href="./ext-smarty-index.html" tabindex="-1">smarty</a></li>
<li><a href="./ext-sphinx-index.html" tabindex="-1">sphinx</a></li>
<li><a href="./ext-swiftmailer-index.html" tabindex="-1">swiftmailer</a></li>
<li><a href="./ext-twig-index.html" tabindex="-1">twig</a></li></ul></li>
<li><a href="./guide-README.html">权威指南</a></li>
<li class="dropdown"><a class="dropdown-toggle" href="#" data-toggle="dropdown">Github <b class="caret"></b></a><ul id="w1469" class="dropdown-menu"><li><a href="https://github.com/yiisoft/yii2" tabindex="-1">Yii 2.0</a></li>
<li><a href="https://github.com/yii2-chinesization/yii2-zh-cn" tabindex="-1">Yii 2.0 中文化项目</a></li>
<li><a href="https://github.com/AbrahamGreyson/abrahamgreyson.github.io" tabindex="-1">docwithcn.com</a></li></ul></li></ul><div class="navbar-form navbar-left" role="search">
  <div class="form-group">
    <input id="searchbox" type="text" class="form-control" placeholder="Search">
  </div>
</div>
</div></nav>
    <div id="search-resultbox" style="display: none;" class="modal-content">
        <ul id="search-results">
        </ul>
    </div>

    
<div class="row">
    <div class="col-md-2">
                <div id="navigation" class="list-group"><a class="list-group-item" href="#navigation-1449" data-toggle="collapse" data-parent="#navigation">介绍 <b class="caret"></b></a><div id="navigation-1449" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-intro-yii.html">关于 Yii</a>
<a class="list-group-item" href="./guide-intro-upgrade-from-v1.html">从 Yii 1.1 升级</a></div>
<a class="list-group-item" href="#navigation-1450" data-toggle="collapse" data-parent="#navigation">入门 <b class="caret"></b></a><div id="navigation-1450" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-start-installation.html">安装 Yii</a>
<a class="list-group-item" href="./guide-start-workflow.html">运行应用</a>
<a class="list-group-item" href="./guide-start-hello.html">第一次问候</a>
<a class="list-group-item" href="./guide-start-forms.html">使用 Forms</a>
<a class="list-group-item" href="./guide-start-databases.html">玩转 Databases</a>
<a class="list-group-item" href="./guide-start-gii.html">用 Gii 生成代码</a>
<a class="list-group-item" href="./guide-start-looking-ahead.html">更上一层楼</a></div>
<a class="list-group-item active" href="#navigation-1451" data-toggle="collapse" data-parent="#navigation">应用结构 <b class="caret"></b></a><div id="navigation-1451" class="submenu panel-collapse collapse in"><a class="list-group-item" href="./guide-structure-overview.html">结构概述</a>
<a class="list-group-item" href="./guide-structure-entry-scripts.html">入口脚本</a>
<a class="list-group-item" href="./guide-structure-applications.html">应用</a>
<a class="list-group-item" href="./guide-structure-application-components.html">应用组件</a>
<a class="list-group-item" href="./guide-structure-controllers.html">控制器（Controller）</a>
<a class="list-group-item active" href="./guide-structure-views.html">视图（View）</a>
<a class="list-group-item" href="./guide-structure-models.html">模型（Model）</a>
<a class="list-group-item" href="./guide-structure-filters.html">过滤器</a>
<a class="list-group-item" href="./guide-structure-widgets.html">小部件（Widget）</a>
<a class="list-group-item" href="./guide-structure-modules.html">模块（Module）</a>
<a class="list-group-item" href="./guide-structure-assets.html">前端资源（Asset）</a>
<a class="list-group-item" href="./guide-structure-extensions.html">扩展（extensions）</a></div>
<a class="list-group-item" href="#navigation-1452" data-toggle="collapse" data-parent="#navigation">请求处理 <b class="caret"></b></a><div id="navigation-1452" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-runtime-overview.html">运行概述</a>
<a class="list-group-item" href="./guide-runtime-bootstrapping.html">引导（Bootstrapping）</a>
<a class="list-group-item" href="./guide-runtime-routing.html">路由（Routing）</a>
<a class="list-group-item" href="./guide-runtime-requests.html">请求（Request）</a>
<a class="list-group-item" href="./guide-runtime-responses.html">响应（Response）</a>
<a class="list-group-item" href="./guide-runtime-sessions-cookies.html">Sessions（会话）和 Cookies</a>
<a class="list-group-item" href="./guide-runtime-url-handling.html">URL 解析和生成</a>
<a class="list-group-item" href="./guide-runtime-handling-errors.html">错误处理</a>
<a class="list-group-item" href="./guide-runtime-logging.html">日志</a></div>
<a class="list-group-item" href="#navigation-1453" data-toggle="collapse" data-parent="#navigation">关键概念 <b class="caret"></b></a><div id="navigation-1453" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-concept-components.html">组件（Component）</a>
<a class="list-group-item" href="./guide-concept-properties.html">属性（Property）</a>
<a class="list-group-item" href="./guide-concept-events.html">事件（Event）</a>
<a class="list-group-item" href="./guide-concept-behaviors.html">行为（Behavior）</a>
<a class="list-group-item" href="./guide-concept-configurations.html">配置（Configurations）</a>
<a class="list-group-item" href="./guide-concept-autoloading.html">类自动加载（Autoloading）</a>
<a class="list-group-item" href="./guide-concept-alias.html">别名（Alias）</a>
<a class="list-group-item" href="./guide-concept-service-locator.html">服务定位器（Service Locator）</a>
<a class="list-group-item" href="./guide-concept-di-container.html">依赖注入容器（DI Container）</a></div>
<a class="list-group-item" href="#navigation-1454" data-toggle="collapse" data-parent="#navigation">配合数据库工作 <b class="caret"></b></a><div id="navigation-1454" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-db-dao.html">数据访问对象（DAO）</a>
<a class="list-group-item" href="./guide-db-query-builder.html">查询生成器（Query Builder）</a>
<a class="list-group-item" href="./guide-db-active-record.html">活动记录（Active Record）</a>
<a class="list-group-item" href="./guide-db-migrations.html">数据库迁移（Migration）</a>
<a class="list-group-item" href="./guide-db-sphinx.html">Sphinx</a>
<a class="list-group-item" href="./guide-db-redis.html">Redis</a>
<a class="list-group-item" href="./guide-db-mongodb.html">MongoDB</a>
<a class="list-group-item" href="./guide-db-elastic-search.html">ElasticSearch</a></div>
<a class="list-group-item" href="#navigation-1455" data-toggle="collapse" data-parent="#navigation">接收用户数据 <b class="caret"></b></a><div id="navigation-1455" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-input-forms.html">创建表单</a>
<a class="list-group-item" href="./guide-input-validation.html">输入验证</a>
<a class="list-group-item" href="./guide-input-file-uploading.html">文件上传</a>
<a class="list-group-item" href="./guide-input-multiple-models.html">多模型同时输入</a></div>
<a class="list-group-item" href="#navigation-1456" data-toggle="collapse" data-parent="#navigation">显示数据 <b class="caret"></b></a><div id="navigation-1456" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-output-formatter.html">格式化输出数据</a>
<a class="list-group-item" href="./guide-output-pagination.html">分页（Pagination）</a>
<a class="list-group-item" href="./guide-output-sorting.html">排序（Sorting）</a>
<a class="list-group-item" href="./guide-output-data-providers.html">数据提供器</a>
<a class="list-group-item" href="./guide-output-data-widgets.html">数据小部件</a>
<a class="list-group-item" href="./guide-output-theming.html">主题</a></div>
<a class="list-group-item" href="#navigation-1457" data-toggle="collapse" data-parent="#navigation">安全 <b class="caret"></b></a><div id="navigation-1457" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-security-authentication.html">认证（Authentication）</a>
<a class="list-group-item" href="./guide-security-authorization.html">授权（Authorization）</a>
<a class="list-group-item" href="./guide-security-passwords.html">处理密码</a>
<a class="list-group-item" href="./guide-security-auth-clients.html">客户端认证</a>
<a class="list-group-item" href="./guide-security-best-practices.html">安全领域的最佳实践</a></div>
<a class="list-group-item" href="#navigation-1458" data-toggle="collapse" data-parent="#navigation">缓存 <b class="caret"></b></a><div id="navigation-1458" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-caching-overview.html">概述</a>
<a class="list-group-item" href="./guide-caching-data.html">数据缓存</a>
<a class="list-group-item" href="./guide-caching-fragment.html">片段缓存</a>
<a class="list-group-item" href="./guide-caching-page.html">分页缓存</a>
<a class="list-group-item" href="./guide-caching-http.html">HTTP 缓存</a></div>
<a class="list-group-item" href="#navigation-1459" data-toggle="collapse" data-parent="#navigation">RESTful Web 服务 <b class="caret"></b></a><div id="navigation-1459" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-rest-quick-start.html">快速入门</a>
<a class="list-group-item" href="./guide-rest-resources.html">资源</a>
<a class="list-group-item" href="./guide-rest-routing.html">路由</a>
<a class="list-group-item" href="./guide-rest-response-formatting.html">格式化响应</a>
<a class="list-group-item" href="./guide-rest-authentication.html">授权验证</a>
<a class="list-group-item" href="./guide-rest-rate-limiting.html">速率限制</a>
<a class="list-group-item" href="./guide-rest-versioning.html">版本化</a>
<a class="list-group-item" href="./guide-rest-error-handling.html">错误处理</a>
<a class="list-group-item" href="./guide-rest-testing.html">测试</a></div>
<a class="list-group-item" href="#navigation-1460" data-toggle="collapse" data-parent="#navigation">开发工具 <b class="caret"></b></a><div id="navigation-1460" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-tool-debugger.html">调试工具栏和调试器</a>
<a class="list-group-item" href="./guide-tool-gii.html">使用 Gii 生成代码</a>
<a class="list-group-item" href="./guide-tool-api-doc.html">生成 API 文档</a></div>
<a class="list-group-item" href="#navigation-1461" data-toggle="collapse" data-parent="#navigation">测试 <b class="caret"></b></a><div id="navigation-1461" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-test-overview.html">概述</a>
<a class="list-group-item" href="./guide-test-endvironment-setup.html">搭建测试环境</a>
<a class="list-group-item" href="./guide-test-unit.html">单元测试</a>
<a class="list-group-item" href="./guide-test-functional.html">功能测试</a>
<a class="list-group-item" href="./guide-test-acceptance.html">验收测试</a>
<a class="list-group-item" href="./guide-test-fixtures.html">测试夹具</a></div>
<a class="list-group-item" href="#navigation-1462" data-toggle="collapse" data-parent="#navigation">高级专题 <b class="caret"></b></a><div id="navigation-1462" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-tutorial-advanced-app.html">高级应用模版</a>
<a class="list-group-item" href="./guide-tutorial-start-from-scratch.html">从头构建自定义模版</a>
<a class="list-group-item" href="./guide-tutorial-console.html">控制台命令</a>
<a class="list-group-item" href="./guide-tutorial-core-validators.html">核心验证器</a>
<a class="list-group-item" href="./guide-tutorial-i18n.html">国际化</a>
<a class="list-group-item" href="./guide-tutorial-mailing.html">收发邮件</a>
<a class="list-group-item" href="./guide-tutorial-performance-tuning.html">性能优化</a>
<a class="list-group-item" href="./guide-tutorial-shared-hosting.html">共享主机环境</a>
<a class="list-group-item" href="./guide-tutorial-template-engines.html">模板引擎</a>
<a class="list-group-item" href="./guide-tutorial-yii-integration.html">集成第三方代码</a></div>
<a class="list-group-item" href="#navigation-1463" data-toggle="collapse" data-parent="#navigation">小部件 <b class="caret"></b></a><div id="navigation-1463" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-widget-bootstrap.html">Bootstrap 小部件</a>
<a class="list-group-item" href="./guide-widget-jui.html">Jquery UI 小部件</a></div>
<a class="list-group-item" href="#navigation-1464" data-toggle="collapse" data-parent="#navigation">助手类 <b class="caret"></b></a><div id="navigation-1464" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-helper-overview.html">助手一览</a>
<a class="list-group-item" href="./guide-helper-array.html">ArrayHelper</a>
<a class="list-group-item" href="./guide-helper-html.html">Html</a>
<a class="list-group-item" href="./guide-helper-url.html">Url</a>
<a class="list-group-item" href="./guide-helper-security.html">security</a></div>
<a class="list-group-item" href="#navigation-1465" data-toggle="collapse" data-parent="#navigation">不在目录内的文件 <b class="caret"></b></a><div id="navigation-1465" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-glossary.html">glossary</a></div></div>    </div>
    <div class="col-md-9 guide-content" role="main">
        <h1>Views <a href="#views" name="views" class="hashlink">&para;</a></h1>
<p>Views are part of the <a href="http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller">MVC</a> architecture.
They are code responsible for presenting data to end users. In a Web application, views are usually created
in terms of <em>view templates</em> which are PHP script files containing mainly HTML code and presentational PHP code.
They are managed by the <a href="./yii-web-view.html">view</a> application component which provides commonly used methods
to facilitate view composition and rendering. For simplicity, we often call view templates or view template files
as views.</p>
<h2>Creating Views <a name="creating-views"></a> <a href="#creating-views" name="creating-views" class="hashlink">&para;</a></h2>
<p>As aforementioned, a view is simply a PHP script mixed with HTML and PHP code. The following is the view
that presents a login form. As you can see, PHP code is used to generate the dynamic content, such as the
page title and the form, while HTML code organizes them into a presentable HTML page.</p>
<pre><code class="language-php"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">helpers</span><span style="color: #007700">\</span><span style="color: #0000BB">Html</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">widgets</span><span style="color: #007700">\</span><span style="color: #0000BB">ActiveForm</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;@var&nbsp;$this&nbsp;yii\web\View&nbsp;*/<br />/*&nbsp;@var&nbsp;$form&nbsp;yii\widgets\ActiveForm&nbsp;*/<br />/*&nbsp;@var&nbsp;$model&nbsp;app\models\LoginForm&nbsp;*/<br /><br /></span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">title&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Login'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;<br /></span>&lt;h1&gt;<span style="color: #0000BB">&lt;?=&nbsp;Html</span><span style="color: #007700">::</span><span style="color: #0000BB">encode</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">title</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">?&gt;</span>&lt;/h1&gt;<br /><br />&lt;p&gt;Please&nbsp;fill&nbsp;out&nbsp;the&nbsp;following&nbsp;fields&nbsp;to&nbsp;login:&lt;/p&gt;<br /><br /><span style="color: #0000BB">&lt;?php&nbsp;$form&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ActiveForm</span><span style="color: #007700">::</span><span style="color: #0000BB">begin</span><span style="color: #007700">();&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?=&nbsp;$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">field</span><span style="color: #007700">(</span><span style="color: #0000BB">$model</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'username'</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?=&nbsp;$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">field</span><span style="color: #007700">(</span><span style="color: #0000BB">$model</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'password'</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">passwordInput</span><span style="color: #007700">()&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?=&nbsp;Html</span><span style="color: #007700">::</span><span style="color: #0000BB">submitButton</span><span style="color: #007700">(</span><span style="color: #DD0000">'Login'</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">?&gt;<br />&lt;?php&nbsp;ActiveForm</span><span style="color: #007700">::</span><span style="color: #0000BB">end</span><span style="color: #007700">();&nbsp;</span><span style="color: #0000BB">?&gt;</span></code></pre>
<p>Within a view, you can access <code>$this</code> which refers to the <a href="./yii-web-view.html">view component</a> managing
and rendering this view template.</p>
<p>Besides <code>$this</code>, there may be other predefined variables in a view, such as <code>$model</code> in the above
example. These variables represent the data that are <em>pushed</em> into the view by <a href="guide-structure-controllers.html">controllers</a>
or other objects whose trigger the <a href="#rendering-views">view rendering</a>.</p>
<blockquote><p>Tip: The predefined variables are listed in a comment block at beginning of a view so that they can
  be recognized by IDEs. It is also a good way of documenting your views.</p>
</blockquote>
<h3>Security <a name="security"></a> <a href="#security" name="security" class="hashlink">&para;</a></h3>
<p>When creating views that generate HTML pages, it is important that you encode and/or filter the data coming
from end users before presenting them. Otherwise, your application may be subject to
<a href="http://en.wikipedia.org/wiki/Cross-site_scripting">cross-site scripting</a> attacks.</p>
<p>To display a plain text, encode it first by calling <a href="./yii-helpers-basehtml.html#encode()-detail">yii\helpers\Html::encode()</a>. For example, the following code
encodes the user name before displaying it:</p>
<pre><code class="language-php"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">helpers</span><span style="color: #007700">\</span><span style="color: #0000BB">Html</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;<br /></span><br />&lt;div&nbsp;class="username"&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?=&nbsp;Html</span><span style="color: #007700">::</span><span style="color: #0000BB">encode</span><span style="color: #007700">(</span><span style="color: #0000BB">$user</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&lt;/div&gt</code></pre>
<p>To display HTML content, use <a href="./yii-helpers-htmlpurifier.html">yii\helpers\HtmlPurifier</a> to filter the content first. For example, the following
code filters the post content before displaying it:</p>
<pre><code class="language-php"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">helpers</span><span style="color: #007700">\</span><span style="color: #0000BB">HtmlPurifier</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;<br /></span><br />&lt;div&nbsp;class="post"&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?=&nbsp;HtmlPurifier</span><span style="color: #007700">::</span><span style="color: #0000BB">process</span><span style="color: #007700">(</span><span style="color: #0000BB">$post</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">text</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&lt;/div&gt</code></pre>
<blockquote><p>Tip: While HTMLPurifier does excellent job in making output safe, it is not fast. You should consider
  <a href="guide-caching-overview.html">caching</a> the filtering result if your application requires high performance.</p>
</blockquote>
<h3>Organizing Views <a name="organizing-views"></a> <a href="#organizing-views" name="organizing-views" class="hashlink">&para;</a></h3>
<p>Like <a href="guide-structure-controllers.html">controllers</a> and <a href="guide-structure-models.html">models</a>, there are conventions to organize views.</p>
<ul>
<li>For views rendered by a controller, they should be put under the directory <code>@app/views/ControllerID</code> by default,
where <code>ControllerID</code> refers to the <a href="guide-structure-controllers.html#routes">controller ID</a>. For example, if
the controller class is <code>PostController</code>, the directory would be <code>@app/views/post</code>; If it is <code>PostCommentController</code>,
the directory would be <code>@app/views/post-comment</code>. In case the controller belongs to a module, the directory
would be <code>views/ControllerID</code> under the <a href="./yii-base-module.html#$basePath-detail">module directory</a>.</li>
<li>For views rendered in a <a href="guide-structure-widgets.html">widget</a>, they should be put under the <code>WidgetPath/views</code> directory by
default, where <code>WidgetPath</code> stands for the directory containing the widget class file.</li>
<li>For views rendered by other objects, it is recommended that you follow the similar convention as that for widgets.</li>
</ul>
<p>You may customize these default view directories by overriding the <a href="./yii-base-viewcontextinterface.html#getViewPath()-detail">yii\base\ViewContextInterface::getViewPath()</a>
method of controllers or widgets.</p>
<h2>Rendering Views <a name="rendering-views"></a> <a href="#rendering-views" name="rendering-views" class="hashlink">&para;</a></h2>
<p>You can render views in <a href="guide-structure-controllers.html">controllers</a>, <a href="guide-structure-widgets.html">widgets</a>, or any
other places by calling view rendering methods. These methods share a similar signature shown as follows,</p>
<pre><code>/**
 * @param string $view view name or file path, depending on the actual rendering method
 * @param array $params the data to be passed to the view
 * @return string rendering result
 */
methodName($view, $params = [])
</code></pre>
<h3>Rendering in Controllers <a name="rendering-in-controllers"></a> <a href="#rendering-in-controllers" name="rendering-in-controllers" class="hashlink">&para;</a></h3>
<p>Within <a href="guide-structure-controllers.html">controllers</a>, you may call the following controller methods to render views:</p>
<ul>
<li><a href="./yii-base-controller.html#render()-detail">render()</a>: renders a <a href="#named-views">named view</a> and applies a <a href="#layouts">layout</a>
to the rendering result.</li>
<li><a href="./yii-base-controller.html#renderPartial()-detail">renderPartial()</a>: renders a <a href="#named-views">named view</a> without any layout.</li>
<li><a href="./yii-web-controller.html#renderAjax()-detail">renderAjax()</a>: renders a <a href="#named-views">named view</a> without any layout,
and injects all registered JS/CSS scripts and files. It is usually used in response to AJAX Web requests.</li>
<li><a href="./yii-base-controller.html#renderFile()-detail">renderFile()</a>: renders a view specified in terms of a view file path or
<a href="guide-concept-aliases.html">alias</a>.</li>
</ul>
<p>For example,</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">app</span><span style="color: #007700">\</span><span style="color: #0000BB">controllers</span><span style="color: #007700">;<br /><br />use&nbsp;</span><span style="color: #0000BB">Yii</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">app</span><span style="color: #007700">\</span><span style="color: #0000BB">models</span><span style="color: #007700">\</span><span style="color: #0000BB">Post</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">web</span><span style="color: #007700">\</span><span style="color: #0000BB">Controller</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">web</span><span style="color: #007700">\</span><span style="color: #0000BB">NotFoundHttpException</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">PostController&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Controller<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">actionView</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$model&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Post</span><span style="color: #007700">::</span><span style="color: #0000BB">findOne</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$model&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">NotFoundHttpException</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;renders&nbsp;a&nbsp;view&nbsp;named&nbsp;"view"&nbsp;and&nbsp;applies&nbsp;a&nbsp;layout&nbsp;to&nbsp;it<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">render</span><span style="color: #007700">(</span><span style="color: #DD0000">'view'</span><span style="color: #007700">,&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'model'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$model</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}</span></code></pre>
<h3>Rendering in Widgets <a name="rendering-in-widgets"></a> <a href="#rendering-in-widgets" name="rendering-in-widgets" class="hashlink">&para;</a></h3>
<p>Within <a href="guide-structure-widgets.html">widgets</a>, you may call the following widget methods to render views.</p>
<ul>
<li><a href="./yii-base-widget.html#render()-detail">render()</a>: renders a <a href="#named-views">named view</a>.</li>
<li><a href="./yii-base-widget.html#renderFile()-detail">renderFile()</a>: renders a view specified in terms of a view file path or
<a href="guide-concept-aliases.html">alias</a>.</li>
</ul>
<p>For example,</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">app</span><span style="color: #007700">\</span><span style="color: #0000BB">components</span><span style="color: #007700">;<br /><br />use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">base</span><span style="color: #007700">\</span><span style="color: #0000BB">Widget</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">helpers</span><span style="color: #007700">\</span><span style="color: #0000BB">Html</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">ListWidget&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Widget<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$items&nbsp;</span><span style="color: #007700">=&nbsp;[];<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">run</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;renders&nbsp;a&nbsp;view&nbsp;named&nbsp;"list"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">render</span><span style="color: #007700">(</span><span style="color: #DD0000">'list'</span><span style="color: #007700">,&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'items'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">items</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}</span></code></pre>
<h3>Rendering in Views <a name="rendering-in-views"></a> <a href="#rendering-in-views" name="rendering-in-views" class="hashlink">&para;</a></h3>
<p>You can render a view within another view by calling one of the following methods provided by the <a href="./yii-base-view.html">view component</a>:</p>
<ul>
<li><a href="./yii-base-view.html#render()-detail">render()</a>: renders a <a href="#named-views">named view</a>.</li>
<li><a href="./yii-web-view.html#renderAjax()-detail">renderAjax()</a>: renders a <a href="#named-views">named view</a> and injects all registered
JS/CSS scripts and files. It is usually used in response to AJAX Web requests.</li>
<li><a href="./yii-base-view.html#renderFile()-detail">renderFile()</a>: renders a view specified in terms of a view file path or
<a href="guide-concept-aliases.html">alias</a>.</li>
</ul>
<p>For example, the following code in a view renders the <code>_overview.php</code> view file which is in the same directory
as the view being currently rendered. Remember that <code>$this</code> in a view refers to the <a href="./yii-base-view.html">view</a> component:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">&lt;?=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">render</span><span style="color: #007700">(</span><span style="color: #DD0000">'_overview'</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">?&gt;</span></code></pre>
<h3>Rendering in Other Places <a name="rendering-in-other-places"></a> <a href="#rendering-in-other-places" name="rendering-in-other-places" class="hashlink">&para;</a></h3>
<p>In any place, you can get access to the <a href="./yii-base-view.html">view</a> application component by the expression
<code>Yii::$app-&gt;view</code> and then call its aforementioned methods to render a view. For example,</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #FF8000">//&nbsp;displays&nbsp;the&nbsp;view&nbsp;file&nbsp;"@app/views/site/license.php"<br /></span><span style="color: #007700">echo&nbsp;\</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">$app</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">view</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">renderFile</span><span style="color: #007700">(</span><span style="color: #DD0000">'@app/views/site/license.php'</span><span style="color: #007700">);</span></code></pre>
<h3>Named Views <a name="named-views"></a> <a href="#named-views" name="named-views" class="hashlink">&para;</a></h3>
<p>When you render a view, you can specify the view using either a view name or a view file path/alias. In most cases,
you would use the former because it is more concise and flexible. We call views specified using names as <em>named views</em>.</p>
<p>A view name is resolved into the corresponding view file path according to the following rules:</p>
<ul>
<li>A view name may omit the file extension name. In this case, <code>.php</code> will be used as the extension. For example,
the view name <code>about</code> corresponds to the file name <code>about.php</code>.</li>
<li>If the view name starts with double slashes <code>//</code>, the corresponding view file path would be <code>@app/views/ViewName</code>.
That is, the view is looked for under the <a href="./yii-base-application.html#$viewPath-detail">application's view path</a>.
For example, <code>//site/about</code> will be resolved into <code>@app/views/site/about.php</code>.</li>
<li>If the view name starts with a single slash <code>/</code>, the view file path is formed by prefixing the view name
with the <a href="./yii-base-module.html#$viewPath-detail">view path</a> of the currently active <a href="guide-structure-modules.html">module</a>.
If there is no active module, <code>@app/views/ViewName</code> will be used. For example, <code>/user/create</code> will be resolved into
<code>@app/modules/user/views/user/create.php</code>, if the currently active module is <code>user</code>. If there is no active module,
the view file path would be <code>@app/views/user/create.php</code>.</li>
<li>If the view is rendered with a <a href="./yii-base-view.html#$context-detail">context</a> and the context implements <a href="./yii-base-viewcontextinterface.html">yii\base\ViewContextInterface</a>,
the view file path is formed by prefixing the <a href="./yii-base-viewcontextinterface.html#getViewPath()-detail">view path</a> of the
context to the view name. This mainly applies to the views rendered within controllers and widgets. For example,
<code>site/about</code> will be resolved into <code>@app/views/site/about.php</code> if the context is the controller <code>SiteController</code>.</li>
<li>If a view is rendered within another view, the directory containing the other view file will be prefixed to
the new view name to form the actual view file path. For example, <code>item</code> will be resolved into <code>@app/views/post/item</code>
if it is being rendered in the view <code>@app/views/post/index.php</code>.</li>
</ul>
<p>According to the above rules, calling <code>$this-&gt;render('view')</code> in a controller <code>app\controllers\PostController</code> will
actually render the view file <code>@app/views/post/view.php</code>, while calling <code>$this-&gt;render('_overview')</code> in that view
will render the view file <code>@app/views/post/_overview.php</code>.</p>
<h3>Accessing Data in Views <a name="accessing-data-in-views"></a> <a href="#accessing-data-in-views" name="accessing-data-in-views" class="hashlink">&para;</a></h3>
<p>There are two approaches to access data within a view: push and pull.</p>
<p>By passing the data as the second parameter to the view rendering methods, you are using the push approach.
The data should be represented as an array of name-value pairs. When the view is being rendered, the PHP
<code>extract()</code> function will be called on this array so that the array is extracted into variables in the view.
For example, the following view rendering code in a controller will push two variables to the <code>report</code> view:
<code>$foo = 1</code> and <code>$bar = 2</code>.</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">render</span><span style="color: #007700">(</span><span style="color: #DD0000">'report'</span><span style="color: #007700">,&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'foo'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'bar'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,<br />]);</span></code></pre>
<p>The pull approach actively retrieves data from the <a href="./yii-base-view.html">view component</a> or other objects accessible
in views (e.g. <code>Yii::$app</code>). Using the code below as an example, within the view you can get the controller object
by the expression <code>$this-&gt;context</code>. And as a result, it is possible for you to access any properties or methods
of the controller in the <code>report</code> view, such as the controller ID shown in the following:</p>
<pre><code class="language-php"><span style="color: #0000BB">The&nbsp;controller&nbsp;ID&nbsp;is</span><span style="color: #007700">:&nbsp;&lt;?=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">context</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">id&nbsp;?&gt;<br /></span>?&gt</code></pre>
<p>The push approach is usually the preferred way of accessing data in views, because it makes views less dependent
on context objects. Its drawback is that you need to manually build the data array all the time, which could
become tedious and error prone if a view is shared and rendered in different places.</p>
<h3>Sharing Data among Views <a name="sharing-data-among-views"></a> <a href="#sharing-data-among-views" name="sharing-data-among-views" class="hashlink">&para;</a></h3>
<p>The <a href="./yii-base-view.html">view component</a> provides the <a href="./yii-base-view.html#$params-detail">params</a> property that you can use
to share data among views.</p>
<p>For example, in an <code>about</code> view, you can have the following code which specifies the current segment of the
breadcrumbs.</p>
<pre><code class="language-php"><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">[</span><span style="color: #DD0000">'breadcrumbs'</span><span style="color: #007700">][]&nbsp;=&nbsp;</span><span style="color: #DD0000">'About&nbsp;Us'</span><span style="color: #007700">;</span></code></pre>
<p>Then, in the <a href="#layouts">layout</a> file, which is also a view, you can display the breadcrumbs using the data
passed along <a href="./yii-base-view.html#$params-detail">params</a>:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">&lt;?=&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">widgets</span><span style="color: #007700">\</span><span style="color: #0000BB">Breadcrumbs</span><span style="color: #007700">::</span><span style="color: #0000BB">widget</span><span style="color: #007700">([<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'links'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">[</span><span style="color: #DD0000">'breadcrumbs'</span><span style="color: #007700">])&nbsp;?&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">[</span><span style="color: #DD0000">'breadcrumbs'</span><span style="color: #007700">]&nbsp;:&nbsp;[],<br />])&nbsp;</span><span style="color: #0000BB">?&gt;</span></code></pre>
<h2>Layouts <a name="layouts"></a> <a href="#layouts" name="layouts" class="hashlink">&para;</a></h2>
<p>Layouts are a special type of views that represent the common parts of multiple views. For example, the pages
for most Web applications share the same page header and footer. While you can repeat the same page header and footer
in every view, a better way is to do this once in a layout and embed the rendering result of a content view at
an appropriate place in the layout.</p>
<h3>Creating Layouts <a name="creating-layouts"></a> <a href="#creating-layouts" name="creating-layouts" class="hashlink">&para;</a></h3>
<p>Because layouts are also views, they can be created in the similar way as normal views. By default, layouts
are stored in the directory <code>@app/views/layouts</code>. For layouts used within a <a href="guide-structure-modules.html">module</a>,
they should be stored in the <code>views/layouts</code> directory under the <a href="./yii-base-module.html#$basePath-detail">module directory</a>.
You may customize the default layout directory by configuring the <a href="./yii-base-module.html#$layoutPath-detail">yii\base\Module::$layoutPath</a> property of
the application or modules.</p>
<p>The following example shows how a layout looks like. Note that for illustrative purpose, we have greatly simplified
the code in the layout. In practice, you may want to add more content to it, such as head tags, main menu, etc.</p>
<pre><code class="language-php"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">helpers</span><span style="color: #007700">\</span><span style="color: #0000BB">Html</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;@var&nbsp;$this&nbsp;yii\web\View&nbsp;*/<br />/*&nbsp;@var&nbsp;$content&nbsp;string&nbsp;*/<br /></span><span style="color: #0000BB">?&gt;<br />&lt;?php&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">beginPage</span><span style="color: #007700">()&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&lt;!DOCTYPE&nbsp;html&gt;<br />&lt;html&nbsp;lang="en"&gt;<br />&lt;head&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;charset="UTF-8"/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?=&nbsp;Html</span><span style="color: #007700">::</span><span style="color: #0000BB">csrfMetaTags</span><span style="color: #007700">()&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;<span style="color: #0000BB">&lt;?=&nbsp;Html</span><span style="color: #007700">::</span><span style="color: #0000BB">encode</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">title</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">?&gt;</span>&lt;/title&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">head</span><span style="color: #007700">()&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&lt;/head&gt;<br />&lt;body&gt;<br /><span style="color: #0000BB">&lt;?php&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">beginBody</span><span style="color: #007700">()&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;header&gt;My&nbsp;Company&lt;/header&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?=&nbsp;$content&nbsp;?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;footer&gt;&amp;copy;&nbsp;2014&nbsp;by&nbsp;My&nbsp;Company&lt;/footer&gt;<br /><span style="color: #0000BB">&lt;?php&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">endBody</span><span style="color: #007700">()&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&lt;/body&gt;<br />&lt;/html&gt;<br /><span style="color: #0000BB">&lt;?php&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">endPage</span><span style="color: #007700">()&nbsp;</span><span style="color: #0000BB">?&gt;</span></code></pre>
<p>As you can see, the layout generates the HTML tags that are common to all pages. Within the <code>&lt;body&gt;</code> section,
the layout echoes the <code>$content</code> variable which represents the rendering result of content views and is pushed
into the layout when <a href="./yii-base-controller.html#render()-detail">yii\base\Controller::render()</a> is called.</p>
<p>Most layouts should call the following methods like shown in the above code. These methods mainly trigger events
about the rendering process so that scripts and tags registered in other places can be properly injected into
the places where these methods are called.</p>
<ul>
<li><a href="./yii-base-view.html#beginPage()-detail">beginPage()</a>: This method should be called at the very beginning of the layout.
It triggers the <a href="./yii-base-view.html#EVENT_BEGIN_PAGE-detail">EVENT_BEGIN_PAGE</a> event which indicates the beginning of a page.</li>
<li><a href="./yii-base-view.html#endPage()-detail">endPage()</a>: This method should be called at the end of the layout.
It triggers the <a href="./yii-base-view.html#EVENT_END_PAGE-detail">EVENT_END_PAGE</a> event which indicates the end of a page.</li>
<li><a href="./yii-web-view.html#head()-detail">head()</a>: This method should be called within the <code>&lt;head&gt;</code> section of an HTML page.
It generates a placeholder which will be replaced with the registered head HTML code (e.g. link tags, meta tags)
when a page finishes rendering.</li>
<li><a href="./yii-web-view.html#beginBody()-detail">beginBody()</a>: This method should be called at the beginning of the <code>&lt;body&gt;</code> section.
It triggers the <a href="./yii-web-view.html#EVENT_BEGIN_BODY-detail">EVENT_BEGIN_BODY</a> event and generates a placeholder which will
be replaced by the registered HTML code (e.g. JavaScript) targeted at the body begin position.</li>
<li><a href="./yii-web-view.html#endBody()-detail">endBody()</a>: This method should be called at the end of the <code>&lt;body&gt;</code> section.
It triggers the <a href="./yii-web-view.html#EVENT_END_BODY-detail">EVENT_END_BODY</a> event and generates a placeholder which will
be replaced by the registered HTML code (e.g. JavaScript) targeted at the body end position.</li>
</ul>
<h3>Accessing Data in Layouts <a name="accessing-data-in-layouts"></a> <a href="#accessing-data-in-layouts" name="accessing-data-in-layouts" class="hashlink">&para;</a></h3>
<p>Within a layout, you have access to two predefined variables: <code>$this</code> and <code>$content</code>. The former refers to
the <a href="./yii-base-view.html">view</a> component, like in normal views, while the latter contains the rendering result of a content
view which is rendered by calling the <a href="./yii-base-controller.html#render()-detail">render()</a> method in controllers.</p>
<p>If you want to access other data in layouts, you have to use the pull method as described in
the <a href="#accessing-data-in-views">Accessing Data in Views</a> subsection. If you want to pass data from a content view
to a layout, you may use the method described in the <a href="#sharing-data-among-views">Sharing Data among Views</a> subsection.</p>
<h3>Using Layouts <a name="using-layouts"></a> <a href="#using-layouts" name="using-layouts" class="hashlink">&para;</a></h3>
<p>As described in the <a href="#rendering-in-controllers">Rendering in Controllers</a> subsection, when you render a view
by calling the <a href="./yii-base-controller.html#render()-detail">render()</a> method in a controller, a layout will be applied
to the rendering result. By default, the layout <code>@app/views/layouts/main.php</code> will be used. </p>
<p>You may use a different layout by configuring either <a href="./yii-base-application.html#$layout-detail">yii\base\Application::$layout</a> or <a href="./yii-base-controller.html#$layout-detail">yii\base\Controller::$layout</a>.
The former governs the layout used by all controllers, while the latter overrides the former for individual controllers.
For example, the following code makes the <code>post</code> controller to use <code>@app/views/layouts/post.php</code> as the layout
when rendering its views. Other controllers, assuming their <code>layout</code> property is untouched, will still use the default
<code>@app/views/layouts/main.php</code> as the layout.</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">app</span><span style="color: #007700">\</span><span style="color: #0000BB">controllers</span><span style="color: #007700">;<br /><br />use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">web</span><span style="color: #007700">\</span><span style="color: #0000BB">Controller</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">PostController&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Controller<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$layout&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'post'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;...<br /></span><span style="color: #007700">}</span></code></pre>
<p>For controllers belonging to a module, you may also configure the module's <a href="./yii-base-module.html#$layout-detail">layout</a> property to
use a particular layout for these controllers. </p>
<p>Because the <code>layout</code> property may be configured at different levels (controllers, modules, application),
behind the scene Yii takes two steps to determine what is the actual layout file being used for a particular controller.</p>
<p>In the first step, it determines the layout value and the context module:</p>
<ul>
<li>If the <a href="./yii-base-controller.html#$layout-detail">yii\base\Controller::$layout</a> property of the controller is not null, use it as the layout value and
the <a href="./yii-base-controller.html#$module-detail">module</a> of the controller as the context module.</li>
<li>If <a href="./yii-base-controller.html#$layout-detail">layout</a> is null, search through all ancestor modules (including the application itself) of the controller and 
find the first module whose <a href="./yii-base-module.html#$layout-detail">layout</a> property is not null. Use that module and
its <a href="./yii-base-module.html#$layout-detail">layout</a> value as the context module and the chosen layout value.
If such a module cannot be found, it means no layout will be applied.</li>
</ul>
<p>In the second step, it determines the actual layout file according to the layout value and the context module
determined in the first step. The layout value can be:</p>
<ul>
<li>a path alias (e.g. <code>@app/views/layouts/main</code>).</li>
<li>an absolute path (e.g. <code>/main</code>): the layout value starts with a slash. The actual layout file will be
looked for under the application's <a href="./yii-base-application.html#$layoutPath-detail">layout path</a> which defaults to
<code>@app/views/layouts</code>.</li>
<li>a relative path (e.g. <code>main</code>): the actual layout file will be looked for under the context module's
<a href="./yii-base-module.html#$layoutPath-detail">layout path</a> which defaults to the <code>views/layouts</code> directory under the
<a href="./yii-base-module.html#$basePath-detail">module directory</a>.</li>
<li>the boolean value <code>false</code>: no layout will be applied.</li>
</ul>
<p>If the layout value does not contain a file extension, it will use the default one <code>.php</code>.</p>
<h3>Nested Layouts <a name="nested-layouts"></a> <a href="#nested-layouts" name="nested-layouts" class="hashlink">&para;</a></h3>
<p>Sometimes you may want to nest one layout in another. For example, in different sections of a Web site, you
want to use different layouts, while all these layouts share the same basic layout that generates the overall
HTML5 page structure. You can achieve this goal by calling <a href="./yii-base-view.html#beginContent()-detail">beginContent()</a> and
<a href="./yii-base-view.html#endContent()-detail">endContent()</a> in the child layouts like the following:</p>
<pre><code class="language-php"><span style="color: #0000BB">&lt;?php&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">beginContent</span><span style="color: #007700">(</span><span style="color: #DD0000">'@app/views/layouts/base.php'</span><span style="color: #007700">);&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span><br />...child&nbsp;layout&nbsp;content&nbsp;here...<br /><br /><span style="color: #0000BB">&lt;?php&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">endContent</span><span style="color: #007700">();&nbsp;</span><span style="color: #0000BB">?&gt;</span></code></pre>
<p>As shown above, the child layout content should be enclosed within <a href="./yii-base-view.html#beginContent()-detail">beginContent()</a> and
<a href="./yii-base-view.html#endContent()-detail">endContent()</a>. The parameter passed to <a href="./yii-base-view.html#beginContent()-detail">beginContent()</a>
specifies what is the parent layout. It can be either a layout file or alias.</p>
<p>Using the above approach, you can nest layouts in more than one levels.</p>
<h3>Using Blocks <a name="using-blocks"></a> <a href="#using-blocks" name="using-blocks" class="hashlink">&para;</a></h3>
<p>Blocks allow you to specify the view content in one place while displaying it in another. They are often used together
with layouts. For example, you can define a block in a content view and display it in the layout.</p>
<p>You call <a href="./yii-base-view.html#beginBlock()-detail">beginBlock()</a> and <a href="./yii-base-view.html#endBlock()-detail">endBlock()</a> to define a block.
The block can then be accessed via <code>$view-&gt;blocks[$blockID]</code>, where <code>$blockID</code> stands for a unique ID that you assign
to the block when defining it.</p>
<p>The following example shows how you can use blocks to customize specific parts of a layout in a content view.</p>
<p>First, in a content view, define one or multiple blocks:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">...<br /><br />&lt;?</span><span style="color: #0000BB">php&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">beginBlock</span><span style="color: #007700">(</span><span style="color: #DD0000">'block1'</span><span style="color: #007700">);&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span><br />...content&nbsp;of&nbsp;block1...<br /><br /><span style="color: #0000BB">&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">endBlock</span><span style="color: #007700">();&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span><br />...<br /><br /><span style="color: #0000BB">&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">beginBlock</span><span style="color: #007700">(</span><span style="color: #DD0000">'block3'</span><span style="color: #007700">);&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span><br />...content&nbsp;of&nbsp;block3...<br /><br /><span style="color: #0000BB">&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">endBlock</span><span style="color: #007700">();&nbsp;</span><span style="color: #0000BB">?&gt;</span></code></pre>
<p>Then, in the layout view, render the blocks if they are available, or display some default content if a block is
not defined.</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">...<br />&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">blocks</span><span style="color: #007700">[</span><span style="color: #DD0000">'block1'</span><span style="color: #007700">])):&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?=&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">blocks</span><span style="color: #007700">[</span><span style="color: #DD0000">'block1'</span><span style="color: #007700">]&nbsp;</span><span style="color: #0000BB">?&gt;<br />&nbsp;</span><span style="color: #007700">else:&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;default&nbsp;content&nbsp;for&nbsp;block1&nbsp;...<br /><span style="color: #0000BB">&nbsp;</span><span style="color: #007700">endif;&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span><br />...<br /><br /><span style="color: #0000BB">&nbsp;</span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">blocks</span><span style="color: #007700">[</span><span style="color: #DD0000">'block2'</span><span style="color: #007700">])):&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?=&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">blocks</span><span style="color: #007700">[</span><span style="color: #DD0000">'block2'</span><span style="color: #007700">]&nbsp;</span><span style="color: #0000BB">?&gt;<br />&nbsp;</span><span style="color: #007700">else:&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;default&nbsp;content&nbsp;for&nbsp;block2&nbsp;...<br /><span style="color: #0000BB">&nbsp;</span><span style="color: #007700">endif;&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span><br />...<br /><br /><span style="color: #0000BB">&nbsp;</span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">blocks</span><span style="color: #007700">[</span><span style="color: #DD0000">'block3'</span><span style="color: #007700">])):&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?=&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">blocks</span><span style="color: #007700">[</span><span style="color: #DD0000">'block3'</span><span style="color: #007700">]&nbsp;</span><span style="color: #0000BB">?&gt;<br />&nbsp;</span><span style="color: #007700">else:&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;default&nbsp;content&nbsp;for&nbsp;block3&nbsp;...<br /><span style="color: #0000BB">&nbsp;</span><span style="color: #007700">endif;&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>..</code></pre>
<h2>Using View Components <a name="using-view-components"></a> <a href="#using-view-components" name="using-view-components" class="hashlink">&para;</a></h2>
<p><a href="./yii-base-view.html">View components</a> provides many view-related features. While you can get view components
by creating individual instances of <a href="./yii-base-view.html">yii\base\View</a> or its child class, in most cases you will mainly use
the <code>view</code> application component. You can configure this component in <a href="guide-structure-applications.html#application-configurations">application configurations</a>
like the following:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;...<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'components'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'view'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'class'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'app\components\View'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;...<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">],<br />]</span></code></pre>
<p>View components provide the following useful view-related features, each described in more details in a separate section:</p>
<ul>
<li><a href="guide-output-theming.html">theming</a>: allows you to develop and change the theme for your Web site.</li>
<li><a href="guide-caching-fragment.html">fragment caching</a>: allows you to cache a fragment within a Web page.</li>
<li><a href="guide-output-client-scripts.html">client script handling</a>: supports CSS and JavaScript registration and rendering.</li>
<li><a href="guide-structure-assets.html">asset bundle handling</a>: supports registering and rendering of <a href="guide-structure-assets.html">asset bundles</a>.</li>
<li><a href="guide-tutorial-template-engines.html">alternative template engines</a>: allows you to use other template engines, such as
<a href="http://twig.sensiolabs.org/">Twig</a>, <a href="http://www.smarty.net/">Smarty</a>.</li>
</ul>
<p>You may also frequently use the following minor yet useful features when you are developing Web pages.</p>
<h3>Setting Page Titles <a name="setting-page-titles"></a> <a href="#setting-page-titles" name="setting-page-titles" class="hashlink">&para;</a></h3>
<p>Every Web page should have a title. Normally the title tag is being displayed in a <a href="#layouts">layout</a>. However, in practice
the title is often determined in content views rather than layouts. To solve this problem, <a href="./yii-web-view.html">yii\web\View</a> provides
the <a href="./yii-web-view.html#$title-detail">title</a> property for you to pass the title information from content views to layouts.</p>
<p>To make use of this feature, in each content view, you can set the page title like the following:</p>
<pre><code class="language-php"><span style="color: #0000BB">&lt;?php<br />$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">title&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'My&nbsp;page&nbsp;title'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span></code></pre>
<p>Then in the layout, make sure you have the following code in the <code>&lt;head&gt;</code> section:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">title</span><span style="color: #007700">&gt;&lt;?=&nbsp;</span><span style="color: #0000BB">Html</span><span style="color: #007700">::</span><span style="color: #0000BB">encode</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">title</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">?&gt;</span>&lt;/title&gt</code></pre>
<h3>Registering Meta Tags <a name="registering-meta-tags"></a> <a href="#registering-meta-tags" name="registering-meta-tags" class="hashlink">&para;</a></h3>
<p>Web pages usually need to generate various meta tags needed by different parties. Like page titles, meta tags
appear in the <code>&lt;head&gt;</code> section and are usually generated in layouts.</p>
<p>If you want to specify what meta tags to generate in content views, you can call <a href="./yii-web-view.html#registerMetaTag()-detail">yii\web\View::registerMetaTag()</a>
in a content view, like the following:</p>
<pre><code class="language-php"><span style="color: #0000BB">&lt;?php<br />$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">registerMetaTag</span><span style="color: #007700">([</span><span style="color: #DD0000">'name'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'keywords'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'content'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'yii,&nbsp;framework,&nbsp;php'</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB">?&gt;</span></code></pre>
<p>The above code will register a "keywords" meta tag with the view component. The registered meta tag is
rendered after the layout finishes rendering. By then, the following HTML code will be inserted
at the place where you call <a href="./yii-web-view.html#head()-detail">yii\web\View::head()</a> in the layout and generate the following HTML code:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">meta&nbsp;name</span><span style="color: #007700">=</span><span style="color: #DD0000">"keywords"&nbsp;</span><span style="color: #0000BB">content</span><span style="color: #007700">=</span><span style="color: #DD0000">"yii,&nbsp;framework,&nbsp;php"</span><span style="color: #007700">&gt;</span></code></pre>
<p>Note that if you call <a href="./yii-web-view.html#registerMetaTag()-detail">yii\web\View::registerMetaTag()</a> multiple times, it will register multiple meta tags,
regardless whether the meta tags are the same or not.</p>
<p>To make sure there is only a single instance of a meta tag type, you can specify a key as a second parameter when calling the method.
For example, the following code registers two "description" meta tags. However, only the second one will be rendered.</p>
<pre><code class="language-html">$this-&gt;registerMetaTag(['name' =&gt; 'description', 'content' =&gt; 'This is my cool website made with Yii!'], 'description');
$this-&gt;registerMetaTag(['name' =&gt; 'description', 'content' =&gt; 'This website is about funny raccoons.'], 'description');
</code></pre>
<h3>Registering Link Tags <a name="registering-link-tags"></a> <a href="#registering-link-tags" name="registering-link-tags" class="hashlink">&para;</a></h3>
<p>Like <a href="#adding-meta-tags">meta tags</a>, link tags are useful in many cases, such as customizing favicon, pointing to
RSS feed or delegating OpenID to another server. You can work with link tags in the similar way as meta tags
by using <a href="./yii-web-view.html#registerLinkTag()-detail">yii\web\View::registerLinkTag()</a>. For example, in a content view, you can register a link tag like follows,</p>
<pre><code class="language-php"><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">registerLinkTag</span><span style="color: #007700">([<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'title'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Live&nbsp;News&nbsp;for&nbsp;Yii'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'rel'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'alternate'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'type'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'application/rss+xml'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'href'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'http://www.yiiframework.com/rss.xml/'</span><span style="color: #007700">,<br />]);</span></code></pre>
<p>The code above will result in</p>
<pre><code class="language-html">&lt;link title="Live News for Yii" rel="alternate" type="application/rss+xml" href="http://www.yiiframework.com/rss.xml/"&gt;
</code></pre>
<p>Similar as <a href="./yii-web-view.html#registerMetaTag()-detail">registerMetaTags()</a>, you can specify a key when calling
<a href="./yii-web-view.html#registerLinkTag()-detail">registerLinkTag()</a> to avoid generated repeated link tags.</p>
<h2>View Events <a name="view-events"></a> <a href="#view-events" name="view-events" class="hashlink">&para;</a></h2>
<p><a href="./yii-base-view.html">View components</a> trigger several events during the view rendering process. You may respond
to these events to inject content into views or process the rendering results before they are sent to end users.</p>
<ul>
<li><a href="./yii-base-view.html#EVENT_BEFORE_RENDER-detail">EVENT_BEFORE_RENDER</a>: triggered at the beginning of rendering a file
in a controller. Handlers of this event may set <a href="./yii-base-viewevent.html#$isValid-detail">yii\base\ViewEvent::$isValid</a> to be false to cancel the rendering process.</li>
<li><a href="./yii-base-view.html#EVENT_AFTER_RENDER-detail">EVENT_AFTER_RENDER</a>: triggered by the call of <a href="./yii-base-view.html#beginPage()-detail">yii\base\View::beginPage()</a> in layouts.
Handlers of this event may obtain the rendering result through <a href="./yii-base-viewevent.html#$output-detail">yii\base\ViewEvent::$output</a> and may modify
this property to change the rendering result.</li>
<li><a href="./yii-base-view.html#EVENT_BEGIN_PAGE-detail">EVENT_BEGIN_PAGE</a>: triggered by the call of <a href="./yii-base-view.html#beginPage()-detail">yii\base\View::beginPage()</a> in layouts.</li>
<li><a href="./yii-base-view.html#EVENT_END_PAGE-detail">EVENT_END_PAGE</a>: triggered by the call of <a href="./yii-base-view.html#endPage()-detail">yii\base\View::endPage()</a> in layouts.</li>
<li><a href="./yii-web-view.html#EVENT_BEGIN_BODY-detail">EVENT_BEGIN_BODY</a>: triggered by the call of <a href="./yii-web-view.html#beginBody()-detail">yii\web\View::beginBody()</a> in layouts.</li>
<li><a href="./yii-web-view.html#EVENT_END_BODY-detail">EVENT_END_BODY</a>: triggered by the call of <a href="./yii-web-view.html#endBody()-detail">yii\web\View::endBody()</a> in layouts.</li>
</ul>
<p>For example, the following code injects the current date at the end of the page body:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">\</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">$app</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">view</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">on</span><span style="color: #007700">(</span><span style="color: #0000BB">View</span><span style="color: #007700">::</span><span style="color: #0000BB">EVENT_END_BODY</span><span style="color: #007700">,&nbsp;function&nbsp;()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d'</span><span style="color: #007700">);<br />});</span></code></pre>
<h2>Rendering Static Pages <a name="rendering-static-pages"></a> <a href="#rendering-static-pages" name="rendering-static-pages" class="hashlink">&para;</a></h2>
<p>Static pages refer to those Web pages whose main content are mostly static without the need of accessing
dynamic data pushed from controllers.</p>
<p>You can output static pages by putting their code in the view, and then using the code like the following in a controller:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">actionAbout</span><span style="color: #007700">()<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">render</span><span style="color: #007700">(</span><span style="color: #DD0000">'about'</span><span style="color: #007700">);<br />}</span></code></pre>
<p>If a Web site contains many static pages, it would be very tedious repeating the similar code many times.
To solve this problem, you may introduce a <a href="guide-structure-controllers.html#standalone-actions">standalone action</a>
called <a href="./yii-web-viewaction.html">yii\web\ViewAction</a> in a controller. For example,</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">app</span><span style="color: #007700">\</span><span style="color: #0000BB">controllers</span><span style="color: #007700">;<br /><br />use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">web</span><span style="color: #007700">\</span><span style="color: #0000BB">Controller</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">SiteController&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Controller<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">actions</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'page'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'class'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'yii\web\ViewAction'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;];<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}</span></code></pre>
<p>Now if you create a view named <code>about</code> under the directory <code>@app/views/site/pages</code>, you will be able to
display this view by the following URL:</p>
<pre><code>http://localhost/index.php?r=site/page&amp;view=about
</code></pre>
<p>The <code>GET</code> parameter <code>view</code> tells <a href="./yii-web-viewaction.html">yii\web\ViewAction</a> which view is requested. The action will then look
for this view under the directory <code>@app/views/site/pages</code>. You may configure <a href="./yii-web-viewaction.html#$viewPrefix-detail">yii\web\ViewAction::$viewPrefix</a>
to change the directory for searching these views.</p>
<h2>Best Practices <a name="best-practices"></a> <a href="#best-practices" name="best-practices" class="hashlink">&para;</a></h2>
<p>Views are responsible for presenting models in the format that end users desire. In general, views</p>
<ul>
<li>should mainly contain presentational code, such as HTML, and simple PHP code to traverse, format and render data.</li>
<li>should not contain code that performs DB queries. Such code should be done in models.</li>
<li>should avoid direct access to request data, such as <code>$_GET</code>, <code>$_POST</code>. This belongs to controllers.
If request data is needed, they should be pushed into views by controllers.</li>
<li>may read model properties, but should not modify them.</li>
</ul>
<p>To make views more manageable, avoid creating views that are too complex or contain too much redundant code.
You may use the following techniques to achieve this goal:</p>
<ul>
<li>use <a href="#layouts">layouts</a> to represent common presentational sections (e.g. page header, footer).</li>
<li>divide a complicated view into several smaller ones. The smaller views can be rendered and assembled into a bigger
one using the rendering methods that we have described.</li>
<li>create and use <a href="guide-structure-widgets.html">widgets</a> as building blocks of views.</li>
<li>create and use helper classes to transform and format data in views.</li>
</ul>
        <div class="toplink"><a href="#" class="h1" title="go to top"><span class="glyphicon glyphicon-arrow-up"></a></div>
    </div>
</div>


</div>

<footer class="footer">
        <p class="pull-right"><small>Page generated on Mon, 06 Oct 2014 17:55:02 +0200</small></p>
    Powered by <a href="http://www.yiiframework.com/" rel="external">Yii Framework</a></footer>

<script type="text/javascript">jQuery(document).ready(function () {
    var shiftWindow = function () { scrollBy(0, -50) };
    if (location.hash) shiftWindow();
    window.addEventListener("hashchange", shiftWindow);
var element = document.createElement("script");
element.src = "./jssearch.index.js";
document.body.appendChild(element);

var searchBox = $('#searchbox');

// focus the search field
searchBox.focus();

// search when typing in search field
searchBox.on("keyup", function(event) {
    var query = $(this).val();

    if (query == '' || event.which == 27) {
        $('#search-resultbox').hide();
        return;
    } else if (event.which == 13) {
        var selectedLink = $('#search-resultbox a.selected');
        if (selectedLink.length != 0) {
            document.location = selectedLink.attr('href');
            return;
        }
    } else if (event.which == 38 || event.which == 40) {
        $('#search-resultbox').show();

        var selected = $('#search-resultbox a.selected');
        if (selected.length == 0) {
            $('#search-results').find('a').first().addClass('selected');
        } else {
            var next;
            if (event.which == 40) {
                next = selected.parent().next().find('a').first();
            } else {
                next = selected.parent().prev().find('a').first();
            }
            if (next.length != 0) {
                var resultbox = $('#search-results');
                var position = next.position();

//              TODO scrolling is buggy and jumps around
//                resultbox.scrollTop(Math.floor(position.top));
//                console.log(position.top);

                selected.removeClass('selected');
                next.addClass('selected');
            }
        }

        return;
    }
    $('#search-resultbox').show();
    $('#search-results').html('<li><span class="no-results">No results</span></li>');

    var result = jssearch.search(query);

    if (result.length > 0) {
        var i = 0;
        var resHtml = '';

        for (var key in result) {
            if (i++ > 20) {
                break;
            }
            resHtml = resHtml +
            '<li><a href="' + result[key].file.u.substr(3) +'"><span class="title">' + result[key].file.t + '</span>' +
            '<span class="description">' + result[key].file.d + '</span></a></li>';
        }
        $('#search-results').html(resHtml);
    }
});

// hide the search results on ESC
$(document).on("keyup", function(event) { if (event.which == 27) { $('#search-resultbox').hide(); } });
// hide search results on click to document
$(document).bind('click', function (e) { $('#search-resultbox').hide(); });
// except the following:
searchBox.bind('click', function(e) { e.stopPropagation(); });
$('#search-resultbox').bind('click', function(e) { e.stopPropagation(); });

});</script></body>
</html>
