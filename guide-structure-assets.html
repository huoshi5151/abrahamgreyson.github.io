<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="language" content="en" />
        <link href="./assets/b73ac8f6/css/bootstrap.css" rel="stylesheet">
<link href="./assets/91e115a8/style.css" rel="stylesheet">
<script src="./assets/a77c877b/jquery.js"></script>
<script src="./assets/b73ac8f6/js/bootstrap.js"></script>
<script src="./assets/f11d4626/jssearch.js"></script>    <title>Yii Framework 2.0 API Documentation</title>
</head>
<body>

<div class="wrap">
    <nav id="w1172" class="navbar-inverse navbar-fixed-top navbar" role="navigation"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#w1172-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="./index.html">Yii 2.0 API 文档</a></div><div id="w1172-collapse" class="collapse navbar-collapse"><ul id="w1173" class="navbar-nav nav"><li><a href="./index.html">类参考</a></li>
<li class="dropdown"><a class="dropdown-toggle" href="#" data-toggle="dropdown">扩展 <b class="caret"></b></a><ul id="w1174" class="dropdown-menu"><li><a href="./ext-apidoc-index.html" tabindex="-1">apidoc</a></li>
<li><a href="./ext-authclient-index.html" tabindex="-1">authclient</a></li>
<li><a href="./ext-bootstrap-index.html" tabindex="-1">bootstrap</a></li>
<li><a href="./ext-codeception-index.html" tabindex="-1">codeception</a></li>
<li><a href="./ext-composer-index.html" tabindex="-1">composer</a></li>
<li><a href="./ext-debug-index.html" tabindex="-1">debug</a></li>
<li><a href="./ext-elasticsearch-index.html" tabindex="-1">elasticsearch</a></li>
<li><a href="./ext-faker-index.html" tabindex="-1">faker</a></li>
<li><a href="./ext-gii-index.html" tabindex="-1">gii</a></li>
<li><a href="./ext-imagine-index.html" tabindex="-1">imagine</a></li>
<li><a href="./ext-jui-index.html" tabindex="-1">jui</a></li>
<li><a href="./ext-mongodb-index.html" tabindex="-1">mongodb</a></li>
<li><a href="./ext-redis-index.html" tabindex="-1">redis</a></li>
<li><a href="./ext-smarty-index.html" tabindex="-1">smarty</a></li>
<li><a href="./ext-sphinx-index.html" tabindex="-1">sphinx</a></li>
<li><a href="./ext-swiftmailer-index.html" tabindex="-1">swiftmailer</a></li>
<li><a href="./ext-twig-index.html" tabindex="-1">twig</a></li></ul></li>
<li><a href="./guide-README.html">权威指南</a></li>
<li class="dropdown"><a class="dropdown-toggle" href="#" data-toggle="dropdown">Github <b class="caret"></b></a><ul id="w1175" class="dropdown-menu"><li><a href="https://github.com/yiisoft/yii2" tabindex="-1">Yii 2.0</a></li>
<li><a href="https://github.com/yii2-chinesization/yii2-zh-cn" tabindex="-1">Yii 2.0 中文化项目</a></li>
<li><a href="https://github.com/AbrahamGreyson/abrahamgreyson.github.io" tabindex="-1">docwithcn.com</a></li></ul></li></ul><div class="navbar-form navbar-left" role="search">
  <div class="form-group">
    <input id="searchbox" type="text" class="form-control" placeholder="Search">
  </div>
</div>
</div></nav>
    <div id="search-resultbox" style="display: none;" class="modal-content">
        <ul id="search-results">
        </ul>
    </div>

    
<div class="row">
    <div class="col-md-2">
                <div id="navigation" class="list-group"><a class="list-group-item" href="#navigation-1155" data-toggle="collapse" data-parent="#navigation">介绍 <b class="caret"></b></a><div id="navigation-1155" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-intro-yii.html">关于 Yii</a>
<a class="list-group-item" href="./guide-intro-upgrade-from-v1.html">从 Yii 1.1 升级</a></div>
<a class="list-group-item" href="#navigation-1156" data-toggle="collapse" data-parent="#navigation">入门 <b class="caret"></b></a><div id="navigation-1156" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-start-installation.html">安装 Yii</a>
<a class="list-group-item" href="./guide-start-workflow.html">运行应用</a>
<a class="list-group-item" href="./guide-start-hello.html">第一次问候</a>
<a class="list-group-item" href="./guide-start-forms.html">使用 Forms</a>
<a class="list-group-item" href="./guide-start-databases.html">玩转 Databases</a>
<a class="list-group-item" href="./guide-start-gii.html">用 Gii 生成代码</a>
<a class="list-group-item" href="./guide-start-looking-ahead.html">更上一层楼</a></div>
<a class="list-group-item active" href="#navigation-1157" data-toggle="collapse" data-parent="#navigation">应用结构 <b class="caret"></b></a><div id="navigation-1157" class="submenu panel-collapse collapse in"><a class="list-group-item" href="./guide-structure-overview.html">结构总览</a>
<a class="list-group-item" href="./guide-structure-entry-scripts.html">入口脚本</a>
<a class="list-group-item" href="./guide-structure-applications.html">应用</a>
<a class="list-group-item" href="./guide-structure-application-components.html">应用组件</a>
<a class="list-group-item" href="./guide-structure-controllers.html">控制器（Controller）</a>
<a class="list-group-item" href="./guide-structure-views.html">视图（View）</a>
<a class="list-group-item" href="./guide-structure-models.html">模型（Model）</a>
<a class="list-group-item" href="./guide-structure-filters.html">过滤器</a>
<a class="list-group-item" href="./guide-structure-widgets.html">小部件（Widget）</a>
<a class="list-group-item" href="./guide-structure-modules.html">模块（Module）</a>
<a class="list-group-item active" href="./guide-structure-assets.html">前端资源（Asset）</a>
<a class="list-group-item" href="./guide-structure-extensions.html">扩展（extensions）</a></div>
<a class="list-group-item" href="#navigation-1158" data-toggle="collapse" data-parent="#navigation">请求处理 <b class="caret"></b></a><div id="navigation-1158" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-runtime-bootstrapping.html">引导（Bootstrapping）</a>
<a class="list-group-item" href="./guide-runtime-routing.html">路由（Routing）</a>
<a class="list-group-item" href="./guide-runtime-requests.html">请求（Request）</a>
<a class="list-group-item" href="./guide-runtime-responses.html">响应（Response）</a>
<a class="list-group-item" href="./guide-runtime-sessions-cookies.html">Sessions（会话）和 Cookies</a>
<a class="list-group-item" href="./guide-runtime-url-handling.html">URL 解析和生成</a>
<a class="list-group-item" href="./guide-runtime-handling-errors.html">错误处理</a>
<a class="list-group-item" href="./guide-runtime-logging.html">日志</a></div>
<a class="list-group-item" href="#navigation-1159" data-toggle="collapse" data-parent="#navigation">关键概念 <b class="caret"></b></a><div id="navigation-1159" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-concept-components.html">组件（Component）</a>
<a class="list-group-item" href="./guide-concept-properties.html">属性（Property）</a>
<a class="list-group-item" href="./guide-concept-events.html">事件（Event）</a>
<a class="list-group-item" href="./guide-concept-behaviors.html">行为（Behavior）</a>
<a class="list-group-item" href="./guide-concept-configurations.html">配置（Configurations）</a>
<a class="list-group-item" href="./guide-concept-autoloading.html">类自动加载（Autoloading）</a>
<a class="list-group-item" href="./guide-concept-alias.html">别名（Alias）</a>
<a class="list-group-item" href="./guide-concept-service-locator.html">服务定位器（Service Locator）</a>
<a class="list-group-item" href="./guide-concept-di-container.html">依赖注入容器（DI Container）</a></div>
<a class="list-group-item" href="#navigation-1160" data-toggle="collapse" data-parent="#navigation">配合数据库工作 <b class="caret"></b></a><div id="navigation-1160" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-db-dao.html">数据访问对象（DAO）</a>
<a class="list-group-item" href="./guide-db-query-builder.html">查询生成器（Query Builder）</a>
<a class="list-group-item" href="./guide-db-active-record.html">活动记录（Active Record）</a>
<a class="list-group-item" href="./guide-db-migrations.html">数据库迁移（Migration）</a>
<a class="list-group-item" href="./guide-db-sphinx.html">Sphinx</a>
<a class="list-group-item" href="./guide-db-redis.html">Redis</a>
<a class="list-group-item" href="./guide-db-mongodb.html">MongoDB</a>
<a class="list-group-item" href="./guide-db-elastic-search.html">ElasticSearch</a></div>
<a class="list-group-item" href="#navigation-1161" data-toggle="collapse" data-parent="#navigation">接收用户数据 <b class="caret"></b></a><div id="navigation-1161" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-input-forms.html">创建表单</a>
<a class="list-group-item" href="./guide-input-validation.html">输入验证</a>
<a class="list-group-item" href="./guide-input-file-uploading.html">文件上传</a>
<a class="list-group-item" href="./guide-input-multiple-models.html">多模型同时输入</a></div>
<a class="list-group-item" href="#navigation-1162" data-toggle="collapse" data-parent="#navigation">显示数据 <b class="caret"></b></a><div id="navigation-1162" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-output-formatting.html">格式化输出数据</a>
<a class="list-group-item" href="./guide-output-pagination.html">分页（Pagination）</a>
<a class="list-group-item" href="./guide-output-sorting.html">排序（Sorting）</a>
<a class="list-group-item" href="./guide-output-data-providers.html">数据提供器</a>
<a class="list-group-item" href="./guide-output-data-widgets.html">数据小部件</a>
<a class="list-group-item" href="./guide-output-theming.html">主题</a></div>
<a class="list-group-item" href="#navigation-1163" data-toggle="collapse" data-parent="#navigation">安全 <b class="caret"></b></a><div id="navigation-1163" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-security-authentication.html">认证（Authentication）</a>
<a class="list-group-item" href="./guide-security-authorization.html">授权（Authorization）</a>
<a class="list-group-item" href="./guide-security-passwords.html">处理密码</a>
<a class="list-group-item" href="./guide-security-auth-clients.html">客户端认证</a>
<a class="list-group-item" href="./guide-security-best-practices.html">安全领域的最佳实践</a></div>
<a class="list-group-item" href="#navigation-1164" data-toggle="collapse" data-parent="#navigation">缓存 <b class="caret"></b></a><div id="navigation-1164" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-caching-overview.html">概述</a>
<a class="list-group-item" href="./guide-caching-data.html">数据缓存</a>
<a class="list-group-item" href="./guide-caching-fragment.html">片段缓存</a>
<a class="list-group-item" href="./guide-caching-page.html">分页缓存</a>
<a class="list-group-item" href="./guide-caching-http.html">HTTP 缓存</a></div>
<a class="list-group-item" href="#navigation-1165" data-toggle="collapse" data-parent="#navigation">RESTful Web 服务 <b class="caret"></b></a><div id="navigation-1165" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-rest-quick-start.html">快速入门</a>
<a class="list-group-item" href="./guide-rest-resources.html">资源</a>
<a class="list-group-item" href="./guide-rest-routing.html">路由</a>
<a class="list-group-item" href="./guide-rest-response-formatting.html">格式化响应</a>
<a class="list-group-item" href="./guide-rest-authentication.html">授权验证</a>
<a class="list-group-item" href="./guide-rest-rate-limiting.html">速率限制</a>
<a class="list-group-item" href="./guide-rest-versioning.html">版本化</a>
<a class="list-group-item" href="./guide-rest-error-handling.html">错误处理</a>
<a class="list-group-item" href="./guide-rest-testing.html">测试</a></div>
<a class="list-group-item" href="#navigation-1166" data-toggle="collapse" data-parent="#navigation">开发工具 <b class="caret"></b></a><div id="navigation-1166" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-tool-debugger.html">调试工具栏和调试器</a>
<a class="list-group-item" href="./guide-tool-gii.html">使用 Gii 生成代码</a>
<a class="list-group-item" href="./guide-tool-api-doc.html">生成 API 文档</a></div>
<a class="list-group-item" href="#navigation-1167" data-toggle="collapse" data-parent="#navigation">测试 <b class="caret"></b></a><div id="navigation-1167" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-test-overview.html">概述</a>
<a class="list-group-item" href="./guide-test-endvironment-setup.html">搭建测试环境</a>
<a class="list-group-item" href="./guide-test-unit.html">单元测试</a>
<a class="list-group-item" href="./guide-test-functional.html">功能测试</a>
<a class="list-group-item" href="./guide-test-acceptance.html">验收测试</a>
<a class="list-group-item" href="./guide-test-fixtures.html">测试夹具</a></div>
<a class="list-group-item" href="#navigation-1168" data-toggle="collapse" data-parent="#navigation">高级专题 <b class="caret"></b></a><div id="navigation-1168" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-tutorial-advanced-app.html">高级应用模版</a>
<a class="list-group-item" href="./guide-tutorial-start-from-scratch.html">从头构建自定义模版</a>
<a class="list-group-item" href="./guide-tutorial-console.html">控制台命令</a>
<a class="list-group-item" href="./guide-tutorial-core-validators.html">核心验证器</a>
<a class="list-group-item" href="./guide-tutorial-i18n.html">国际化</a>
<a class="list-group-item" href="./guide-tutorial-mailing.html">收发邮件</a>
<a class="list-group-item" href="./guide-tutorial-performance-tuning.html">性能优化</a>
<a class="list-group-item" href="./guide-tutorial-shared-hosting.html">共享主机环境</a>
<a class="list-group-item" href="./guide-tutorial-template-engines.html">模板引擎</a>
<a class="list-group-item" href="./guide-tutorial-yii-integration.html">集成第三方代码</a></div>
<a class="list-group-item" href="#navigation-1169" data-toggle="collapse" data-parent="#navigation">小部件 <b class="caret"></b></a><div id="navigation-1169" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-widget-bootstrap.html">Bootstrap 小部件</a>
<a class="list-group-item" href="./guide-widget-jui.html">Jquery UI 小部件</a></div>
<a class="list-group-item" href="#navigation-1170" data-toggle="collapse" data-parent="#navigation">助手类 <b class="caret"></b></a><div id="navigation-1170" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-helper-overview.html">助手一览</a>
<a class="list-group-item" href="./guide-helper-array.html">ArrayHelper</a>
<a class="list-group-item" href="./guide-helper-html.html">Html</a>
<a class="list-group-item" href="./guide-helper-url.html">Url</a>
<a class="list-group-item" href="./guide-helper-security.html">security</a></div>
<a class="list-group-item" href="#navigation-1171" data-toggle="collapse" data-parent="#navigation">不在目录内的文件 <b class="caret"></b></a><div id="navigation-1171" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-glossary.html">glossary</a></div></div>    </div>
    <div class="col-md-9 guide-content" role="main">
        <h1>Assets <a href="#assets" name="assets" class="hashlink">&para;</a></h1>
<blockquote><p>Note: This section is under writing.</p>
</blockquote>
<p>An asset in Yii is a file that may be referenced or linked in a Web page. It can be a CSS file, a JavaScript file,
an image or video file, etc. For simple Web applications, assets may be managed manually - you place them in a Web folder
and reference them using their URLs in your Web pages. However, if an application is complicated, or if it uses
many third-party extensions, manual management of assets can soon become a headache. For example, how will you ensure
one JavaScript file is always included before another and the same JavaScript file is not included twice?
How will you handle asset files required by an extension which you do not want to dig into its internals?
How will you combine and compress multiple CSS/JavaScript files into a single one when you deploy the application
to production? In this section, we will describe the asset management capability offered by Yii to help you alleviate
all these problems.</p>
<h2>Asset Bundles <a name="asset-bundles"></a> <a href="#asset-bundles" name="asset-bundles" class="hashlink">&para;</a></h2>
<p>Assets are organized in <em>bundles</em>. An asset bundle represents a collection of asset files located
under a single directory. It lists which CSS and JavaScript files are in this collection and should be included
in a page where the bundle is used.</p>
<h3>Defining Asset Bundles <a name="defining-asset-bundles"></a> <a href="#defining-asset-bundles" name="defining-asset-bundles" class="hashlink">&para;</a></h3>
<p>An asset bundle is defined in terms of a PHP class extending from <a href="./yii-web-assetbundle.html">yii\web\AssetBundle</a>.
In this class, you use certain class properties to specify where the asset files are located, what CSS/JavaScript
files the bundle contains, and so on. The class should be namespaced and autoloadable. Its name is used
as the name of the asset bundle.</p>
<p>The following code defines the main asset bundle used by <a href="guide-start-installation.html">the basic application template</a>:</p>
<pre><code class="language-php"><span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">app</span><span style="color: #007700">\</span><span style="color: #0000BB">assets</span><span style="color: #007700">;<br /><br />use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">web</span><span style="color: #007700">\</span><span style="color: #0000BB">AssetBundle</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">AppAsset&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">AssetBundle<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$basePath&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'@webroot'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$baseUrl&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'@web'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$css&nbsp;</span><span style="color: #007700">=&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'css/site.css'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;];<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$js&nbsp;</span><span style="color: #007700">=&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;];<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$depends&nbsp;</span><span style="color: #007700">=&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'yii\web\YiiAsset'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'yii\bootstrap\BootstrapAsset'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;];<br />}</span></code></pre>
<p>The <code>AppAsset</code> class basically specifies that the asset files are located under the <code>@webroot</code> directory which
is corresponding to the URL <code>@web</code>. The bundle only contains an asset file named <code>css/site.css</code>. The bundle
depends on two other bundles: <code>yii\web\YiiAsset</code> and <code>yii\bootstrap\BootstrapAsset</code>.</p>
<p>The following list explains the possible properties that you can set in an asset bundle class:</p>
<ul>
<li><a href="./yii-web-assetbundle.html#$sourcePath-detail">sourcePath</a>: specifies the root directory that contains the asset files in
this bundle. This property should be set if the root directory is not Web accessible. Otherwise, you should
set the <a href="./yii-web-assetbundle.html#$basePath-detail">basePath</a> property and <a href="./yii-web-assetbundle.html#$baseUrl-detail">baseUrl</a>, instead.
<a href="guide-concept-aliases.html">Path aliases</a> can be used here.</li>
<li><a href="./yii-web-assetbundle.html#$basePath-detail">basePath</a>: specifies a Web-accessible directory that contains the asset files in
this bundle. When you specify the <a href="./yii-web-assetbundle.html#$sourcePath-detail">sourcePath</a> property,
the <a href="#asset-manager">asset manager</a> will publish the assets in this bundle to a Web-accessible directory
and overwrite this property accordingly. You should set this property if your asset files are already in
a Web-accessible directory and do not need asset publishing. <a href="guide-concept-aliases.html">Path aliases</a> can be used here.</li>
<li><a href="./yii-web-assetbundle.html#$baseUrl-detail">baseUrl</a>: specifies the URL corresponding to the directory
<a href="./yii-web-assetbundle.html#$basePath-detail">basePath</a>. Like <a href="./yii-web-assetbundle.html#$basePath-detail">basePath</a>,
if you specify the <a href="./yii-web-assetbundle.html#$sourcePath-detail">sourcePath</a> property, the <a href="#asset-manager">asset manager</a>
will publish the assets and overwrite this property accordingly. <a href="guide-concept-aliases.html">Path aliases</a> can be used here.</li>
<li><a href="./yii-web-assetbundle.html#$js-detail">js</a>: an array listing the JavaScript files contained in this bundle. Note that only
forward slash "/" should be used as directory separators. Each JavaScript file can be specified in one of the
following two formats:<ul>
<li>a relative path representing a local JavaScript file (e.g. <code>js/main.js</code>). The actual path of the file
can be determined by prepending <span style="background: #f00;">basePath</span> to the relative path, and the actual URL
of the file can be determined by prepending <span style="background: #f00;">baseUrl</span> to the relative path.</li>
<li>an absolute URL representing an external JavaScript file. For example,
<code>http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js</code> or
<code>//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js</code>.</li>
</ul>
</li>
<li><a href="./yii-web-assetbundle.html#$css-detail">css</a>: an array listing the CSS files contained in this bundle. The format of this array
is the same as that of <a href="./yii-web-assetbundle.html#$js-detail">js</a>.</li>
<li><a href="./yii-web-assetbundle.html#$depends-detail">depends</a>: an array listing the names of the asset bundles that this bundle depends on
(to be explained shortly).</li>
<li><a href="./yii-web-assetbundle.html#$jsOptions-detail">jsOptions</a>: specifies the options that will be passed to the
<a href="./yii-web-view.html#registerJsFile()-detail">yii\web\View::registerJsFile()</a> method when it is called to register <em>every</em> JavaScript file in this bundle.</li>
<li><a href="./yii-web-assetbundle.html#$cssOptions-detail">cssOptions</a>: specifies the options that will be passed to the
<a href="./yii-web-view.html#registerCssFile()-detail">yii\web\View::registerCssFile()</a> method when it is called to register <em>every</em> CSS file in this bundle.</li>
<li><a href="./yii-web-assetbundle.html#$publishOptions-detail">publishOptions</a>: specifies the options that will be passed to the
<a href="./yii-web-assetmanager.html#publish()-detail">yii\web\AssetManager::publish()</a> method when it is called to publish source asset files to a Web folder.
This is only used if you specify the <a href="./yii-web-assetbundle.html#$sourcePath-detail">sourcePath</a> property.</li>
</ul>
<h4>Asset Locations <a name="asset-locations"></a> <a href="#asset-locations" name="asset-locations" class="hashlink">&para;</a></h4>
<p>Assets, based on their location, can be classified as:</p>
<ul>
<li>source assets: the asset files are located together with PHP source code which cannot be directly accessed via Web.
In order for source assets to be Web accessible, they should be published and turned in <em>published assets</em>.</li>
<li>published assets: the asset files are located in a Web folder and can thus be directly accessed via Web.</li>
<li>external assets: the asset files are located on a Web server that is different from the one hosting your Web
application.</li>
</ul>
<p>For assets that directly belong to an application, it is recommended that you place them in a Web folder
to avoid the unnecessary asset publishing process. This is why <code>AppAsset</code> specifies <a href="./yii-web-assetbundle.html#$basePath-detail">basePath</a>
without <a href="./yii-web-assetbundle.html#$sourcePath-detail">sourcePath</a>.</p>
<p>For assets belonging to an <a href="guide-structure-extensions.html">extension</a>, as they are in a folder that is not Web accessible,
you have to specify the <a href="./yii-web-assetbundle.html#$sourcePath-detail">sourcePath</a> property when declaring the corresponding
asset bundle.</p>
<blockquote><p>Note: Do not use <code>@webroot/assets</code> as the <a href="./yii-web-assetbundle.html#$sourcePath-detail">source path</a>.
  This folder is used by default by the <a href="./yii-web-assetmanager.html">asset manager</a> to keep the asset files
  published from their source location. Any content in this folder are considered temporarily and may be subject
  to removal.</p>
</blockquote>
<h4>Asset Dependencies <a name="asset-dependencies"></a> <a href="#asset-dependencies" name="asset-dependencies" class="hashlink">&para;</a></h4>
<p>When you include multiple CSS or JavaScript files on a Web page, they have to follow certain orders to avoid
unexpected overriding. For example, if you are using a jQuery UI widget in a Web page, you have to make sure
the jQuery JavaScript file is included before the jQuery UI JavaScript file is included.
We call such ordering the dependencies among assets.</p>
<p>Asset dependencies are mainly specified through the <a href="./yii-web-assetbundle.html#$depends-detail">yii\web\AssetBundle::$depends</a> property of asset bundles.
In the <code>AppAsset</code> example, the asset bundle depends on two other asset bundles: <code>yii\web\YiiAsset</code> and
<code>yii\bootstrap\BootstrapAsset</code>. And for the jQuery UI example just described, the asset bundle is declared as follows:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">JuiAsset&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">AssetBundle<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$sourcePath&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'@bower/jquery-ui'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$js&nbsp;</span><span style="color: #007700">=&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'jquery-ui.js'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;];<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$css&nbsp;</span><span style="color: #007700">=&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'themes/smoothness/jquery-ui.css'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;];<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$depends&nbsp;</span><span style="color: #007700">=&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'yii\web\JqueryAsset'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;];<br />}</span></code></pre>
<h2>Using Asset Bundles <a name="using-asset-bundles"></a> <a href="#using-asset-bundles" name="using-asset-bundles" class="hashlink">&para;</a></h2>
<p>To use an asset bundle, register it with a <a href="guide-structure-views.html">view</a> like the following in a view template:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">app</span><span style="color: #007700">\</span><span style="color: #0000BB">assets</span><span style="color: #007700">\</span><span style="color: #0000BB">AppAsset</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">AppAsset</span><span style="color: #007700">::</span><span style="color: #0000BB">register</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">);</span></code></pre>
<p>where <code>$this</code> refers to the <a href="./yii-web-view.html">view</a> object. If you are registering an asset bundle in a PHP class,
you should provide the needed the view object. For example, to register an asset bundle in
a <a href="guide-structure-widgets.html">widget</a> class, you can obtain the view object by <code>$this-&gt;view</code>.</p>
<p>When an asset bundle is registered, behind the scene Yii will register all its dependent asset bundles. And
when a page is being rendered, <code>&lt;link&gt;</code> and <code>&lt;script&gt;</code> tags will be generated in the page for the CSS and
JavaScript files in every registered asset bundle. During this process, if an asset bundle is not in
a Web accessible folder, it will be published first.</p>
<h2>Asset Publishing <a name="asset-publishing"></a> <a href="#asset-publishing" name="asset-publishing" class="hashlink">&para;</a></h2>
<p>When an asset file is located in a folder that is not Web accessible, it should be copied to a Web accessible
folder before being referenced or linked in a Web page. This process is called <em>asset publishing</em>, and is done
automatically by the <a href="./yii-web-assetmanager.html">asset manager</a>.</p>
<h3>Enabling symlinks <a href="#enabling-symlinks" name="enabling-symlinks" class="hashlink">&para;</a></h3>
<p>Asset manager is able to use symlinks instead of copying files. It is turned off by default since symlinks are often
disabled on shared hosting. If your hosting environment supports symlinks you certainly should enable the feature via
application config:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">return&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;...<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'components'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'assetManager'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'linkAssets'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;&nbsp;],<br />];</span></code></pre>
<p>There are two main benefits in enabling it. First it is faster since no copying is required and second is that assets
will always be up to date with source files.</p>
<h4>Language-specific asset bundle <a href="#language-specific-asset-bundle" name="language-specific-asset-bundle" class="hashlink">&para;</a></h4>
<p>If you need to define an asset bundle that includes JavaScript file depending on the language you can do it the
following way:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">LanguageAsset&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">AssetBundle<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;</span><span style="color: #0000BB">$language</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$sourcePath&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'@app/assets/language'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$js&nbsp;</span><span style="color: #007700">=&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;];<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">init</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">init</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$language&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$language&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$language&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">$app</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">language</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">js</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #DD0000">'language-'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$language&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'.js'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}</span></code></pre>
<p>In order to set language use the following code when registering an asset bundle in a view:</p>
<pre><code class="language-php"><span style="color: #0000BB">LanguageAsset</span><span style="color: #007700">::</span><span style="color: #0000BB">$language&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$language</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">LanguageAsset</span><span style="color: #007700">::</span><span style="color: #0000BB">register</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">);</span></code></pre>
<h4>Setting special options <a name="setting-special-options"></a> <a href="#setting-special-options" name="setting-special-options" class="hashlink">&para;</a></h4>
<p>Asset bundles allow setting specific options for the files to be published.
This can be done by configuring the <a href="./yii-web-assetbundle.html#$jsOptions-detail">$jsOptions</a>,
<a href="./yii-web-assetbundle.html#$cssOptions-detail">$cssOptions</a> or <a href="./yii-web-assetbundle.html#$publishOptions-detail">$publishOptions</a>
property of the asset bundle.</p>
<p>Some of these options are described in the following:</p>
<ul>
<li><p>For setting conditional comments for your CSS files you can set the following option:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">$cssOptions&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #DD0000">'condition'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'lte&nbsp;IE9'</span><span style="color: #007700">];</span></code></pre>
<p>This will result in a link tag generated as follows: <code>&lt;!--[if lte IE9]&gt;&lt;link .../&gt;&lt;![endif]--&gt;</code>.
You can only define one condition per asset bundle, if you have multiple files with different conditions,
you have to define multiple assets bundles.</p>
</li>
<li><p>For javascipt files you can define the position where they should be added in the HTML.
You can choose one of the following positions:</p>
<ul>
<li><a href="./yii-web-view.html#POS_HEAD-detail">yii\web\View::POS_HEAD</a>: in the head section</li>
<li><a href="./yii-web-view.html#POS_BEGIN-detail">yii\web\View::POS_BEGIN</a>: at the beginning of the body section</li>
<li><a href="./yii-web-view.html#POS_END-detail">yii\web\View::POS_END</a>: at the end of the body section. This is the default value.</li>
</ul>
<p>Example for putting all javascript files to the end of the body.</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">$jsOptions&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #DD0000">'position'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;\</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">web</span><span style="color: #007700">\</span><span style="color: #0000BB">View</span><span style="color: #007700">::</span><span style="color: #0000BB">POS_END</span><span style="color: #007700">];</span></code></pre>
<p>This option is also reflected when resolving dependencies.</p>
</li>
<li><p>For further javascript options, see <a href="./yii-helpers-basehtml.html#jsFile()-detail">yii\helpers\Html::jsFile()</a>.</p>
</li>
</ul>
<h4>Overriding asset bundles <a href="#overriding-asset-bundles" name="overriding-asset-bundles" class="hashlink">&para;</a></h4>
<p>Sometimes you need to override some asset bundles application wide. A good example is loading jQuery from CDN instead
of your own server. In order to do it we need to configure <code>assetManager</code> application component via config file. In case
of basic application it is <code>config/web.php</code>:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">return&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;...<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'components'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'assetManager'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'bundles'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'yii\web\JqueryAsset'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'sourcePath'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'js'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[</span><span style="color: #DD0000">'//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js'</span><span style="color: #007700">]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;&nbsp;],<br />];</span></code></pre>
<p>In the above we're adding asset bundle definitions to the <a href="./yii-web-assetmanager.html#$bundles-detail">bundles</a> property of asset manager. Keys are fully
qualified class names to asset bundle classes we want to override while values are key-value arrays of class properties
and corresponding values to set.</p>
<p>Setting <code>sourcePath</code> to <code>null</code> tells asset manager not to copy anything while <code>js</code> overrides local files with a link
to CDN.</p>
<blockquote><p>Tip: You may also use this procedure to configure different scripts dependent on the environment. For example
use minified files in production and normal files in development:</p>
<p> <code>`</code>php
'yii\web\JqueryAsset' =&gt; [</p>
<pre><code>'js' =&gt; [
    YII_ENV_DEV ? 'jquery.js' : 'jquery.min.js'
]
</code></pre>
<p>],
<code>`</code></p>
</blockquote>
<h2>Compressing and combining assets <a href="#compressing-and-combining-assets" name="compressing-and-combining-assets" class="hashlink">&para;</a></h2>
<p>To improve application performance you can compress and then combine several CSS or JS files into lesser number of files
therefore reducing number of HTTP requests and overall download size needed to load a web page.  Yii provides a console
command that allows you to do both.</p>
<h3>Preparing configuration <a href="#preparing-configuration" name="preparing-configuration" class="hashlink">&para;</a></h3>
<p>In order to use <code>asset</code> command you should prepare a configuration first. A template for it can be generated using</p>
<pre><code>yii asset/template /path/to/myapp/config.php
</code></pre>
<p>The template itself looks like the following:</p>
<pre><code class="language-php"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;Configuration&nbsp;file&nbsp;for&nbsp;the&nbsp;"yii&nbsp;asset"&nbsp;console&nbsp;command.<br />&nbsp;*&nbsp;Note&nbsp;that&nbsp;in&nbsp;the&nbsp;console&nbsp;environment,&nbsp;some&nbsp;path&nbsp;aliases&nbsp;like&nbsp;'@webroot'&nbsp;and&nbsp;'@web'&nbsp;may&nbsp;not&nbsp;exist.<br />&nbsp;*&nbsp;Please&nbsp;define&nbsp;these&nbsp;missing&nbsp;path&nbsp;aliases.<br />&nbsp;*/<br /></span><span style="color: #007700">return&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Adjust&nbsp;command/callback&nbsp;for&nbsp;JavaScript&nbsp;files&nbsp;compressing:<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'jsCompressor'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'java&nbsp;-jar&nbsp;compiler.jar&nbsp;--js&nbsp;{from}&nbsp;--js_output_file&nbsp;{to}'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Adjust&nbsp;command/callback&nbsp;for&nbsp;CSS&nbsp;files&nbsp;compressing:<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'cssCompressor'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'java&nbsp;-jar&nbsp;yuicompressor.jar&nbsp;--type&nbsp;css&nbsp;{from}&nbsp;-o&nbsp;{to}'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;The&nbsp;list&nbsp;of&nbsp;asset&nbsp;bundles&nbsp;to&nbsp;compress:<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'bundles'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;'yii\web\YiiAsset',<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;'yii\web\JqueryAsset',<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Asset&nbsp;bundle&nbsp;for&nbsp;compression&nbsp;output:<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'targets'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'app\config\AllAsset'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'basePath'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'path/to/web'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'baseUrl'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'js'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'js/all-{hash}.js'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'css'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'css/all-{hash}.css'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Asset&nbsp;manager&nbsp;configuration:<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'assetManager'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'basePath'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">__DIR__</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'baseUrl'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;],<br />];</span></code></pre>
<p>In the above keys are <code>properties</code> of <code>AssetController</code>. <code>bundles</code> list contains bundles that should be compressed. These are typically what's used by application.
<code>targets</code> contains a list of bundles that define how resulting files will be written. In our case we're writing
everything to <code>path/to/web</code> that can be accessed like <code>http://example.com/</code> i.e. it is website root directory.</p>
<blockquote><p>Note: in the console environment some path aliases like '@webroot' and '@web' may not exist,
  so corresponding paths inside the configuration should be specified directly.</p>
</blockquote>
<p>JavaScript files are combined, compressed and written to <code>js/all-{hash}.js</code> where {hash} is replaced with the hash of
the resulting file.</p>
<p><code>jsCompressor</code> and <code>cssCompressor</code> are console commands or PHP callbacks, which should perform JavaScript and CSS files
compression correspondingly. You should adjust these values according to your environment.
By default Yii relies on <a href="https://developers.google.com/closure/compiler/">Closure Compiler</a> for JavaScript file compression,
and on <a href="https://github.com/yui/yuicompressor/">YUI Compressor</a>. You should install this utilities manually, if you wish to use them.</p>
<h3>Providing compression tools <a href="#providing-compression-tools" name="providing-compression-tools" class="hashlink">&para;</a></h3>
<p>The command relies on external compression tools that are not bundled with Yii so you need to provide CSS and JS
compressors which are correspondingly specified via <code>cssCompressor</code> and <code>jsCompression</code> properties. If compressor is
specified as a string it is treated as a shell command template which should contain two placeholders: <code>{from}</code> that
is replaced by source file name and <code>{to}</code> that is replaced by output file name. Another way to specify compressor is
to use any valid PHP callback.</p>
<p>By default for JavaScript compression Yii tries to use
<a href="https://developers.google.com/closure/compiler/">Google Closure compiler</a> that is expected to be in a file named
<code>compiler.jar</code>.</p>
<p>For CSS compression Yii assumes that <a href="https://github.com/yui/yuicompressor/">YUI Compressor</a> is looked up in a file
named <code>yuicompressor.jar</code>.</p>
<p>In order to compress both JavaScript and CSS, you need to download both tools and place them under the directory
containing your <code>yii</code> console bootstrap file. You also need to install JRE in order to run these tools.</p>
<p>You may customize the compression commands (e.g. changing the location of the jar files) in the <code>config.php</code> file
like the following,</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">return&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'cssCompressor'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'java&nbsp;-jar&nbsp;path.to.file\yuicompressor.jar&nbsp;&nbsp;--type&nbsp;css&nbsp;{from}&nbsp;-o&nbsp;{to}'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'jsCompressor'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'java&nbsp;-jar&nbsp;path.to.file\compiler.jar&nbsp;--js&nbsp;{from}&nbsp;--js_output_file&nbsp;{to}'</span><span style="color: #007700">,<br />];</span></code></pre>
<p>where <code>{from}</code> and <code>{to}</code> are tokens that will be replaced with the actual source and target file paths, respectively,
when the <code>asset</code> command is compressing every file.</p>
<h3>Performing compression <a href="#performing-compression" name="performing-compression" class="hashlink">&para;</a></h3>
<p>After configuration is adjusted you can run the <code>compress</code> action, using created config:</p>
<pre><code>yii asset /path/to/myapp/config.php /path/to/myapp/config/assets_compressed.php
</code></pre>
<p>Now processing takes some time and finally finished. You need to adjust your web application config to use compressed
assets file like the following:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #DD0000">'components'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;...<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'assetManager'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'bundles'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;require&nbsp;</span><span style="color: #DD0000">'/path/to/myapp/config/assets_compressed.php'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;],<br />],</span></code></pre>
<h2>Using asset converter <a href="#using-asset-converter" name="using-asset-converter" class="hashlink">&para;</a></h2>
<p>Instead of using CSS and JavaScript directly often developers are using their improved versions such as LESS or SCSS
for CSS or Microsoft TypeScript for JavaScript. Using these with Yii is easy.</p>
<p>First of all, corresponding compression tools should be installed and should be available from where <code>yii</code> console
bootstrap file is. The following lists file extensions and their corresponding conversion tool names that Yii converter
recognizes:</p>
<ul>
<li>LESS: <code>less</code> - <code>lessc</code></li>
<li>SCSS: <code>scss</code>, <code>sass</code> - <code>sass</code></li>
<li>Stylus: <code>styl</code> - <code>stylus</code></li>
<li>CoffeeScript: <code>coffee</code> - <code>coffee</code></li>
<li>TypeScript: <code>ts</code> - <code>tsc</code></li>
</ul>
<p>So if the corresponding tool is installed you can specify any of these in asset bundle:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">AppAsset&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">AssetBundle<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$basePath&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'@webroot'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$baseUrl&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'@web'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$css&nbsp;</span><span style="color: #007700">=&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'css/site.less'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;];<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$js&nbsp;</span><span style="color: #007700">=&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'js/site.ts'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;];<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$depends&nbsp;</span><span style="color: #007700">=&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'yii\web\YiiAsset'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'yii\bootstrap\BootstrapAsset'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;];<br />}</span></code></pre>
<p>In order to adjust conversion tool call parameters or add new ones you can use application config:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #FF8000">//&nbsp;...<br /></span><span style="color: #DD0000">'components'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'assetManager'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'converter'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'class'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'yii\web\AssetConverter'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'commands'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'less'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[</span><span style="color: #DD0000">'css'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'lessc&nbsp;{from}&nbsp;{to}&nbsp;--no-color'</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'ts'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[</span><span style="color: #DD0000">'js'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'tsc&nbsp;--out&nbsp;{to}&nbsp;{from}'</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;&nbsp;],<br />],</span></code></pre>
<p>In the above we've left two types of extra file extensions. First one is <code>less</code> that can be specified in <code>css</code> part
of an asset bundle. Conversion is performed via running <code>lessc {from} {to} --no-color</code> where <code>{from}</code> is replaced with
LESS file path while <code>{to}</code> is replaced with target CSS file path. Second one is <code>ts</code> that can be specified in <code>js</code> part
of an asset bundle. The command that is run during conversion is in the same format that is used for <code>less</code>.</p>
        <div class="toplink"><a href="#" class="h1" title="go to top"><span class="glyphicon glyphicon-arrow-up"></a></div>
    </div>
</div>


</div>

<footer class="footer">
        <p class="pull-right"><small>Page generated on Sat, 27 Sep 2014 11:18:41 +0200</small></p>
    Powered by <a href="http://www.yiiframework.com/" rel="external">Yii Framework</a></footer>

<script type="text/javascript">jQuery(document).ready(function () {
    var shiftWindow = function () { scrollBy(0, -50) };
    if (location.hash) shiftWindow();
    window.addEventListener("hashchange", shiftWindow);
var element = document.createElement("script");
element.src = "./jssearch.index.js";
document.body.appendChild(element);

var searchBox = $('#searchbox');

// focus the search field
searchBox.focus();

// search when typing in search field
searchBox.on("keyup", function(event) {
    var query = $(this).val();

    if (query == '' || event.which == 27) {
        $('#search-resultbox').hide();
        return;
    } else if (event.which == 13) {
        var selectedLink = $('#search-resultbox a.selected');
        if (selectedLink.length != 0) {
            document.location = selectedLink.attr('href');
            return;
        }
    } else if (event.which == 38 || event.which == 40) {
        $('#search-resultbox').show();

        var selected = $('#search-resultbox a.selected');
        if (selected.length == 0) {
            $('#search-results').find('a').first().addClass('selected');
        } else {
            var next;
            if (event.which == 40) {
                next = selected.parent().next().find('a').first();
            } else {
                next = selected.parent().prev().find('a').first();
            }
            if (next.length != 0) {
                var resultbox = $('#search-results');
                var position = next.position();

//              TODO scrolling is buggy and jumps around
//                resultbox.scrollTop(Math.floor(position.top));
//                console.log(position.top);

                selected.removeClass('selected');
                next.addClass('selected');
            }
        }

        return;
    }
    $('#search-resultbox').show();
    $('#search-results').html('<li><span class="no-results">No results</span></li>');

    var result = jssearch.search(query);

    if (result.length > 0) {
        var i = 0;
        var resHtml = '';

        for (var key in result) {
            if (i++ > 20) {
                break;
            }
            resHtml = resHtml +
            '<li><a href="' + result[key].file.u.substr(3) +'"><span class="title">' + result[key].file.t + '</span>' +
            '<span class="description">' + result[key].file.d + '</span></a></li>';
        }
        $('#search-results').html(resHtml);
    }
});

// hide the search results on ESC
$(document).on("keyup", function(event) { if (event.which == 27) { $('#search-resultbox').hide(); } });
// hide search results on click to document
$(document).bind('click', function (e) { $('#search-resultbox').hide(); });
// except the following:
searchBox.bind('click', function(e) { e.stopPropagation(); });
$('#search-resultbox').bind('click', function(e) { e.stopPropagation(); });

});</script></body>
</html>
